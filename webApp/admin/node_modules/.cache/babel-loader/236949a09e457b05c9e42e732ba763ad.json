{"ast":null,"code":"var _jsxFileName = \"/home/iassureit/Greisch/greisch/webApp/admin/src/StoreManagement/product/productList/component/ProductList.js\";\nimport React, { Component } from 'react';\nimport $ from 'jquery';\nimport axios from 'axios';\nimport ReactTable from \"react-table\";\nimport IAssureTable from \"../../ProductTable/IAssureTable.jsx\";\nimport swal from 'sweetalert';\nimport _ from 'underscore';\nimport '../css/productList.css';\naxios.defaults.baseURL = 'http://gangaexpressapi.iassureit.com';\naxios.defaults.headers.post['Content-Type'] = 'application/json';\n\nclass ProductList extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      tableHeading: {\n        \"productCode\": 'Product Code',\n        \"productName\": 'Product Name'\n      },\n      tableObjects: {\n        paginationApply: true,\n        searchApply: false,\n        deleteMethod: 'delete',\n        apiLink: '/api/products',\n        editUrl: '/add-product/'\n      },\n      startRange: 0,\n      limitRange: 10\n    };\n    window.scrollTo(0, 0);\n  }\n\n  componentWillReceiveProps(nextProps) {}\n\n  handleChange(event) {\n    const target = event.target;\n    const name = target.name;\n    this.setState({\n      [name]: event.target.value\n    });\n  }\n\n  componentDidMount() {\n    this.getCount();\n    this.getData(this.state.startRange, this.state.limitRange); // var a =[{key: 'a'},{key: 'v'}, {key: 'b'}]\n\n    var a = [1, 1, 2, 2, 'a', 'a', 'b'];\n    var b = a.filter((v, i, array) => {\n      console.log(v, array.indexOf(v) + '===' + i);\n      return array.indexOf(v) === i;\n    });\n    console.log('b', b); // var c= a.sort((a, b)=>{\n    //     console.log(a, b);\n    //     if(a.key > b.key){\n    //         return -1\n    //     }else{\n    //         return 1\n    //     }\n    //     return 0\n    // })\n    // console.log('c', c, a.reverse());\n    // let user = { \n    //     name: \"GFG\", \n    //     gfg1:() => { \n    //         console.log(\"hello \" + this.name); // no 'this' binding here \n    //     }, \n    //     gfg2(){        \n    //         console.log(\"Welcome to \" + this.name); // 'this' binding works here \n    //     }   \n    // }; \n    // user.gfg1(); \n    // user.gfg2(); \n  }\n\n  getCount() {\n    axios.get('/api/products/get/count').then(response => {\n      console.log('dataCount', response.data.dataCount);\n      this.setState({\n        dataCount: response.data.dataCount\n      });\n    }).catch(error => {\n      console.log('error', error);\n    });\n  }\n\n  getData(startRange, limitRange) {\n    var data = {\n      startRange: startRange,\n      limitRange: limitRange\n    };\n    axios.post('/api/products/get/list', data).then(response => {\n      console.log('response', response.data);\n      this.setState({\n        tableData: response.data\n      });\n    }).catch(error => {\n      console.log('error', error);\n    });\n  }\n\n  publishAllProducts(event) {\n    event.preventDefault();\n    var data = {\n      publishData: _.pluck(this.state.tableData, '_id')\n    };\n    console.log('tableData', data);\n    axios.put('/api/products/multiple', data).then(response => {\n      swal({\n        text: 'Product ed Successfully',\n        title: 'Product ed Successfully'\n      });\n    }).catch(error => {});\n    this.getData(this.state.startRange, this.state.limitRange);\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"container-fluid\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"formWrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139\n      },\n      __self: this\n    }, React.createElement(\"section\", {\n      className: \"content\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-xs-12 col-sm-12 pageContent\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-xs-12 col-sm-12 titleaddcontact\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-xs-12 col-sm-12 contactdeilsmg pageHeader\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144\n      },\n      __self: this\n    }, \"Product List\"), React.createElement(\"hr\", {\n      className: \"hr-head container-fluid row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"addRolesInWrap col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"searchProductFromList row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-lg-4 pull-left\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"publishAllProductsClient\",\n      \"aria-hidden\": \"true\",\n      \"data-toggle\": \"modal\",\n      \"data-target\": \"#publishProduct\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152\n      },\n      __self: this\n    }, \"Publish All Products\"), React.createElement(\"div\", {\n      className: \"modal fade col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      id: \"publishProduct\",\n      role: \"dialog\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \" modal-dialog adminModal adminModal-dialog col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"modal-content adminModal-content col-lg-8 col-lg-offset-2 col-md-8 col-md-offset-2 col-sm-10 col-sm-offset-1 col-xs-12 noPadding\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"modal-header adminModal-header col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      className: \"WightFont textAlignCenter col-lg-11 col-md-11 col-sm-11 col-xs-11\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159\n      },\n      __self: this\n    }, \"publish All Product\"), React.createElement(\"div\", {\n      className: \"adminCloseCircleDiv pull-right  col-lg-1 col-md-1 col-sm-1 col-xs-12 NOpadding-left NOpadding-right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      type: \"button\",\n      className: \"adminCloseButton\",\n      \"data-dismiss\": \"modal\",\n      \"data-target\": \"publishProduct\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161\n      },\n      __self: this\n    }, \"\\xD7\"))), React.createElement(\"div\", {\n      className: \"modal-body adminModal-body col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      className: \"blackLightFont textAlignCenter col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165\n      },\n      __self: this\n    }, \"Are you sure you want to publish all products?\")), React.createElement(\"div\", {\n      className: \"modal-footer adminModal-footer col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-lg-6 col-md-6 col-sm-6 col-xs-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      type: \"button\",\n      className: \"btn adminCancel-btn col-lg-4 col-lg-offset-1 col-md-4 col-md-offset-1 col-sm-8 col-sm-offset-1 col-xs-10 col-xs-offset-1\",\n      \"data-dismiss\": \"modal\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170\n      },\n      __self: this\n    }, \"CANCEL\")), React.createElement(\"div\", {\n      className: \"col-lg-6 col-md-6 col-sm-6 col-xs-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      onClick: this.publishAllProducts.bind(this),\n      type: \"button\",\n      className: \"btn adminFinish-btn col-lg-4 col-lg-offset-7 col-md-4 col-md-offset-7 col-sm-8 col-sm-offset-3 col-xs-10 col-xs-offset-1\",\n      \"data-dismiss\": \"modal\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173\n      },\n      __self: this\n    }, \"PUBLISH\"))))))))), React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182\n      },\n      __self: this\n    }, React.createElement(IAssureTable, {\n      tableHeading: this.state.tableHeading,\n      twoLevelHeader: this.state.twoLevelHeader,\n      dataCount: this.state.dataCount,\n      tableData: this.state.tableData,\n      getData: this.getData.bind(this),\n      tableObjects: this.state.tableObjects,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183\n      },\n      __self: this\n    }))))))));\n  }\n\n}\n\nexport default ProductList; // ShopProductList = withTracker(props => {\n//     var userId = Meteor.userId();\n//     var productData = [];\n//     const vendorHandle = Meteor.subscribe(\"allSupplierList\");\n//     const VendorData = Suppliers.findOne({\"OwnerId\":userId});\n//     console.log('VendorData',VendorData);\n//     const loading = !vendorHandle.ready();\n//     var VendorId = VendorData ? VendorData._id : '';\n//     console.log('VendorId',VendorId);\n//     const productHandle     = Meteor.subscribe(\"productShopPublish\");\n//     if(Roles.userIsInRole(Meteor.userId(), ['Vendor'])){\n//         productData       = ProductShop.find({vendorId:VendorId}).fetch();\n//     }else{\n//         productData       = ProductShop.find({}).fetch();\n//     }\n//     const loading1          = !productHandle.ready();\n//     console.log('productData',productData);\n//     return {\n//         loading,\n//         productData\n//     };    \n// })(ShopProductList);","map":{"version":3,"sources":["/home/iassureit/Greisch/greisch/webApp/admin/src/StoreManagement/product/productList/component/ProductList.js"],"names":["React","Component","$","axios","ReactTable","IAssureTable","swal","_","defaults","baseURL","headers","post","ProductList","constructor","props","state","tableHeading","tableObjects","paginationApply","searchApply","deleteMethod","apiLink","editUrl","startRange","limitRange","window","scrollTo","componentWillReceiveProps","nextProps","handleChange","event","target","name","setState","value","componentDidMount","getCount","getData","a","b","filter","v","i","array","console","log","indexOf","get","then","response","data","dataCount","catch","error","tableData","publishAllProducts","preventDefault","publishData","pluck","put","text","title","render","bind","twoLevelHeader"],"mappings":"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","sourcesContent":["import React, { Component }   from 'react';\nimport $                      from 'jquery';\nimport axios                  from 'axios';\nimport ReactTable             from \"react-table\";\nimport IAssureTable           from \"../../ProductTable/IAssureTable.jsx\";\nimport swal                   from 'sweetalert';\nimport _                      from 'underscore';\nimport '../css/productList.css';\n\naxios.defaults.baseURL = 'http://gangaexpressapi.iassureit.com';\naxios.defaults.headers.post['Content-Type'] = 'application/json';\n\nclass ProductList extends Component{\n    constructor(props) {\n        super(props);\n        this.state = {\n            tableHeading :{\n                \"productCode\" : 'Product Code',\n                \"productName\" : 'Product Name',\n            },\n            tableObjects : {\n                paginationApply : true,\n                searchApply     : false,\n                deleteMethod    : 'delete',\n                apiLink         : '/api/products',\n                editUrl         : '/add-product/'\n            },\n            startRange : 0,\n            limitRange : 10\n        };\n        window.scrollTo(0, 0);\n    }\n\n\n    componentWillReceiveProps(nextProps) {\n        \n    }\n\n\n    handleChange(event){\n        const target = event.target;\n        const name   = target.name;\n        this.setState({\n            [name]: event.target.value,\n        });\n    }\n\n\n    componentDidMount() {\n        this.getCount();\n        this.getData(this.state.startRange, this.state.limitRange);\n\n        // var a =[{key: 'a'},{key: 'v'}, {key: 'b'}]\n        var a = [1,1,2,2,'a','a','b'];\n        var b = a.filter((v, i, array)=>{ \n            console.log(v , array.indexOf(v) +'==='+ i);\n            return array.indexOf(v) === i\n        });\n        console.log('b', b);\n        // var c= a.sort((a, b)=>{\n        //     console.log(a, b);\n        //     if(a.key > b.key){\n        //         return -1\n        //     }else{\n        //         return 1\n        //     }\n        //     return 0\n        // })\n        // console.log('c', c, a.reverse());\n\n        // let user = { \n        //     name: \"GFG\", \n        //     gfg1:() => { \n        //         console.log(\"hello \" + this.name); // no 'this' binding here \n        //     }, \n        //     gfg2(){        \n        //         console.log(\"Welcome to \" + this.name); // 'this' binding works here \n        //     }   \n        // }; \n        // user.gfg1(); \n        // user.gfg2(); \n    }\n    getCount(){\n        axios.get('/api/products/get/count')\n        .then((response)=>{\n            console.log('dataCount', response.data.dataCount);\n            this.setState({\n                dataCount : response.data.dataCount\n            })\n        })\n        .catch((error)=>{\n            console.log('error', error);\n        })\n    }\n    getData(startRange, limitRange){\n        var data = {\n            startRange : startRange,\n            limitRange : limitRange\n        }\n        axios.post('/api/products/get/list', data)\n        .then((response)=>{\n            console.log('response', response.data)\n            this.setState({\n                tableData : response.data\n            })\n        })\n        .catch((error)=>{\n            console.log('error', error);\n        })\n    }\n\n    publishAllProducts(event){\n        event.preventDefault();        \n        \n\n        var data ={\n            publishData:  _.pluck(this.state.tableData, '_id')\n        };\n        console.log('tableData', data)\n        axios.put('/api/products/multiple', data)\n        .then((response)=>{\n            \n            swal({\n                text: 'Product ed Successfully',\n                title: 'Product ed Successfully',\n            });\n        })\n        .catch((error)=>{\n\n        });\n        this.getData(this.state.startRange, this.state.limitRange);\n    }\n\n\n    render(){\n        return(\n            <div className=\"container-fluid\">\n                <div className=\"row\">\n                    <div className=\"formWrapper\">\n                        <section className=\"content\">\n                            <div className=\"col-lg-12 col-md-12 col-xs-12 col-sm-12 pageContent\">\n                                <div className=\"row\">\n                                    <div className=\"col-lg-12 col-md-12 col-xs-12 col-sm-12 titleaddcontact\">\n                                        <div className=\"col-lg-12 col-md-12 col-xs-12 col-sm-12 contactdeilsmg pageHeader\">\n                                            Product List                  \n                                        </div>\n                                        <hr className=\"hr-head container-fluid row\"/>\n                                    </div>\n                                    <div className=\"addRolesInWrap col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n                                        <div className=\"searchProductFromList row\">\n                                            <div className=\"col-lg-4 pull-left\">\n                                                <div className=\"publishAllProductsClient\" aria-hidden=\"true\" data-toggle=\"modal\" data-target={\"#publishProduct\"}>\n                                                    Publish All Products\n                                                </div>\n                                                <div className=\"modal fade col-lg-12 col-md-12 col-sm-12 col-xs-12\" id={\"publishProduct\"} role=\"dialog\">\n                                                    <div className=\" modal-dialog adminModal adminModal-dialog col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n                                                        <div className=\"modal-content adminModal-content col-lg-8 col-lg-offset-2 col-md-8 col-md-offset-2 col-sm-10 col-sm-offset-1 col-xs-12 noPadding\">\n                                                            <div className=\"modal-header adminModal-header col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n                                                                <h4 className=\"WightFont textAlignCenter col-lg-11 col-md-11 col-sm-11 col-xs-11\">publish All Product</h4>\n                                                                <div className=\"adminCloseCircleDiv pull-right  col-lg-1 col-md-1 col-sm-1 col-xs-12 NOpadding-left NOpadding-right\">\n                                                                    <button type=\"button\" className=\"adminCloseButton\" data-dismiss=\"modal\" data-target={\"publishProduct\"}>&times;</button>\n                                                                </div>\n                                                            </div>\n                                                            <div className=\"modal-body adminModal-body col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n                                                                <h4 className=\"blackLightFont textAlignCenter col-lg-12 col-md-12 col-sm-12 col-xs-12\">Are you sure you want to publish all products?</h4>\n                                                            </div>\n\n                                                            <div className=\"modal-footer adminModal-footer col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n                                                                <div className=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\n                                                                    <button type=\"button\" className=\"btn adminCancel-btn col-lg-4 col-lg-offset-1 col-md-4 col-md-offset-1 col-sm-8 col-sm-offset-1 col-xs-10 col-xs-offset-1\" data-dismiss=\"modal\">CANCEL</button>\n                                                                </div>\n                                                                <div className=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\n                                                                    <button onClick={this.publishAllProducts.bind(this)} type=\"button\" className=\"btn adminFinish-btn col-lg-4 col-lg-offset-7 col-md-4 col-md-offset-7 col-sm-8 col-sm-offset-3 col-xs-10 col-xs-offset-1\" data-dismiss=\"modal\">PUBLISH</button>\n                                                                </div>\n                                                            </div>\n                                                        </div>\n                                                    </div>\n                                                </div>\n                                            </div>\n                                        </div>\n                                    </div>\n                                    <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n                                        <IAssureTable \n                                        tableHeading={this.state.tableHeading}\n                                        twoLevelHeader={this.state.twoLevelHeader} \n                                        dataCount={this.state.dataCount}\n                                        tableData={this.state.tableData}\n                                        getData={this.getData.bind(this)}\n                                        tableObjects={this.state.tableObjects}\n                                        />\n                                    </div>\n                                </div>\n                            </div>\n                        </section>\n                    </div>\n                </div>\n            </div>\n\n            );\n        }\n    }\nexport default ProductList ;\n\n// ShopProductList = withTracker(props => {\n//     var userId = Meteor.userId();\n//     var productData = [];\n//     const vendorHandle = Meteor.subscribe(\"allSupplierList\");\n//     const VendorData = Suppliers.findOne({\"OwnerId\":userId});\n//     console.log('VendorData',VendorData);\n//     const loading = !vendorHandle.ready();\n\n//     var VendorId = VendorData ? VendorData._id : '';\n//     console.log('VendorId',VendorId);\n//     const productHandle     = Meteor.subscribe(\"productShopPublish\");\n//     if(Roles.userIsInRole(Meteor.userId(), ['Vendor'])){\n//         productData       = ProductShop.find({vendorId:VendorId}).fetch();\n//     }else{\n//         productData       = ProductShop.find({}).fetch();\n//     }\n//     const loading1          = !productHandle.ready();\n//     console.log('productData',productData);\n//     return {\n//         loading,\n//         productData\n//     };    \n// })(ShopProductList);"]},"metadata":{},"sourceType":"module"}