{"ast":null,"code":"var _jsxFileName = \"/home/iassureit/wealthyvia/webApp/admin/src/coreAdmin/dashboardReports/salesTransactionReport/SalesTransactionReport.js\";\nimport React, { Component } from 'react';\nimport { render } from 'react-dom';\nimport { BrowserRouter, Route } from 'react-router-dom';\nimport { Switch, Link, location } from 'react-router-dom';\nimport moment from \"moment\";\nimport axios from \"axios\";\nimport IAssureTable from './IAssureTable.js';\nimport $ from \"jquery\";\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport 'font-awesome/css/font-awesome.min.css';\nimport './../dashboardReport.css';\n\nclass SalesTransactionReport extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      menu: \"\",\n      typeUser: \"Active\",\n      startDate: moment().format(\"YYYY-MM-DD\"),\n      endDate: moment().format(\"YYYY-MM-DD\"),\n      \"tableHeading\": {\n        userName: \"Name of User\",\n        packageName: \"Package Name\",\n        amount: \"Amount\",\n        totalChkIn: \"Total Checkins\",\n        checkInLeft: \"Checkins Left\",\n        packageStartDate: \"Package Purchase Date\",\n        packageEndDate: \"Package End Date\"\n      },\n      \"tableObjects\": {\n        // deleteMethod              : 'delete',\n        // apiLink                   : '/api/category/',\n        paginationApply: true,\n        searchApply: true // editUrl                   : '/category-management/'\n\n      },\n      \"startRange\": 0,\n      \"limitRange\": 10,\n      \"twolevelHeader\": {\n        apply: false\n      },\n      tableData: [],\n      completeDataCount: 10\n    };\n  }\n\n  componentDidMount() {\n    this.getData(this.state.startRange, this.state.limitRange);\n  }\n\n  handleChange(event) {\n    const target = event.target;\n    const name = target.name;\n    console.log(\"D.....\", event.target.value);\n    this.setState({\n      [name]: event.target.value\n    }, () => {\n      this.getData(this.state.startRange, this.state.limitRange);\n    });\n  }\n\n  getData(startRange, limitRange) {\n    var startDate = this.state.startDate === moment().format(\"YYYY-MM-DD\") ? this.state.startDate : moment(this.state.startDate).format(\"YYYY-MM-DD\");\n    var endDate = this.state.endDate === moment().format(\"YYYY-MM-DD\") ? this.state.endDate : moment(this.state.endDate).format(\"YYYY-MM-DD\");\n    var typeUser = this.state.typeUser;\n    console.log(startDate, \"<......SED......>\", endDate);\n\n    if (startDate && endDate) {\n      axios.get('/api/report/get/sales/' + startDate + '/' + endDate + '/' + typeUser + '/' + startRange + '/' + limitRange).then(response => {\n        console.log(\"sales............>\", response.data);\n\n        if (response.data.message !== \"Data not found\") {\n          var tableData = response.data.map((a, i) => {\n            return {\n              // \"_id\" : a._id ? a._id : 1,\n              userName: a.userName ? a.userName : '-',\n              packageName: a.packageName ? a.packageName : '-',\n              amount: a.amount >= 0 ? a.amount : '-',\n              totalChkIn: a.totalChkIn ? a.totalChkIn : '-',\n              checkInLeft: a.checkInLeft >= 0 ? a.checkInLeft : '0',\n              packageStartDate: a.packageStartDate ? moment(a.packageStartDate).format('DD-MM-YYYY') : '-',\n              packageEndDate: a.packageEndDate ? moment(a.packageEndDate).format('DD-MM-YYYY') : '-'\n            };\n          });\n        }\n\n        this.setState({\n          completeDataCount: response.data.length > 0 ? response.data.length : 10,\n          tableData: tableData\n        }, () => {\n          console.log('tableData', this.state.tableData);\n        });\n      }).catch(function (error) {\n        console.log(error);\n      });\n    }\n\n    console.log(\"end\");\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, this.state.menu == \"\" ? React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12 text-center custTableHead\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }, \"Sales Transaction Report\"), React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12 row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-lg-4 col-md-4 col-sm-12 col-xs-12 NOpadding\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12 marginTop17 NOpadding\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, \"Activity\"), React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12 NOpadding\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }, React.createElement(\"select\", {\n      onChange: this.handleChange.bind(this),\n      value: this.state.typeUser,\n      id: \"typeUser\",\n      ref: \"typeUser\",\n      name: \"typeUser\",\n      className: \"col-lg-12 col-md-12 col-sm-6 col-xs-12  noPadding  form-control\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      value: \"Not Selected\",\n      disabled: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }, \"--Select--\"), React.createElement(\"option\", {\n      value: \"Active\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }, \"Active\"), React.createElement(\"option\", {\n      value: \"Inactive\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    }, \"Inactive\")))), React.createElement(\"div\", {\n      className: \"col-lg-3 col-md-4 col-sm-12 col-xs-12 NOpadding\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"col-lg-2 col-md-4 col-sm-12 col-xs-12 NOpadding\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12 marginTop17 NOpadding\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    }, \"Start Date\"), React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12 NOpadding\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"date\",\n      className: \"col-lg-6 col-md-6 col-sm-6 col-xs-6 noPadding  form-control\",\n      name: \"startDate\",\n      ref: \"startDate\",\n      value: this.state.startDate,\n      style: {\n        fontFamily: 'Montserrat-Regular'\n      },\n      onChange: this.handleChange.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"col-lg-1 col-md-4 col-sm-12 col-xs-12 NOpadding\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"col-lg-2 col-md-4 col-sm-12 col-xs-12 NOpadding\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12 marginTop17 NOpadding\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136\n      },\n      __self: this\n    }, \"End Date\"), React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12 NOpadding\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"date\",\n      className: \"col-lg-6 col-md-6 col-sm-6 col-xs-6 noPadding  form-control\",\n      name: \"endDate\",\n      ref: \"endDate\",\n      value: this.state.endDate,\n      style: {\n        fontFamily: 'Montserrat-Regular'\n      },\n      onChange: this.handleChange.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138\n      },\n      __self: this\n    })))), React.createElement(IAssureTable, {\n      tableHeading: this.state.tableHeading,\n      twoLevelHeader: this.state.twoLevelHeader,\n      dataCount: this.state.completeDataCount,\n      tableData: this.state.tableData,\n      getData: this.getData.bind(this),\n      tableObjects: this.state.tableObjects,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      rowSpan: \"4\",\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12 text-center custTableFoot\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153\n      },\n      __self: this\n    })) : React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12 text-center bgImgWt\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: \"/images/cofficLoader.gif\",\n      alt: \"Logo_img\",\n      height: \"15%\",\n      width: \"15%\",\n      className: \"imgHt\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159\n      },\n      __self: this\n    }))));\n  }\n\n}\n\nexport default SalesTransactionReport;","map":{"version":3,"sources":["/home/iassureit/wealthyvia/webApp/admin/src/coreAdmin/dashboardReports/salesTransactionReport/SalesTransactionReport.js"],"names":["React","Component","render","BrowserRouter","Route","Switch","Link","location","moment","axios","IAssureTable","$","SalesTransactionReport","constructor","props","state","menu","typeUser","startDate","format","endDate","userName","packageName","amount","totalChkIn","checkInLeft","packageStartDate","packageEndDate","paginationApply","searchApply","apply","tableData","completeDataCount","componentDidMount","getData","startRange","limitRange","handleChange","event","target","name","console","log","value","setState","get","then","response","data","message","map","a","i","length","catch","error","bind","fontFamily","tableHeading","twoLevelHeader","tableObjects"],"mappings":";AAAA,OAAOA,KAAP,IAAcC,SAAd,QAAqC,OAArC;AACA,SAASC,MAAT,QAAqC,WAArC;AACA,SAASC,aAAT,EAAuBC,KAAvB,QAAqC,kBAArC;AACA,SAASC,MAAT,EAAgBC,IAAhB,EAAqBC,QAArB,QAAqC,kBAArC;AACA,OAAOC,MAAP,MAAqC,QAArC;AACA,OAAOC,KAAP,MAAqC,OAArC;AACA,OAAOC,YAAP,MAAqC,mBAArC;AACA,OAAOC,CAAP,MAAqC,QAArC;AACA,OAAO,sCAAP;AACA,OAAO,uCAAP;AACA,OAAO,0BAAP;;AAEA,MAAMC,sBAAN,SAAqCX,SAArC,CAA8C;AAE5CY,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa;AACXC,MAAAA,IAAI,EAAG,EADI;AAEXC,MAAAA,QAAQ,EAAG,QAFA;AAGXC,MAAAA,SAAS,EAAGV,MAAM,GAAGW,MAAT,CAAgB,YAAhB,CAHD;AAIXC,MAAAA,OAAO,EAAGZ,MAAM,GAAGW,MAAT,CAAgB,YAAhB,CAJC;AAMX,sBAAgB;AACdE,QAAAA,QAAQ,EAAU,cADJ;AAEdC,QAAAA,WAAW,EAAO,cAFJ;AAGdC,QAAAA,MAAM,EAAY,QAHJ;AAIdC,QAAAA,UAAU,EAAQ,gBAJJ;AAKdC,QAAAA,WAAW,EAAO,eALJ;AAMdC,QAAAA,gBAAgB,EAAE,uBANJ;AAOdC,QAAAA,cAAc,EAAI;AAPJ,OANL;AAeZ,sBAA8B;AACrB;AACA;AACAC,QAAAA,eAAe,EAAa,IAHP;AAIrBC,QAAAA,WAAW,EAAiB,IAJP,CAKrB;;AALqB,OAflB;AAsBX,oBAAmB,CAtBR;AAuBX,oBAAmB,EAvBR;AAwBX,wBAAkB;AACAC,QAAAA,KAAK,EAAC;AADN,OAxBP;AA2BZC,MAAAA,SAAS,EAAG,EA3BA;AA4BZC,MAAAA,iBAAiB,EAAG;AA5BR,KAAb;AA8BD;;AAEDC,EAAAA,iBAAiB,GAAE;AACjB,SAAKC,OAAL,CAAa,KAAKnB,KAAL,CAAWoB,UAAxB,EAAmC,KAAKpB,KAAL,CAAWqB,UAA9C;AACD;;AAEDC,EAAAA,YAAY,CAACC,KAAD,EAAO;AACjB,UAAMC,MAAM,GAAGD,KAAK,CAACC,MAArB;AACA,UAAMC,IAAI,GAAGD,MAAM,CAACC,IAApB;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAqBJ,KAAK,CAACC,MAAN,CAAaI,KAAlC;AACA,SAAKC,QAAL,CAAc;AACZ,OAACJ,IAAD,GAAOF,KAAK,CAACC,MAAN,CAAaI;AADR,KAAd,EAEE,MAAI;AACJ,WAAKT,OAAL,CAAa,KAAKnB,KAAL,CAAWoB,UAAxB,EAAoC,KAAKpB,KAAL,CAAWqB,UAA/C;AACD,KAJD;AAKD;;AAEDF,EAAAA,OAAO,CAACC,UAAD,EAAaC,UAAb,EAAwB;AAC7B,QAAIlB,SAAS,GAAG,KAAKH,KAAL,CAAWG,SAAX,KAAyBV,MAAM,GAAGW,MAAT,CAAgB,YAAhB,CAAzB,GAAuD,KAAKJ,KAAL,CAAWG,SAAlE,GAA4EV,MAAM,CAAC,KAAKO,KAAL,CAAWG,SAAZ,CAAN,CAA6BC,MAA7B,CAAoC,YAApC,CAA5F;AACA,QAAIC,OAAO,GAAG,KAAKL,KAAL,CAAWK,OAAX,KAAuBZ,MAAM,GAAGW,MAAT,CAAgB,YAAhB,CAAvB,GAAqD,KAAKJ,KAAL,CAAWK,OAAhE,GAAwEZ,MAAM,CAAC,KAAKO,KAAL,CAAWK,OAAZ,CAAN,CAA2BD,MAA3B,CAAkC,YAAlC,CAAtF;AACA,QAAIF,QAAQ,GAAG,KAAKF,KAAL,CAAWE,QAA1B;AACAwB,IAAAA,OAAO,CAACC,GAAR,CAAYxB,SAAZ,EAAsB,mBAAtB,EAA0CE,OAA1C;;AACI,QAAGF,SAAS,IAAEE,OAAd,EAAsB;AACpBX,MAAAA,KAAK,CACJoC,GADD,CACK,2BAAyB3B,SAAzB,GAAmC,GAAnC,GAAuCE,OAAvC,GAA+C,GAA/C,GAAmDH,QAAnD,GAA4D,GAA5D,GAAgEkB,UAAhE,GAA2E,GAA3E,GAA+EC,UADpF,EAECU,IAFD,CAEOC,QAAD,IAAY;AACdN,QAAAA,OAAO,CAACC,GAAR,CAAY,oBAAZ,EAAiCK,QAAQ,CAACC,IAA1C;;AACA,YAAGD,QAAQ,CAACC,IAAT,CAAcC,OAAd,KAA0B,gBAA7B,EAA8C;AAC5C,cAAIlB,SAAS,GAAGgB,QAAQ,CAACC,IAAT,CAAcE,GAAd,CAAkB,CAACC,CAAD,EAAIC,CAAJ,KAAQ;AACxC,mBAAO;AACL;AACA/B,cAAAA,QAAQ,EAAU8B,CAAC,CAAC9B,QAAF,GAAa8B,CAAC,CAAC9B,QAAf,GAA0B,GAFvC;AAGLC,cAAAA,WAAW,EAAO6B,CAAC,CAAC7B,WAAF,GAAgB6B,CAAC,CAAC7B,WAAlB,GAAgC,GAH7C;AAILC,cAAAA,MAAM,EAAY4B,CAAC,CAAC5B,MAAF,IAAY,CAAZ,GAAe4B,CAAC,CAAC5B,MAAjB,GAA0B,GAJvC;AAKLC,cAAAA,UAAU,EAAQ2B,CAAC,CAAC3B,UAAF,GAAc2B,CAAC,CAAC3B,UAAhB,GAA6B,GAL1C;AAMLC,cAAAA,WAAW,EAAO0B,CAAC,CAAC1B,WAAF,IAAiB,CAAjB,GAAoB0B,CAAC,CAAC1B,WAAtB,GAAoC,GANjD;AAOLC,cAAAA,gBAAgB,EAAEyB,CAAC,CAACzB,gBAAF,GAAqBlB,MAAM,CAAC2C,CAAC,CAACzB,gBAAH,CAAN,CAA2BP,MAA3B,CAAkC,YAAlC,CAArB,GAAuE,GAPpF;AAQLQ,cAAAA,cAAc,EAAIwB,CAAC,CAACxB,cAAF,GAAmBnB,MAAM,CAAC2C,CAAC,CAACxB,cAAH,CAAN,CAAyBR,MAAzB,CAAgC,YAAhC,CAAnB,GAAmE;AARhF,aAAP;AAUD,WAXe,CAAhB;AAYD;;AAED,aAAKyB,QAAL,CAAc;AACVZ,UAAAA,iBAAiB,EAAGe,QAAQ,CAACC,IAAT,CAAcK,MAAd,GAAqB,CAArB,GAAuBN,QAAQ,CAACC,IAAT,CAAcK,MAArC,GAA4C,EADtD;AAEVtB,UAAAA,SAAS,EAAGA;AAFF,SAAd,EAGI,MAAI;AACNU,UAAAA,OAAO,CAACC,GAAR,CAAY,WAAZ,EAAyB,KAAK3B,KAAL,CAAWgB,SAApC;AACC,SALH;AAOH,OA1BD,EA2BCuB,KA3BD,CA2BO,UAAUC,KAAV,EAAiB;AACtBd,QAAAA,OAAO,CAACC,GAAR,CAAYa,KAAZ;AACD,OA7BD;AA8BD;;AACLd,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAZ;AAED;;AAEDxC,EAAAA,MAAM,GAAE;AACN,WACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG,KAAKa,KAAL,CAAWC,IAAX,IAAiB,EAAjB,GACD;AAAK,MAAA,SAAS,EAAC,yCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,SAAS,EAAC,mEAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kCADF,EAEE;AAAK,MAAA,SAAS,EAAC,6CAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACA;AAAK,MAAA,SAAS,EAAC,yCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,SAAS,EAAC,iDAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAO,MAAA,SAAS,EAAC,+DAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,EAEE;AAAK,MAAA,SAAS,EAAC,mDAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAQ,MAAA,QAAQ,EAAE,KAAKqB,YAAL,CAAkBmB,IAAlB,CAAuB,IAAvB,CAAlB;AAAgD,MAAA,KAAK,EAAE,KAAKzC,KAAL,CAAWE,QAAlE;AAA4E,MAAA,EAAE,EAAC,UAA/E;AAA0F,MAAA,GAAG,EAAC,UAA9F;AAAyG,MAAA,IAAI,EAAC,UAA9G;AAAyH,MAAA,SAAS,EAAC,iEAAnI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAQ,MAAA,KAAK,EAAC,cAAd;AAA6B,MAAA,QAAQ,MAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADF,EAEE;AAAQ,MAAA,KAAK,EAAC,QAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFF,EAGE;AAAQ,MAAA,KAAK,EAAC,UAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAHF,CADF,CAFF,CADF,EAWE;AAAK,MAAA,SAAS,EAAC,iDAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAXF,EAaE;AAAK,MAAA,SAAS,EAAC,iDAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAO,MAAA,SAAS,EAAC,+DAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADF,EAEE;AAAK,MAAA,SAAS,EAAC,mDAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAO,MAAA,IAAI,EAAC,MAAZ;AAAmB,MAAA,SAAS,EAAC,6DAA7B;AACG,MAAA,IAAI,EAAC,WADR;AACoB,MAAA,GAAG,EAAC,WADxB;AACoC,MAAA,KAAK,EAAE,KAAKF,KAAL,CAAWG,SADtD;AACiE,MAAA,KAAK,EAAE;AAACuC,QAAAA,UAAU,EAAC;AAAZ,OADxE;AAEG,MAAA,QAAQ,EAAE,KAAKpB,YAAL,CAAkBmB,IAAlB,CAAuB,IAAvB,CAFb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CAFF,CAbF,EAqBE;AAAK,MAAA,SAAS,EAAC,iDAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MArBF,EAuBE;AAAK,MAAA,SAAS,EAAC,iDAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAO,MAAA,SAAS,EAAC,+DAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,EAEE;AAAK,MAAA,SAAS,EAAC,mDAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG;AAAO,MAAA,IAAI,EAAC,MAAZ;AAAmB,MAAA,SAAS,EAAC,6DAA7B;AACE,MAAA,IAAI,EAAC,SADP;AACiB,MAAA,GAAG,EAAC,SADrB;AAC+B,MAAA,KAAK,EAAE,KAAKzC,KAAL,CAAWK,OADjD;AAC0D,MAAA,KAAK,EAAE;AAACqC,QAAAA,UAAU,EAAC;AAAZ,OADjE;AAEE,MAAA,QAAQ,EAAE,KAAKpB,YAAL,CAAkBmB,IAAlB,CAAuB,IAAvB,CAFZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADH,CAFF,CAvBF,CADA,EAiCE,oBAAC,YAAD;AACE,MAAA,YAAY,EAAE,KAAKzC,KAAL,CAAW2C,YAD3B;AAEE,MAAA,cAAc,EAAE,KAAK3C,KAAL,CAAW4C,cAF7B;AAGE,MAAA,SAAS,EAAE,KAAK5C,KAAL,CAAWiB,iBAHxB;AAIE,MAAA,SAAS,EAAE,KAAKjB,KAAL,CAAWgB,SAJxB;AAKE,MAAA,OAAO,EAAE,KAAKG,OAAL,CAAasB,IAAb,CAAkB,IAAlB,CALX;AAME,MAAA,YAAY,EAAE,KAAKzC,KAAL,CAAW6C,YAN3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAjCF,CAFF,EA4CE;AAAK,MAAA,OAAO,EAAC,GAAb;AAAiB,MAAA,SAAS,EAAC,mEAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MA5CF,CADC,GAiDD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAK,MAAA,SAAS,EAAC,6DAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,GAAG,EAAC,0BAAT;AAAoC,MAAA,GAAG,EAAC,UAAxC;AAAmD,MAAA,MAAM,EAAC,KAA1D;AAAgE,MAAA,KAAK,EAAC,KAAtE;AAA4E,MAAA,SAAS,EAAC,OAAtF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CADJ,CAlDF,CADA;AA2DD;;AAxJ2C;;AA0J9C,eAAehD,sBAAf","sourcesContent":["import React,{Component}        from 'react';\nimport { render }               from 'react-dom';\nimport { BrowserRouter,Route }  from 'react-router-dom';\nimport { Switch,Link,location } from 'react-router-dom';\nimport moment                   from \"moment\";\nimport axios                    from \"axios\";\nimport IAssureTable             from './IAssureTable.js'\nimport $                        from \"jquery\";\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport 'font-awesome/css/font-awesome.min.css';\nimport './../dashboardReport.css';\n\nclass SalesTransactionReport extends Component{\n  \n  constructor(props) {\n    super(props);\n    this.state = {\n      menu : \"\",\n      typeUser : \"Active\",\n      startDate : moment().format(\"YYYY-MM-DD\"),\n      endDate : moment().format(\"YYYY-MM-DD\"),\n\n      \"tableHeading\" :{\n        userName        : \"Name of User\",\n        packageName     : \"Package Name\",\n        amount          : \"Amount\",\n        totalChkIn      : \"Total Checkins\",\n        checkInLeft     : \"Checkins Left\",\n        packageStartDate: \"Package Purchase Date\",\n        packageEndDate  : \"Package End Date\",\n     },\n     \"tableObjects\"              : {\n              // deleteMethod              : 'delete',\n              // apiLink                   : '/api/category/',\n              paginationApply           : true,\n              searchApply               : true,\n              // editUrl                   : '/category-management/'\n            },\n      \"startRange\"     : 0,\n      \"limitRange\"     : 10,\n      \"twolevelHeader\" :{\n                        apply:false,\n                        },\n     tableData : [],\n     completeDataCount : 10,\n    }\n  }\n\n  componentDidMount(){\n    this.getData(this.state.startRange,this.state.limitRange)  \n  } \n\n  handleChange(event){\n    const target = event.target;\n    const name = target.name;\n    console.log(\"D.....\",event.target.value)\n    this.setState({\n      [name]:event.target.value,\n    },()=>{\n      this.getData(this.state.startRange, this.state.limitRange);\n    });\n  }\n\n  getData(startRange, limitRange){   \n    var startDate = this.state.startDate === moment().format(\"YYYY-MM-DD\")?this.state.startDate:moment(this.state.startDate).format(\"YYYY-MM-DD\");\n    var endDate = this.state.endDate === moment().format(\"YYYY-MM-DD\")?this.state.endDate:moment(this.state.endDate).format(\"YYYY-MM-DD\");\n    var typeUser = this.state.typeUser;\n    console.log(startDate,\"<......SED......>\",endDate);\n        if(startDate&&endDate){\n          axios\n          .get('/api/report/get/sales/'+startDate+'/'+endDate+'/'+typeUser+'/'+startRange+'/'+limitRange)\n          .then((response)=>{\n              console.log(\"sales............>\",response.data);\n              if(response.data.message !== \"Data not found\"){\n                var tableData = response.data.map((a, i)=>{\n                  return {\n                    // \"_id\" : a._id ? a._id : 1,\n                    userName        : a.userName ? a.userName : '-',\n                    packageName     : a.packageName ? a.packageName : '-',\n                    amount          : a.amount >= 0? a.amount : '-',\n                    totalChkIn      : a.totalChkIn? a.totalChkIn : '-',\n                    checkInLeft     : a.checkInLeft >= 0? a.checkInLeft : '0',\n                    packageStartDate: a.packageStartDate ? moment(a.packageStartDate).format('DD-MM-YYYY') : '-',\n                    packageEndDate  : a.packageEndDate ? moment(a.packageEndDate).format('DD-MM-YYYY') : '-',\n                  }\n                })\n              }\n\n              this.setState({\n                  completeDataCount : response.data.length>0?response.data.length:10,\n                  tableData : tableData,          \n                },()=>{\n                console.log('tableData', this.state.tableData);\n                })\n\n          })\n          .catch(function (error) {\n            console.log(error);\n          })\n        } \n    console.log(\"end\")\n    \n  }\n    \n  render(){\n    return(\n    <div>\n      {this.state.menu==\"\"?\n      <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n        <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 text-center custTableHead\">Sales Transaction Report</div>\n        <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 row\">\n        <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n          <div className=\"col-lg-4 col-md-4 col-sm-12 col-xs-12 NOpadding\">\n            <label className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 marginTop17 NOpadding\">Activity</label>\n            <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 NOpadding\">\n              <select onChange={this.handleChange.bind(this)} value={this.state.typeUser} id=\"typeUser\" ref=\"typeUser\" name=\"typeUser\" className=\"col-lg-12 col-md-12 col-sm-6 col-xs-12  noPadding  form-control\">\n                <option value=\"Not Selected\" disabled>--Select--</option>\n                <option value=\"Active\">Active</option>\n                <option value=\"Inactive\">Inactive</option>\n              </select>\n            </div>\n          </div> \n          <div className=\"col-lg-3 col-md-4 col-sm-12 col-xs-12 NOpadding\">\n          </div> \n          <div className=\"col-lg-2 col-md-4 col-sm-12 col-xs-12 NOpadding\">\n            <label className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 marginTop17 NOpadding\">Start Date</label>\n            <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 NOpadding\">\n              <input type=\"date\" className=\"col-lg-6 col-md-6 col-sm-6 col-xs-6 noPadding  form-control\"\n                 name=\"startDate\" ref=\"startDate\" value={this.state.startDate} style={{fontFamily:'Montserrat-Regular'}} \n                 onChange={this.handleChange.bind(this)}/>\n            </div>\n          </div>\n          <div className=\"col-lg-1 col-md-4 col-sm-12 col-xs-12 NOpadding\">\n          </div> \n          <div className=\"col-lg-2 col-md-4 col-sm-12 col-xs-12 NOpadding\">\n            <label className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 marginTop17 NOpadding\">End Date</label>\n            <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 NOpadding\">\n               <input type=\"date\" className=\"col-lg-6 col-md-6 col-sm-6 col-xs-6 noPadding  form-control\"\n                 name=\"endDate\" ref=\"endDate\" value={this.state.endDate} style={{fontFamily:'Montserrat-Regular'}} \n                 onChange={this.handleChange.bind(this)}/>\n            </div>\n          </div> \n        </div>  \n          <IAssureTable \n            tableHeading={this.state.tableHeading}\n            twoLevelHeader={this.state.twoLevelHeader} \n            dataCount={this.state.completeDataCount}\n            tableData={this.state.tableData}\n            getData={this.getData.bind(this)}\n            tableObjects={this.state.tableObjects}\n          />\n        </div>\n        <div rowSpan=\"4\" className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 text-center custTableFoot\">\n        </div>\n      </div>\n      :\n      <div>\n          <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 text-center bgImgWt\">\n            <img src=\"/images/cofficLoader.gif\" alt=\"Logo_img\" height=\"15%\" width=\"15%\" className=\"imgHt\"/>\n          </div>\n      </div>\n    }\n    </div>\n    );\n  }\n}\nexport default SalesTransactionReport;"]},"metadata":{},"sourceType":"module"}