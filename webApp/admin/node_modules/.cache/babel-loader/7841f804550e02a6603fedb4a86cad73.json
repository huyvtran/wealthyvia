{"ast":null,"code":"var _jsxFileName = \"/home/iassureit/Greisch/greisch/webApp/admin/src/StoreManagement/orders/component/BaOrdersList.js\";\nimport React, { Component } from 'react';\nimport $ from 'jquery';\nimport axios from 'axios';\nimport ReactTable from \"react-table\";\nimport moment from \"moment\"; // import IAssureTable           from \"../../IAssureTable/IAssureTable.jsx\";\n\nimport swal from 'sweetalert';\nimport _ from 'underscore'; // import '../css/AdminOrdersList.css';\n\naxios.defaults.baseURL = 'http://gangaexpressapi.iassureit.com';\naxios.defaults.headers.post['Content-Type'] = 'application/json';\n\nclass BaOrdersList extends Component {\n  constructor(props) {\n    super(props);\n\n    if (!this.props.loading) {\n      this.state = {\n        \"orderData\": []\n      };\n    } else {\n      this.state = {\n        \"orderData\": []\n      };\n    }\n\n    window.scrollTo(0, 0);\n  }\n\n  componentDidMount() {\n    this.getOrders();\n  }\n\n  getOrders() {\n    axios.get(\"/api/orders/get/list\").then(response => {\n      var finaldata = $(response.data).filter(function (i, n) {\n        return n.deliveryStatus[0].status == 'Dispatch' || n.deliveryStatus[0].status == 'Deliver Order' || n.deliveryStatus[0].status == 'Delivered' || n.deliveryStatus[0].status == 'Delivered & Paid ';\n      });\n      console.log(finaldata);\n      this.setState({\n        orderData: finaldata\n      });\n    }).catch(error => {\n      console.log('error', error);\n    });\n  }\n\n  componentWillReceiveProps(nextProps) {\n    console.log(nextProps);\n  }\n\n  componentWillUnmount() {\n    //this.getOrders();\n    $(\"body\").find(\"script[src='/js/adminLte.js']\").remove();\n    if (this.basicPageTracker) this.basicPageTracker.stop();\n  }\n\n  changeOrderStatus(event) {\n    event.preventDefault();\n    var status = $(event.currentTarget).attr('data-status');\n    var id = $(event.currentTarget).attr('data-id');\n\n    if (status != \"Dispatch\") {\n      if (status != \"Done\") {\n        swal({\n          title: 'Do you want to change status to ' + status + \"?\",\n          text: 'Do you want to change status to ' + status + \"?\",\n          type: 'warning',\n          showCancelButton: true,\n          confirmButtonColor: '#3085d6',\n          cancelButtonColor: '#d33',\n          confirmButtonText: 'Yes'\n        }).then(obj => {\n          if (obj == true) {\n            var formValues = {\n              \"orderID\": id,\n              \"status\": status,\n              \"userid\": 1\n            };\n            axios.patch('/api/orders/patch/updateDeliveryStatus', formValues).then(response => {\n              this.getOrders();\n              swal({\n                title: response.data.message,\n                text: response.data.message\n              });\n            }).catch(error => {\n              console.log('error', error);\n            });\n          }\n        });\n      }\n    }\n  }\n\n  closeModal(event) {\n    // console.log('event',event);\n    event.preventDefault();\n    $('.dispatchCompanyName').val('');\n    $('.deliveryPersonName').val('');\n    $('.deliveryPersonContact').val('');\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"container-fluid\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"formWrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }, React.createElement(\"section\", {\n      className: \"content\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-xs-12 col-sm-12 pageContent\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-xs-12 col-sm-12 titleaddcontact\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-xs-12 col-sm-12 contactdeilsmg pageHeader\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    }, \"Shipment Tracking\"), React.createElement(\"hr\", {\n      className: \"hr-head container-fluid row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-md-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \" col-lg-12 col-md-12 col-sm-12 col-xs-12 marginTop\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"admin-orders-SubTitleRow  row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-lg-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"admin-orders-listofColors\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"admin-orders-stat-Dispatched comm-status-of-order\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134\n      },\n      __self: this\n    }), \"Deliver Order\"), React.createElement(\"span\", {\n      className: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"admin-orders-stat-Delivered comm-status-of-order\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138\n      },\n      __self: this\n    }), \"Delivered\"), React.createElement(\"span\", {\n      className: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"admin-orders-stat-Deliveredpaid comm-status-of-order\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142\n      },\n      __self: this\n    }), \"Delivered & Paid\")))), React.createElement(\"div\", {\n      className: \"admin-orders-SubTitleTable marginTop11\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149\n      },\n      __self: this\n    }, React.createElement(\"table\", {\n      className: \"table iAssureITtable-bordered table-striped table-hover\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150\n      },\n      __self: this\n    }, React.createElement(\"thead\", {\n      className: \"tempTableHeader\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152\n      },\n      __self: this\n    }, React.createElement(\"th\", {\n      className: \"col-lg-1 whiteSpace\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153\n      },\n      __self: this\n    }, \"Order ID\"), React.createElement(\"th\", {\n      className: \"col-lg-2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154\n      },\n      __self: this\n    }, \"Customer\"), React.createElement(\"th\", {\n      className: \"col-lg-2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155\n      },\n      __self: this\n    }, \"No. of Products\"), React.createElement(\"th\", {\n      className: \"col-lg-1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156\n      },\n      __self: this\n    }, \"Quantity\"), React.createElement(\"th\", {\n      className: \"col-lg-1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157\n      },\n      __self: this\n    }, \"Total Price\"), React.createElement(\"th\", {\n      className: \"col-lg-1 whiteSpace\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158\n      },\n      __self: this\n    }, \"Order Date\"), React.createElement(\"th\", {\n      className: \"col-lg-2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159\n      },\n      __self: this\n    }, \"Status\"), React.createElement(\"th\", {\n      className: \"col-lg-2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160\n      },\n      __self: this\n    }, \"Action\"))), React.createElement(\"tbody\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163\n      },\n      __self: this\n    }, this.state.orderData.map((index, listData) => {\n      return React.createElement(\"tr\", {\n        key: index,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168\n        },\n        __self: this\n      }, React.createElement(\"td\", {\n        className: \"col-lg-1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169\n        },\n        __self: this\n      }, listData.orderID), React.createElement(\"td\", {\n        className: \"col-lg-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172\n        },\n        __self: this\n      }, listData.userFullName), React.createElement(\"td\", {\n        className: \"col-lg-2 textAlignRight\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 176\n        },\n        __self: this\n      }, listData.productLength), React.createElement(\"td\", {\n        className: \"col-lg-1 textAlignRight\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 179\n        },\n        __self: this\n      }, listData.totalQuantity), React.createElement(\"td\", {\n        className: \"col-lg-1 textAlignRight\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 182\n        },\n        __self: this\n      }, parseInt(listData.totalAmount).toFixed(2)), React.createElement(\"td\", {\n        className: \"col-lg-1 textAlignCenter\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 186\n        },\n        __self: this\n      }, moment(listData.createdAt).format(\"MMM Do YY\")), React.createElement(\"td\", {\n        className: \"col-lg-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 190\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"admin-orders-stat1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 191\n        },\n        __self: this\n      }, listData.status), React.createElement(\"div\", {\n        className: listData.deliveryStatus[0].status == \"Dispatch\" ? \"admin-orders-stat-Dispatched\" : listData.deliveryStatus[0].status == \"Deliver Order\" ? \"admin-orders-stat-Dispatched\" : listData.deliveryStatus[0].status == \"Delivered\" ? \"admin-orders-stat-Delivered\" : listData.deliveryStatus[0].status == \"Delivered & Paid\" ? \"admin-orders-stat-Deliveredpaid\" : \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 194\n        },\n        __self: this\n      }, listData.deliveryStatus[0].status)), React.createElement(\"td\", {\n        className: \"col-lg-2 textAlignCenter\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 210\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        href: \"/orderPlaced/\" + listData._id,\n        target: \"_blank\",\n        title: \"View Invoice\",\n        className: \"admin-order-view\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 211\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fa fa-eye\",\n        \"aria-hidden\": \"true\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 212\n        },\n        __self: this\n      })), listData.deliveryStatus[0].status == \"Delivered & Paid\" ? \"\" : React.createElement(\"div\", {\n        className: \"admin-order-changeStatus \",\n        onClick: this.changeOrderStatus.bind(this),\n        \"data-id\": listData._id,\n        \"data-status\": listData.deliveryStatus[0].status == \"Dispatch\" ? \"Deliver Order\" : listData.deliveryStatus[0].status == \"Deliver Order\" ? \"Delivered\" : listData.deliveryStatus[0].status == \"Delivered\" ? \"Delivered & Paid\" : listData.deliveryStatus[0].status == \"Delivered & Paid\" ? \"Done\" : \"Done\",\n        title: listData.deliveryStatus[0].status == \"Dispatch\" ? \"Change Status to Deliver Order\" : listData.deliveryStatus[0].status == \"Deliver Order\" ? \"Change Status to Delivered\" : listData.deliveryStatus[0].status == \"Delivered\" ? \"Change Status to Delivered & Paid\" : listData.deliveryStatus[0].status == \"Delivered & Paid\" ? \"Done\" : \"Done\",\n        \"data-target\": listData.deliveryStatus[0].status == \"Dispatch\" ? \"\" : listData.deliveryStatus[0].status == \"Delivered\" ? \"\" : listData.deliveryStatus[0].status == \"Delivered & Paid\" ? \"\" : \"\",\n        \"data-toggle\": \"modal\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 218\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: listData.deliveryStatus[0].status == \"Dispatch\" ? \"fa fa-truck admin-orders-stat-Dispatchedicon\" : listData.deliveryStatus[0].status == \"Deliver Order\" ? \"fa fa-truck admin-orders-stat-Dispatchedicon\" : listData.deliveryStatus[0].status == \"Delivered\" ? \"fa fa-check-circle admin-orders-stat-Deliveredicon\" : listData.deliveryStatus[0].status == \"Delivered & Paid\" ? \"fa fa-check-circle\" : \"\",\n        \"aria-hidden\": \"true\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 239\n        },\n        __self: this\n      }))));\n    }))))))), React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 265\n      },\n      __self: this\n    })))))));\n  }\n\n}\n\nexport default BaOrdersList;","map":{"version":3,"sources":["/home/iassureit/Greisch/greisch/webApp/admin/src/StoreManagement/orders/component/BaOrdersList.js"],"names":["React","Component","$","axios","ReactTable","moment","swal","_","defaults","baseURL","headers","post","BaOrdersList","constructor","props","loading","state","window","scrollTo","componentDidMount","getOrders","get","then","response","finaldata","data","filter","i","n","deliveryStatus","status","console","log","setState","orderData","catch","error","componentWillReceiveProps","nextProps","componentWillUnmount","find","remove","basicPageTracker","stop","changeOrderStatus","event","preventDefault","currentTarget","attr","id","title","text","type","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","obj","formValues","patch","message","closeModal","val","render","map","index","listData","orderID","userFullName","productLength","totalQuantity","parseInt","totalAmount","toFixed","createdAt","format","_id","bind"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAmC,OAAnC;AACA,OAAOC,CAAP,MAAmC,QAAnC;AACA,OAAOC,KAAP,MAAmC,OAAnC;AACA,OAAOC,UAAP,MAAmC,aAAnC;AACA,OAAOC,MAAP,MAAmC,QAAnC,C,CACA;;AACA,OAAOC,IAAP,MAAmC,YAAnC;AACA,OAAOC,CAAP,MAAmC,YAAnC,C,CACA;;AAEAJ,KAAK,CAACK,QAAN,CAAeC,OAAf,GAAyB,sCAAzB;AACAN,KAAK,CAACK,QAAN,CAAeE,OAAf,CAAuBC,IAAvB,CAA4B,cAA5B,IAA8C,kBAA9C;;AACA,MAAMC,YAAN,SAA2BX,SAA3B,CAAoC;AAChCY,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;;AAEA,QAAG,CAAC,KAAKA,KAAL,CAAWC,OAAf,EAAuB;AACnB,WAAKC,KAAL,GAAa;AACT,qBAAY;AADH,OAAb;AAKH,KAND,MAMM;AACF,WAAKA,KAAL,GAAa;AACT,qBAAY;AADH,OAAb;AAGH;;AAEDC,IAAAA,MAAM,CAACC,QAAP,CAAgB,CAAhB,EAAmB,CAAnB;AACH;;AAEDC,EAAAA,iBAAiB,GAAG;AAChB,SAAKC,SAAL;AACH;;AACDA,EAAAA,SAAS,GAAE;AACTjB,IAAAA,KAAK,CAACkB,GAAN,CAAU,sBAAV,EACOC,IADP,CACaC,QAAD,IAAY;AAChB,UAAIC,SAAS,GAAGtB,CAAC,CAACqB,QAAQ,CAACE,IAAV,CAAD,CAAiBC,MAAjB,CAAwB,UAAUC,CAAV,EAAYC,CAAZ,EAAc;AAClD,eAAOA,CAAC,CAACC,cAAF,CAAiB,CAAjB,EAAoBC,MAApB,IAA8B,UAA9B,IAA4CF,CAAC,CAACC,cAAF,CAAiB,CAAjB,EAAoBC,MAApB,IAA8B,eAA1E,IACDF,CAAC,CAACC,cAAF,CAAiB,CAAjB,EAAoBC,MAApB,IAA8B,WAD7B,IAC4CF,CAAC,CAACC,cAAF,CAAiB,CAAjB,EAAoBC,MAApB,IAA8B,mBADjF;AAEH,OAHe,CAAhB;AAIAC,MAAAA,OAAO,CAACC,GAAR,CAAYR,SAAZ;AACA,WAAKS,QAAL,CAAc;AACVC,QAAAA,SAAS,EAAGV;AADF,OAAd;AAGD,KAVP,EAWOW,KAXP,CAWcC,KAAD,IAAS;AACZL,MAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBI,KAArB;AACH,KAbP;AAcD;;AAEDC,EAAAA,yBAAyB,CAACC,SAAD,EAAW;AAClCP,IAAAA,OAAO,CAACC,GAAR,CAAYM,SAAZ;AAGD;;AACDC,EAAAA,oBAAoB,GAAG;AACrB;AACErC,IAAAA,CAAC,CAAC,MAAD,CAAD,CAAUsC,IAAV,CAAe,+BAAf,EAAgDC,MAAhD;AACA,QAAG,KAAKC,gBAAR,EACE,KAAKA,gBAAL,CAAsBC,IAAtB;AACL;;AAEDC,EAAAA,iBAAiB,CAACC,KAAD,EAAO;AACpBA,IAAAA,KAAK,CAACC,cAAN;AACA,QAAIhB,MAAM,GAAG5B,CAAC,CAAC2C,KAAK,CAACE,aAAP,CAAD,CAAuBC,IAAvB,CAA4B,aAA5B,CAAb;AACA,QAAIC,EAAE,GAAG/C,CAAC,CAAC2C,KAAK,CAACE,aAAP,CAAD,CAAuBC,IAAvB,CAA4B,SAA5B,CAAT;;AAEA,QAAGlB,MAAM,IAAI,UAAb,EAAwB;AACpB,UAAGA,MAAM,IAAE,MAAX,EAAkB;AACdxB,QAAAA,IAAI,CAAC;AACD4C,UAAAA,KAAK,EAAE,qCAAmCpB,MAAnC,GAA2C,GADjD;AAEDqB,UAAAA,IAAI,EAAE,qCAAmCrB,MAAnC,GAA2C,GAFhD;AAGDsB,UAAAA,IAAI,EAAE,SAHL;AAIDC,UAAAA,gBAAgB,EAAE,IAJjB;AAKDC,UAAAA,kBAAkB,EAAE,SALnB;AAMDC,UAAAA,iBAAiB,EAAE,MANlB;AAODC,UAAAA,iBAAiB,EAAE;AAPlB,SAAD,CAAJ,CAQKlC,IARL,CAQWmC,GAAD,IAAQ;AACd,cAAGA,GAAG,IAAE,IAAR,EAAa;AACT,gBAAIC,UAAU,GAAG;AACf,yBAAaT,EADE;AAEf,wBAAanB,MAFE;AAGf,wBAAa;AAHE,aAAjB;AAKA3B,YAAAA,KAAK,CAACwD,KAAN,CAAY,wCAAZ,EAAsDD,UAAtD,EACCpC,IADD,CACOC,QAAD,IAAY;AAChB,mBAAKH,SAAL;AAEAd,cAAAA,IAAI,CAAC;AACH4C,gBAAAA,KAAK,EAAG3B,QAAQ,CAACE,IAAT,CAAcmC,OADnB;AAEHT,gBAAAA,IAAI,EAAI5B,QAAQ,CAACE,IAAT,CAAcmC;AAFnB,eAAD,CAAJ;AAID,aARD,EASCzB,KATD,CASQC,KAAD,IAAS;AACdL,cAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBI,KAArB;AACD,aAXD;AAYH;AACF,SA5BH;AA6BH;AACJ;AACJ;;AAEDyB,EAAAA,UAAU,CAAChB,KAAD,EAAO;AACb;AACAA,IAAAA,KAAK,CAACC,cAAN;AACA5C,IAAAA,CAAC,CAAC,sBAAD,CAAD,CAA0B4D,GAA1B,CAA8B,EAA9B;AACA5D,IAAAA,CAAC,CAAC,qBAAD,CAAD,CAAyB4D,GAAzB,CAA6B,EAA7B;AACA5D,IAAAA,CAAC,CAAC,wBAAD,CAAD,CAA4B4D,GAA5B,CAAgC,EAAhC;AACH;;AACDC,EAAAA,MAAM,GAAE;AAEJ,WACI;AAAK,MAAA,SAAS,EAAC,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAS,MAAA,SAAS,EAAC,SAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,SAAS,EAAC,qDAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,SAAS,EAAC,yDAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,SAAS,EAAC,mEAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BADF,EAIE;AAAI,MAAA,SAAS,EAAC,6BAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAJF,CADF,EAOE;AAAK,MAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAEI;AAAK,MAAA,SAAS,EAAC,oDAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACK;AAAK,MAAA,SAAS,EAAC,+BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG;AAAK,MAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAK,MAAA,SAAS,EAAC,2BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAM,MAAA,SAAS,EAAC,EAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAM,MAAA,SAAS,EAAC,mDAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,kBADJ,EAKI;AAAM,MAAA,SAAS,EAAC,EAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAM,MAAA,SAAS,EAAC,kDAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,cALJ,EASI;AAAM,MAAA,SAAS,EAAC,EAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAM,MAAA,SAAS,EAAC,sDAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,qBATJ,CADJ,CADH,CADL,EAoBI;AAAK,MAAA,SAAS,EAAC,wCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAO,MAAA,SAAS,EAAC,yDAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAO,MAAA,SAAS,EAAC,iBAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAI,MAAA,SAAS,EAAC,qBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADJ,EAEI;AAAI,MAAA,SAAS,EAAC,UAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAFJ,EAGI;AAAI,MAAA,SAAS,EAAC,UAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBAHJ,EAII;AAAI,MAAA,SAAS,EAAC,UAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAJJ,EAKI;AAAI,MAAA,SAAS,EAAC,UAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBALJ,EAMI;AAAI,MAAA,SAAS,EAAC,qBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBANJ,EAOI;AAAI,MAAA,SAAS,EAAC,UAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAPJ,EAQI;AAAI,MAAA,SAAS,EAAC,UAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBARJ,CADJ,CADJ,EAaI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAEQ,KAAK/C,KAAL,CAAWkB,SAAX,CAAqB8B,GAArB,CAAyB,CAACC,KAAD,EAAQC,QAAR,KAAmB;AAExC,aACI;AAAI,QAAA,GAAG,EAAED,KAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAI,QAAA,SAAS,EAAC,UAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACKC,QAAQ,CAACC,OADd,CADJ,EAII;AAAI,QAAA,SAAS,EAAC,UAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACKD,QAAQ,CAACE,YADd,CAJJ,EAQI;AAAI,QAAA,SAAS,EAAC,yBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACKF,QAAQ,CAACG,aADd,CARJ,EAWI;AAAI,QAAA,SAAS,EAAC,yBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACKH,QAAQ,CAACI,aADd,CAXJ,EAcI;AAAI,QAAA,SAAS,EAAC,yBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAEKC,QAAQ,CAACL,QAAQ,CAACM,WAAV,CAAT,CAAiCC,OAAjC,CAAyC,CAAzC,CAFJ,CAdJ,EAkBI;AAAI,QAAA,SAAS,EAAC,0BAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACMpE,MAAM,CAAC6D,QAAQ,CAACQ,SAAV,CAAN,CAA2BC,MAA3B,CAAkC,WAAlC,CADN,CAlBJ,EAsBI;AAAI,QAAA,SAAS,EAAC,UAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAK,QAAA,SAAS,EAAC,oBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACKT,QAAQ,CAACpC,MADd,CADJ,EAII;AAAK,QAAA,SAAS,EACRoC,QAAQ,CAACrC,cAAT,CAAwB,CAAxB,EAA2BC,MAA3B,IAAqC,UAArC,GACC,8BADD,GAEIoC,QAAQ,CAACrC,cAAT,CAAwB,CAAxB,EAA2BC,MAA3B,IAAqC,eAArC,GAA0D,8BAA1D,GACAoC,QAAQ,CAACrC,cAAT,CAAwB,CAAxB,EAA2BC,MAA3B,IAAqC,WAArC,GAAsD,6BAAtD,GACAoC,QAAQ,CAACrC,cAAT,CAAwB,CAAxB,EAA2BC,MAA3B,IAAqC,kBAArC,GAA4D,iCAA5D,GAAgG,EAL1G;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAUOoC,QAAQ,CAACrC,cAAT,CAAwB,CAAxB,EAA2BC,MAVlC,CAJJ,CAtBJ,EA0CI;AAAI,QAAA,SAAS,EAAC,0BAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAG,QAAA,IAAI,EAAE,kBAAgBoC,QAAQ,CAACU,GAAlC;AAAuC,QAAA,MAAM,EAAC,QAA9C;AAAuD,QAAA,KAAK,EAAC,cAA7D;AAA4E,QAAA,SAAS,EAAC,kBAAtF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAG,QAAA,SAAS,EAAC,WAAb;AAAyB,uBAAY,MAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,CADJ,EAKKV,QAAQ,CAACrC,cAAT,CAAwB,CAAxB,EAA2BC,MAA3B,IAAqC,kBAArC,GACG,EADH,GAGG;AAAK,QAAA,SAAS,EAAC,2BAAf;AAA2C,QAAA,OAAO,EAAE,KAAKc,iBAAL,CAAuBiC,IAAvB,CAA4B,IAA5B,CAApD;AAAuF,mBAASX,QAAQ,CAACU,GAAzG;AAA8G,uBAEtGV,QAAQ,CAACrC,cAAT,CAAwB,CAAxB,EAA2BC,MAA3B,IAAqC,UAArC,GAA2D,eAA3D,GACAoC,QAAQ,CAACrC,cAAT,CAAwB,CAAxB,EAA2BC,MAA3B,IAAqC,eAArC,GAA2D,WAA3D,GACAoC,QAAQ,CAACrC,cAAT,CAAwB,CAAxB,EAA2BC,MAA3B,IAAqC,WAArC,GAA2D,kBAA3D,GACAoC,QAAQ,CAACrC,cAAT,CAAwB,CAAxB,EAA2BC,MAA3B,IAAqC,kBAArC,GAA2D,MAA3D,GAAoE,MAL5E;AAOI,QAAA,KAAK,EAEDoC,QAAQ,CAACrC,cAAT,CAAwB,CAAxB,EAA2BC,MAA3B,IAAqC,UAArC,GAA4D,gCAA5D,GACAoC,QAAQ,CAACrC,cAAT,CAAwB,CAAxB,EAA2BC,MAA3B,IAAqC,eAArC,GAA4D,4BAA5D,GACAoC,QAAQ,CAACrC,cAAT,CAAwB,CAAxB,EAA2BC,MAA3B,IAAqC,WAArC,GAA4D,mCAA5D,GACAoC,QAAQ,CAACrC,cAAT,CAAwB,CAAxB,EAA2BC,MAA3B,IAAqC,kBAArC,GAA4D,MAA5D,GAAqE,MAZ7E;AAcI,uBACIoC,QAAQ,CAACrC,cAAT,CAAwB,CAAxB,EAA2BC,MAA3B,IAAqC,UAArC,GAA2D,EAA3D,GACAoC,QAAQ,CAACrC,cAAT,CAAwB,CAAxB,EAA2BC,MAA3B,IAAqC,WAArC,GAA2D,EAA3D,GACAoC,QAAQ,CAACrC,cAAT,CAAwB,CAAxB,EAA2BC,MAA3B,IAAqC,kBAArC,GAA2D,EAA3D,GAAgE,EAjBxE;AAmBI,uBAAY,OAnBhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAqBI;AAAG,QAAA,SAAS,EACVoC,QAAQ,CAACrC,cAAT,CAAwB,CAAxB,EAA2BC,MAA3B,IAAqC,UAArC,GAA4D,8CAA5D,GACAoC,QAAQ,CAACrC,cAAT,CAAwB,CAAxB,EAA2BC,MAA3B,IAAqC,eAArC,GAAiE,8CAAjE,GACAoC,QAAQ,CAACrC,cAAT,CAAwB,CAAxB,EAA2BC,MAA3B,IAAqC,WAArC,GAA4D,oDAA5D,GACAoC,QAAQ,CAACrC,cAAT,CAAwB,CAAxB,EAA2BC,MAA3B,IAAqC,kBAArC,GAA4D,oBAA5D,GAAmF,EAJrF;AAMD,uBAAY,MANX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QArBJ,CARR,CA1CJ,CADJ;AAuFH,KAzFD,CAFR,CAbJ,CADJ,CApBJ,CAFJ,CADF,CAPF,EAkJE;AAAK,MAAA,SAAS,EAAC,yCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAlJF,CADF,CADF,CADF,CADF,CADF,CADJ;AAkKH;;AAtQ+B;;AAyQpC,eAAelB,YAAf","sourcesContent":["import React, { Component }   from 'react';\nimport $                      from 'jquery';\nimport axios                  from 'axios';\nimport ReactTable             from \"react-table\";\nimport moment                 from \"moment\";\n// import IAssureTable           from \"../../IAssureTable/IAssureTable.jsx\";\nimport swal                   from 'sweetalert';\nimport _                      from 'underscore';\n// import '../css/AdminOrdersList.css';\n\naxios.defaults.baseURL = 'http://gangaexpressapi.iassureit.com';\naxios.defaults.headers.post['Content-Type'] = 'application/json';\nclass BaOrdersList extends Component{\n    constructor(props) {\n        super(props);\n\n        if(!this.props.loading){\n            this.state = {\n                \"orderData\":[]\n                \n            };\n            \n        } else{\n            this.state = {\n                \"orderData\":[]\n            };\n        }\n        \n        window.scrollTo(0, 0);\n    }\n\n    componentDidMount() {\n        this.getOrders();   \n    }\n    getOrders(){\n      axios.get(\"/api/orders/get/list\")\n            .then((response)=>{\n              var finaldata = $(response.data).filter(function (i,n){\n                  return n.deliveryStatus[0].status == 'Dispatch' || n.deliveryStatus[0].status == 'Deliver Order'\n                     || n.deliveryStatus[0].status == 'Delivered' || n.deliveryStatus[0].status == 'Delivered & Paid '; \n              });\n              console.log(finaldata);\n              this.setState({\n                  orderData : finaldata\n              })\n            })\n            .catch((error)=>{   \n                console.log('error', error);\n            })\n    }\n    \n    componentWillReceiveProps(nextProps){\n      console.log(nextProps);\n        \n        \n    }\n    componentWillUnmount() {\n      //this.getOrders();\n        $(\"body\").find(\"script[src='/js/adminLte.js']\").remove();\n        if(this.basicPageTracker)\n          this.basicPageTracker.stop();\n    }\n\n    changeOrderStatus(event){\n        event.preventDefault();\n        var status = $(event.currentTarget).attr('data-status');\n        var id = $(event.currentTarget).attr('data-id');\n        \n        if(status != \"Dispatch\"){\n            if(status!=\"Done\"){\n                swal({\n                    title: 'Do you want to change status to '+status+ \"?\",\n                    text: 'Do you want to change status to '+status+ \"?\",\n                    type: 'warning',\n                    showCancelButton: true,\n                    confirmButtonColor: '#3085d6',\n                    cancelButtonColor: '#d33',\n                    confirmButtonText: 'Yes'\n                  }).then((obj)=> {\n                    if(obj==true){\n                        var formValues = {\n                          \"orderID\" :  id,  \n                          \"status\"  :  status,\n                          \"userid\"  :  1\n                        }\n                        axios.patch('/api/orders/patch/updateDeliveryStatus', formValues)\n                        .then((response)=>{\n                          this.getOrders();\n                          \n                          swal({\n                            title : response.data.message,\n                            text  : response.data.message,\n                          });\n                        })\n                        .catch((error)=>{\n                          console.log('error', error);\n                        })\n                    }\n                  });\n            }\n        }   \n    }\n\n    closeModal(event){\n        // console.log('event',event);\n        event.preventDefault();\n        $('.dispatchCompanyName').val('');\n        $('.deliveryPersonName').val('');\n        $('.deliveryPersonContact').val('');\n    }\n    render(){\n\n        return(         \n            <div className=\"container-fluid\">\n              <div className=\"row\">\n                <div className=\"formWrapper\">\n                  <section className=\"content\">\n                    <div className=\"col-lg-12 col-md-12 col-xs-12 col-sm-12 pageContent\">\n                      <div className=\"row\">\n                        <div className=\"col-lg-12 col-md-12 col-xs-12 col-sm-12 titleaddcontact\">\n                          <div className=\"col-lg-12 col-md-12 col-xs-12 col-sm-12 contactdeilsmg pageHeader\">\n                            Shipment Tracking                     \n                          </div>\n                          <hr className=\"hr-head container-fluid row\"/>\n                        </div>\n                        <div className=\"row\">\n                          <div className=\"col-md-12\">\n\n                              <div className=\" col-lg-12 col-md-12 col-sm-12 col-xs-12 marginTop\">\n                                   <div className=\"admin-orders-SubTitleRow  row\">\n                                      <div className=\"col-lg-12\">\n                                          <div className=\"admin-orders-listofColors\">\n                                              <span className=\"\">\n                                                  <span className=\"admin-orders-stat-Dispatched comm-status-of-order\"></span>\n                                                  Deliver Order\n                                              </span>\n                                              <span className=\"\">\n                                                  <span className=\"admin-orders-stat-Delivered comm-status-of-order\"></span>\n                                                  Delivered\n                                              </span>\n                                              <span className=\"\">\n                                                  <span className=\"admin-orders-stat-Deliveredpaid comm-status-of-order\"></span>\n                                                  Delivered & Paid\n                                              </span>\n                                             \n                                          </div>\n                                      </div>\n                                  </div>\n                                  <div className=\"admin-orders-SubTitleTable marginTop11\">\n                                      <table className=\"table iAssureITtable-bordered table-striped table-hover\">\n                                          <thead className=\"tempTableHeader\">\n                                              <tr>\n                                                  <th className=\"col-lg-1 whiteSpace\">Order ID</th>\n                                                  <th className=\"col-lg-2\">Customer</th>\n                                                  <th className=\"col-lg-2\">No. of Products</th>\n                                                  <th className=\"col-lg-1\">Quantity</th>\n                                                  <th className=\"col-lg-1\">Total Price</th>\n                                                  <th className=\"col-lg-1 whiteSpace\">Order Date</th>\n                                                  <th className=\"col-lg-2\">Status</th>\n                                                  <th className=\"col-lg-2\">Action</th>\n                                              </tr>\n                                          </thead>\n                                          <tbody>\n                                              {\n                                                  this.state.orderData.map((index, listData)=>{\n                                            \n                                                      return(\n                                                          <tr key={index}>\n                                                              <td className=\"col-lg-1\">\n                                                                  {listData.orderID}\n                                                              </td>\n                                                              <td className=\"col-lg-2\">\n                                                                  {listData.userFullName }\n                                                              </td>\n                                                             \n                                                              <td className=\"col-lg-2 textAlignRight\">\n                                                                  {listData.productLength }\n                                                              </td>\n                                                              <td className=\"col-lg-1 textAlignRight\">\n                                                                  {listData.totalQuantity }\n                                                              </td>\n                                                              <td className=\"col-lg-1 textAlignRight\">\n                                                                 {/* R &nbsp;{listData.totalAmount } */}\n                                                                 {(parseInt(listData.totalAmount)).toFixed(2)}\n                                                              </td>\n                                                              <td className=\"col-lg-1 textAlignCenter\">\n                                                                  { moment(listData.createdAt).format(\"MMM Do YY\") }\n                                                                  \n                                                              </td>\n                                                              <td className=\"col-lg-2\">\n                                                                  <div className=\"admin-orders-stat1\">\n                                                                      {listData.status}\n                                                                  </div>\n                                                                  <div className={ \n                                                                        listData.deliveryStatus[0].status == \"Dispatch\" ?\n                                                                         \"admin-orders-stat-Dispatched\" : ( \n                                                                            listData.deliveryStatus[0].status == \"Deliver Order\"    ? \"admin-orders-stat-Dispatched\" :\n                                                                            listData.deliveryStatus[0].status == \"Delivered\"    ? \"admin-orders-stat-Delivered\" :\n                                                                            listData.deliveryStatus[0].status == \"Delivered & Paid\"   ? \"admin-orders-stat-Deliveredpaid\" : \"\"\n                                                                                ) \n                                                                                                                                    \n                                                                      }>\n                                                                      {\n                                                                         listData.deliveryStatus[0].status\n                                                                      }\n                                                                  </div>\n                                                                  \n\n                                                              </td>\n                                                              <td className=\"col-lg-2 textAlignCenter\">\n                                                                  <a href={\"/orderPlaced/\"+listData._id} target=\"_blank\" title=\"View Invoice\" className=\"admin-order-view\">\n                                                                      <i className=\"fa fa-eye\" aria-hidden=\"true\"></i>\n                                                                  </a>    \n\n                                                                  {listData.deliveryStatus[0].status == \"Delivered & Paid\" ? \n                                                                      \"\"\n                                                                      :\n                                                                      <div className=\"admin-order-changeStatus \" onClick={this.changeOrderStatus.bind(this)} data-id={listData._id} data-status={\n                                                                              \n                                                                              listData.deliveryStatus[0].status == \"Dispatch\"          ? \"Deliver Order\" :  \n                                                                              listData.deliveryStatus[0].status == \"Deliver Order\"     ? \"Delivered\" :  \n                                                                              listData.deliveryStatus[0].status == \"Delivered\"         ? \"Delivered & Paid\" :\n                                                                              listData.deliveryStatus[0].status == \"Delivered & Paid\"  ? \"Done\" : \"Done\"\n                                                                          } \n                                                                          title={\n                                                                              \n                                                                              listData.deliveryStatus[0].status == \"Dispatch\"           ? \"Change Status to Deliver Order\" :\n                                                                              listData.deliveryStatus[0].status == \"Deliver Order\"      ? \"Change Status to Delivered\" :  \n                                                                              listData.deliveryStatus[0].status == \"Delivered\"          ? \"Change Status to Delivered & Paid\" :  \n                                                                              listData.deliveryStatus[0].status == \"Delivered & Paid\"   ? \"Done\" : \"Done\"\n                                                                          }\n                                                                          data-target={\n                                                                              listData.deliveryStatus[0].status == \"Dispatch\"          ? \"\" :  \n                                                                              listData.deliveryStatus[0].status == \"Delivered\"         ? \"\" :  \n                                                                              listData.deliveryStatus[0].status == \"Delivered & Paid\"  ? \"\" : \"\"\n                                                                          } \n                                                                          data-toggle=\"modal\"\n                                                                          >\n                                                                          <i className={                                                                    \n                                                                            listData.deliveryStatus[0].status == \"Dispatch\"           ? \"fa fa-truck admin-orders-stat-Dispatchedicon\" :\n                                                                            listData.deliveryStatus[0].status == \"Deliver Order\"           ? \"fa fa-truck admin-orders-stat-Dispatchedicon\" :  \n                                                                            listData.deliveryStatus[0].status == \"Delivered\"          ? \"fa fa-check-circle admin-orders-stat-Deliveredicon\" :  \n                                                                            listData.deliveryStatus[0].status == \"Delivered & Paid\"   ? \"fa fa-check-circle\" : \"\"\n                                                                        }\n                                                                         aria-hidden=\"true\"></i>\n                                                                      </div>\n                                                                  }\n\n\n                                                                  \n                                                              </td>\n                                                          </tr>\n                                                      );\n                                                  })\n                                              }\n\n\n                                          </tbody>\n                                      </table>\n                                  </div>\n                              </div>\n                          </div>\n                      </div>\n\n                        <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n                          \n                        </div>\n                      </div>\n                    </div>\n                  </section>\n                </div>\n              </div>\n            </div> \n        );\n    }\n}\n\nexport default BaOrdersList\n"]},"metadata":{},"sourceType":"module"}