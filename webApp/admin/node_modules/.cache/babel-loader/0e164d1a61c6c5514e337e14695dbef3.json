{"ast":null,"code":"var _jsxFileName = \"/home/iassureit/wealthyvia/webApp/admin/src/cofficAdmin/Subscription/addSubscription.js\";\nimport React, { Component } from 'react';\nimport { render } from 'react-dom';\nimport SimpleReactValidator from 'simple-react-validator';\nimport renderHTML from 'react-render-html';\nimport CKEditor from \"react-ckeditor-component\";\nimport axios from 'axios';\nimport swal from 'sweetalert';\nimport $ from \"jquery\";\nimport './addSubscription.css';\n\nconst formValid = formerrors => {\n  console.log(\"formerrors\", formerrors);\n  let valid = true;\n  Object.values(formerrors).forEach(val => {\n    val.length > 0 && (valid = false);\n  });\n  return valid;\n};\n\nconst numberRegex = RegExp(/(^100(\\.0{1,2})?$)|(^([1-9]([0-9])?|0)(\\.[0-9]{1,2})?$)/);\n\nclass addSubscription extends Component {\n  constructor(props) {\n    super(props);\n\n    this.submitSubscriptionInfo = event => {\n      event.preventDefault();\n      var subscriptionInfoFormValuePost = {\n        'planName': this.state.planName,\n        'maxCheckIns': this.state.maxCheckIns,\n        'price': this.state.price,\n        'discount': this.state.discount,\n        'validityDays': this.state.validityDays,\n        'description': this.state.description,\n        'createdBy': \"Admin\"\n      };\n      var subscriptionInfoFormValueUpdate = {\n        'plan_id': this.state.id,\n        'planName': this.state.planName,\n        'maxCheckIns': this.state.maxCheckIns,\n        'price': this.state.price,\n        'discount': this.state.discount,\n        'validityDays': this.state.validityDays,\n        'description': this.state.description,\n        'updatedBy': \"Admin\"\n      };\n\n      if (this.state.planName && this.state.maxCheckIns && this.state.price && this.state.validityDays) {\n        if (this.props.match.params.id) {\n          if (formValid(this.state.formerrors)) {\n            console.log(\"subscriptionInfoFormValueUpdate--\", subscriptionInfoFormValueUpdate);\n            axios.patch('/api/subscriptionplan/patch/update/' + this.state.id, subscriptionInfoFormValueUpdate).then(response => {\n              swal(\"Good job!\", \"Subscription details updated!\", \"success\");\n              this.getSubscriptionList();\n              this.props.history.push('/addSubscription');\n              this.setState({\n                planName: \"\",\n                maxCheckIns: \"\",\n                price: \"\",\n                discount: \"\",\n                validityDays: \"\",\n                description: \"\",\n                editId: \"\"\n              });\n            }).catch(function (error) {\n              console.log(error);\n              swal(\"Oops...\", \"Subscription details updation failed!\", \"warning\");\n\n              if (error.message === \"Request failed with status code 401\") {\n                swal(\"Your session is expired! Please login again.\", \"\", \"error\");\n                this.props.history.push(\"/\");\n              }\n            });\n          } else {\n            swal(\"Oops...\", \"Entered percentage value is wrong\", \"warning\");\n          }\n        } else {\n          console.log(\"subscriptionInfoFormValuePost\", subscriptionInfoFormValuePost);\n\n          if (formValid(this.state.formerrors)) {\n            axios.post('/api/subscriptionplan/post', subscriptionInfoFormValuePost).then(response => {\n              if (response.data == \"Subscription Plan Already exists\") {\n                swal(\"Oops...\", \"Record already exists\", \"warning\");\n              } else {\n                swal(\"Good job!\", \"Subscription Submitted!\", \"success\");\n                this.getSubscriptionList();\n                this.setState({\n                  planName: \"\",\n                  maxCheckIns: \"\",\n                  price: \"\",\n                  discount: \"\",\n                  validityDays: \"\",\n                  description: \"\"\n                });\n              }\n            }).catch(function (error) {\n              console.log(error);\n              swal(\"Oops...\", \"Subscription submition failed!\", \"warning\");\n\n              if (error.message === \"Request failed with status code 401\") {\n                swal(\"Your session is expired! Please login again.\", \"\", \"error\");\n                this.props.history.push(\"/\");\n              }\n            });\n          } else {\n            swal(\"Oops...\", \"Entered percentage value is wrong\", \"warning\");\n          }\n        }\n      } else {\n        swal(\"\", \"Please fill mandatory fields\", \"warning\");\n      }\n    };\n\n    this.deleteItem = event => {\n      event.preventDefault();\n      var id = event.target.getAttribute('data-id');\n\n      if (id) {\n        swal({\n          title: \"Are you sure?\",\n          text: \"Once deleted, you will not be able to recover this information!\",\n          icon: \"warning\",\n          buttons: true,\n          dangerMode: true\n        }).then(willDelete => {\n          if (willDelete) {\n            axios.delete('/api/subscriptionplan/delete/' + id).then(response => {\n              console.log(\"delete---res\", response);\n\n              if (response.data == 'Deleted Successfully') {\n                swal(\"Subscription deleted successfully\");\n                this.getSubscriptionList(); // $('#myModal'+this.state.deleteId).css('display','none');                   \n              }\n            }).catch(function (error) {\n              console.log(error);\n\n              if (error.message === \"Request failed with status code 401\") {\n                swal(\"Your session is expired! Please login again.\", \"\", \"error\");\n                this.props.history.push(\"/\");\n              }\n            });\n          } else {\n            swal(\"Your Subscription is safe!\");\n          }\n        });\n      }\n    };\n\n    this.editItem = event => {\n      event.preventDefault();\n      $(\"html,body\").scrollTop(0);\n      var id = event.target.getAttribute('data-id');\n      this.setState({\n        id: id,\n        editId: id\n      });\n      this.props.history.push('/addSubscription/' + id);\n      axios.get('/api/subscriptionplan/get/one/' + id).then(response => {\n        console.log(\"res------>\", response.data);\n        this.setState({\n          'planName': response.data.planName,\n          'maxCheckIns': response.data.maxCheckIns,\n          'price': response.data.price,\n          'validityDays': response.data.validityDays,\n          'discount': response.data.discount,\n          'description': response.data.description,\n          'createdBy': response.data.createdBy,\n          'createAt': response.data.createAt\n        });\n      }).catch(function (error) {\n        console.log(error);\n\n        if (error.message === \"Request failed with status code 401\") {\n          swal(\"Your session is expired! Please login again.\", \"\", \"error\");\n          this.props.history.push(\"/\");\n        }\n      });\n    };\n\n    this.state = {\n      planName: \"\",\n      maxCheckIns: \"\",\n      price: \"\",\n      discount: \"\",\n      validityDays: \"\",\n      description: \"\",\n      totalCount: '',\n      id: '',\n      editId: '',\n      SubscriptionList: [],\n      formerrors: {\n        discount: \"\"\n      }\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.onChange = this.onChange.bind(this);\n    this.getSubscriptionList = this.getSubscriptionList.bind(this);\n  }\n\n  componentDidMount() {\n    this.getSubscriptionList();\n\n    if (this.props.match.params.id) {\n      var id = this.props.match.params.id;\n      this.setState({\n        id: id,\n        editId: id\n      });\n      this.props.history.push('/addSubscription/' + id);\n      axios.get('/api/subscriptionplan/get/one/' + id).then(response => {\n        console.log(\"res------>\", response.data);\n        this.setState({\n          'planName': response.data.planName,\n          'maxCheckIns': response.data.maxCheckIns,\n          'price': response.data.price,\n          'discount': response.data.discount,\n          'validityDays': response.data.validityDays,\n          'description': response.data.description,\n          'createdBy': response.data.createdBy,\n          'createAt': response.data.createAt\n        });\n      }).catch(function (error) {\n        console.log(error);\n\n        if (error.message === \"Request failed with status code 401\") {\n          swal(\"Your session is expired! Please login again.\", \"\", \"error\");\n          this.props.history.push(\"/\");\n        }\n      });\n    }\n  }\n\n  getSubscriptionList() {\n    axios.get('/api/subscriptionplan/get/list').then(response => {\n      console.log(\"response======>\", response);\n\n      if (response.data) {\n        var count = response.data.length;\n        this.setState({\n          SubscriptionList: response.data,\n          totalCount: count\n        });\n      }\n    }).catch(function (error) {\n      console.log(error);\n\n      if (error.message === \"Request failed with status code 401\") {\n        swal(\"Your session is expired! Please login again.\", \"\", \"error\");\n        this.props.history.push(\"/\");\n      }\n    });\n  }\n\n  handleChangeSelect(event) {\n    var selectVal = this.refs.planName.value;\n    this.setState({\n      \"planName\": selectVal\n    });\n    console.log(\" event.target.value\", selectVal);\n  }\n\n  // submitSubscriptionInfo=(event)=>{\n  //     event.preventDefault();\n  //    //close array\n  //     console.log(\"subscriptionInfoFormValue\",subscriptionInfoFormValue);\n  //      axios.post('http://cofficapi.iassureit.com/api/subscription',{subscriptionInfoFormValue})\n  //     .then(function (response) {\n  //       // handle success\n  //       console.log(\"this is response===>>>\",response);\n  //       swal(\"Good job!\", \"Subscription Information Submitted!\", \"success\")\n  //     })\n  //     .catch(function (error) {\n  //       // handle error\n  //       console.log(error);\n  //       swal(\"\", \"Subscription Information  failed to submit!\", \"Danger\")\n  //     })\n  //     .finally(function () {\n  //       // always executed\n  //     });\n  //   }\n  handleChange(event) {\n    const target = event.target;\n    const name = target.name;\n    this.setState({\n      [name]: event.target.value\n    }); // const target = event.target;\n    // const {name , value}   = event.target;\n\n    const datatype = event.target.getAttribute('name');\n    console.log('==>>', datatype);\n    const _event$target = event.target,\n          name1 = _event$target.name1,\n          value = _event$target.value;\n    let formerrors = this.state.formerrors;\n\n    switch (datatype) {\n      case 'discount':\n        formerrors.discount = numberRegex.test(value) && value.length > 0 ? '' : \"Invalid percentage value\";\n        break;\n\n      default:\n        break;\n    } // this.setState({formerrors,})\n\n\n    this.setState({\n      formerrors,\n      [name1]: value\n    });\n  }\n\n  componentWillReceiveProps(nextProps) {}\n\n  onChange(evt) {\n    var newContent = evt.editor.getData();\n    console.log(\"onChange fired with event info: \", newContent);\n    this.setState({\n      description: newContent\n    }, () => {\n      if (this.state.content) {\n        this.setState({\n          contentError: ''\n        });\n      } else {\n        this.setState({\n          contentError: 'This field is required'\n        });\n      }\n    });\n  }\n\n  render() {\n    console.log(\"this.state.SubscriptionList\", this.state.SubscriptionList);\n    return React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 359\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-xs-12 col-sm-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 360\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12 workHeader\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 361\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      className: \"h5lettersp MasterBudgetTitle\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 362\n      },\n      __self: this\n    }, \"Subscription Details\")), React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12 noborder\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 364\n      },\n      __self: this\n    }, React.createElement(\"h5\", {\n      className: \"h5Title  col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 365\n      },\n      __self: this\n    }, \"Create Subscription Packages\")), React.createElement(\"hr\", {\n      className: \"compySettingHr\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 367\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 368\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      id: \"CompanySMSGatewayForm\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 369\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12 pdcls\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 370\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12 compForm compinfotp\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 371\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \" formht col-lg-6 col-md-12 col-sm-12 col-xs-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 372\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 373\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      className: \"control-label statelabel locationlabel\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 374\n      },\n      __self: this\n    }, \"Subscription Name\"), React.createElement(\"span\", {\n      className: \"astrick\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 375\n      },\n      __self: this\n    }, \"*\"), React.createElement(\"div\", {\n      className: \"input-group inputBox-main  new_inputbx \",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 376\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"input-group-addon remove_brdr inputIcon\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 377\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"fa fa-building\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 378\n      },\n      __self: this\n    })), React.createElement(\"select\", {\n      onChange: this.handleChangeSelect.bind(this),\n      ref: \"planName\",\n      type: \"text\",\n      name: \"planName\",\n      placeholder: \"Enter Subscription Name\",\n      value: this.state.planName,\n      className: \"selectbox\",\n      title: \"Please enter package Name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 380\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 383\n      },\n      __self: this\n    }, \"----Select Package----\"), React.createElement(\"option\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 384\n      },\n      __self: this\n    }, \"Monthly Package\"), React.createElement(\"option\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 385\n      },\n      __self: this\n    }, \"Weekly Package\"), React.createElement(\"option\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 386\n      },\n      __self: this\n    }, \"Daily Package\"))))), React.createElement(\"div\", {\n      className: \" formht col-lg-6 col-md-12 col-sm-12 col-xs-12 zzero\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 394\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 395\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      className: \"control-label statelabel locationlabel\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 396\n      },\n      __self: this\n    }, \"Number of Check-ins\"), React.createElement(\"span\", {\n      className: \"astrick\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 397\n      },\n      __self: this\n    }, \"*\"), React.createElement(\"div\", {\n      className: \"input-group inputBox-main  new_inputbx \",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 398\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"input-group-addon remove_brdr inputIcon\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 399\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"fa fa-building\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 400\n      },\n      __self: this\n    })), React.createElement(\"input\", {\n      id: \"maxCheckIns\",\n      placeholder: \"Enter Number of Check-ins\",\n      onChange: this.handleChange,\n      type: \"number\",\n      name: \"maxCheckIns\",\n      ref: \"maxCheckIns\",\n      value: this.state.maxCheckIns,\n      className: \"form-control areaStaes newinputbox\",\n      title: \"maxCheckIns\",\n      autoComplete: \"off\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 402\n      },\n      __self: this\n    }))))), React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12 compForm compinfotp\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 412\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \" formht col-lg-6 col-md-12 col-sm-12 col-xs-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 413\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 414\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      className: \"control-label statelabel locationlabel\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 415\n      },\n      __self: this\n    }, \"Validity in Days\"), React.createElement(\"span\", {\n      className: \"astrick\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 416\n      },\n      __self: this\n    }, \"*\"), React.createElement(\"div\", {\n      className: \"input-group inputBox-main  new_inputbx \",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 417\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"input-group-addon remove_brdr inputIcon\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 418\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"fa fa-building\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 419\n      },\n      __self: this\n    })), React.createElement(\"input\", {\n      id: \"validityDays\",\n      onChange: this.handleChange,\n      type: \"number\",\n      name: \"validityDays\",\n      placeholder: \"Enter Validity\",\n      value: this.state.validityDays,\n      className: \"form-control areaStaes newinputbox\",\n      title: \"Please enter validity of plan\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 421\n      },\n      __self: this\n    })))), React.createElement(\"div\", {\n      className: \" formht col-lg-6 col-md-12 col-sm-12 col-xs-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 430\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 431\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      className: \"control-label statelabel locationlabel\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 432\n      },\n      __self: this\n    }, \"Cost(INR)\"), React.createElement(\"span\", {\n      className: \"astrick\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 433\n      },\n      __self: this\n    }, \"*\"), React.createElement(\"div\", {\n      className: \"input-group inputBox-main  new_inputbx \",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 434\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"input-group-addon remove_brdr inputIcon\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 435\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"fa fa-building\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 436\n      },\n      __self: this\n    })), React.createElement(\"input\", {\n      id: \"price\",\n      onChange: this.handleChange,\n      value: this.state.price,\n      type: \"number\",\n      name: \"price\",\n      placeholder: \"Enter Cost\",\n      ref: \"price\",\n      className: \"form-control areaStaes newinputbox\",\n      title: \"Please enter total price of package\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 438\n      },\n      __self: this\n    }))))), React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12 compForm compinfotp\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 448\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \" formht col-lg-6 col-md-12 col-sm-12 col-xs-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 449\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 450\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      className: \"control-label statelabel locationlabel\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 451\n      },\n      __self: this\n    }, \"Discount (in %)\"), React.createElement(\"span\", {\n      className: \"astrick\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 452\n      },\n      __self: this\n    }, \"*\"), React.createElement(\"div\", {\n      className: \"input-group inputBox-main  new_inputbx \",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 453\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"input-group-addon remove_brdr inputIcon\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 454\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"fa fa-building\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 455\n      },\n      __self: this\n    })), React.createElement(\"input\", {\n      id: \"discount\",\n      onChange: this.handleChange,\n      max: \"100\",\n      type: \"number\",\n      name: \"discount\",\n      placeholder: \"Enter discount\",\n      value: this.state.discount,\n      className: \"form-control areaStaes newinputbox\",\n      title: \"Please enter validity of plan\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 457\n      },\n      __self: this\n    })), this.state.formerrors.discount && React.createElement(\"span\", {\n      className: \"text-danger\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 462\n      },\n      __self: this\n    }, this.state.formerrors.discount)))), React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12 compForm compinfotp\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 467\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 468\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 469\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      className: \"control-label statelabel locationlabel\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 470\n      },\n      __self: this\n    }, \"Description\"), React.createElement(\"span\", {\n      className: \"astrick\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 471\n      },\n      __self: this\n    }, \"*\")), React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12 NOpadding\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 477\n      },\n      __self: this\n    }, React.createElement(CKEditor, {\n      activeClass: \"p15\",\n      id: \"editor\",\n      className: \"templateName\",\n      content: this.state.description,\n      events: {\n        \"change\": this.onChange\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 478\n      },\n      __self: this\n    }))))), React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12 marTop20 marginBtmDiv\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 486\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      className: \"btn buttontAddEdit pull-right\",\n      id: \"btnCheck\",\n      onClick: this.submitSubscriptionInfo.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 487\n      },\n      __self: this\n    }, this.state.editId == '' ? \"Submit\" : \"Update\", \"  \")), React.createElement(\"div\", {\n      className: \"col-lg-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 489\n      },\n      __self: this\n    }, React.createElement(\"table\", {\n      className: \"table tableCustom table-striped\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 490\n      },\n      __self: this\n    }, React.createElement(\"thead\", {\n      className: \"bgThead\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 491\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 492\n      },\n      __self: this\n    }, React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 493\n      },\n      __self: this\n    }, \"Subscription Name\"), React.createElement(\"th\", {\n      className: \"text-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 494\n      },\n      __self: this\n    }, \"No. of Check-ins\"), React.createElement(\"th\", {\n      className: \"text-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 495\n      },\n      __self: this\n    }, \"Validity in Days\"), React.createElement(\"th\", {\n      className: \"text-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 496\n      },\n      __self: this\n    }, \"Cost\"), React.createElement(\"th\", {\n      className: \"text-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 497\n      },\n      __self: this\n    }, \"Discount\"), React.createElement(\"th\", {\n      className: \"text-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 498\n      },\n      __self: this\n    }, \"Description\"), React.createElement(\"th\", {\n      className: \"text-left\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 499\n      },\n      __self: this\n    }, \"Action\"))), this.state.SubscriptionList.length > 0 ? React.createElement(\"tbody\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 503\n      },\n      __self: this\n    }, this.state.SubscriptionList.map((itemData, index) => {\n      var textcontent = renderHTML(itemData.description);\n      return React.createElement(\"tr\", {\n        key: index,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 507\n        },\n        __self: this\n      }, React.createElement(\"td\", {\n        className: \"text-left\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 508\n        },\n        __self: this\n      }, itemData.planName), React.createElement(\"td\", {\n        className: \"text-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 509\n        },\n        __self: this\n      }, itemData.maxCheckIns), React.createElement(\"td\", {\n        className: \"text-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 510\n        },\n        __self: this\n      }, itemData.validityDays), React.createElement(\"td\", {\n        className: \"text-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 511\n        },\n        __self: this\n      }, itemData.price), React.createElement(\"td\", {\n        className: \"text-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 512\n        },\n        __self: this\n      }, itemData.discount), React.createElement(\"td\", {\n        className: \"text-left\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 513\n        },\n        __self: this\n      }, textcontent), React.createElement(\"td\", {\n        className: \"text-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 514\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fa fa-pencil cptr\",\n        title: \"Edit\",\n        \"data-id\": itemData._id,\n        onClick: this.editItem,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 515\n        },\n        __self: this\n      }), \"\\xA0\\xA0\\xA0\\xA0\", React.createElement(\"i\", {\n        className: \"fa fa-trash cptr\",\n        title: \"Delete\",\n        \"data-id\": itemData._id,\n        onClick: this.deleteItem,\n        \"data-toggle\": \"modal\",\n        \"aria-labelledby\": \"myModal\",\n        \"data-target\": \"myModal\" + itemData._id,\n        \"aria-hidden\": \"true\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 517\n        },\n        __self: this\n      })));\n    })) : React.createElement(\"tbody\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 526\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 527\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      colSpan: \"6\",\n      className: \"text-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 528\n      },\n      __self: this\n    }, \"No record found\")))))))));\n  }\n\n}\n\nexport default addSubscription;","map":{"version":3,"sources":["/home/iassureit/wealthyvia/webApp/admin/src/cofficAdmin/Subscription/addSubscription.js"],"names":["React","Component","render","SimpleReactValidator","renderHTML","CKEditor","axios","swal","$","formValid","formerrors","console","log","valid","Object","values","forEach","val","length","numberRegex","RegExp","addSubscription","constructor","props","submitSubscriptionInfo","event","preventDefault","subscriptionInfoFormValuePost","state","planName","maxCheckIns","price","discount","validityDays","description","subscriptionInfoFormValueUpdate","id","match","params","patch","then","response","getSubscriptionList","history","push","setState","editId","catch","error","message","post","data","deleteItem","target","getAttribute","title","text","icon","buttons","dangerMode","willDelete","delete","editItem","scrollTop","get","createdBy","createAt","totalCount","SubscriptionList","handleChange","bind","onChange","componentDidMount","count","handleChangeSelect","selectVal","refs","value","name","datatype","name1","test","componentWillReceiveProps","nextProps","evt","newContent","editor","getData","content","contentError","map","itemData","index","textcontent","_id"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { render }           from 'react-dom';\nimport SimpleReactValidator from 'simple-react-validator';\nimport renderHTML           from 'react-render-html';\nimport CKEditor             from \"react-ckeditor-component\";\nimport axios                from 'axios';\nimport swal                 from 'sweetalert';\nimport $                    from \"jquery\";\nimport './addSubscription.css';\n\nconst formValid = formerrors=>{\n  console.log(\"formerrors\",formerrors);\n  let valid = true;\n  Object.values(formerrors).forEach(val=>{\n  val.length>0 && (valid = false);\n  })\n  return valid;\n}\nconst numberRegex  = RegExp(/(^100(\\.0{1,2})?$)|(^([1-9]([0-9])?|0)(\\.[0-9]{1,2})?$)/);\n\nclass addSubscription extends Component{\n  constructor(props) {\n    super(props);\n    this.state = {\n      planName                     : \"\",\n      maxCheckIns                  : \"\",\n      price                        : \"\",\n      discount                     : \"\",\n      validityDays                 : \"\",\n      description                  : \"\",\n      totalCount                   : '',\n      id                           : '',\n      editId                       : '',\n      SubscriptionList             : [],\n      formerrors                   : {\n                                      discount:\"\",\n                                     },\n    };\n   \n    this.handleChange = this.handleChange.bind(this);\n    this.onChange = this.onChange.bind(this);\n    this.getSubscriptionList = this.getSubscriptionList.bind(this);\n  }\n\n  componentDidMount() {\n    this.getSubscriptionList();   \n    if(this.props.match.params.id){\n      var id = this.props.match.params.id;\n    this.setState({\n      id : id,\n      editId: id\n    })\n    this.props.history.push('/addSubscription/'+id);\n     axios\n        .get('/api/subscriptionplan/get/one/'+id)\n        .then((response)=> {\n          console.log(\"res------>\",response.data);\n          this.setState({\n            'planName'         : response.data.planName,\n            'maxCheckIns'      : response.data.maxCheckIns,\n            'price'            : response.data.price,\n            'discount'         : response.data.discount,\n            'validityDays'     : response.data.validityDays,\n            'description'      : response.data.description,\n            'createdBy'        : response.data.createdBy,\n            'createAt'         : response.data.createAt,\n          })    \n        })\n        .catch(function (error) {\n            console.log(error);\n            if(error.message === \"Request failed with status code 401\")\n              {\n                swal(\"Your session is expired! Please login again.\",\"\", \"error\");\n                this.props.history.push(\"/\");\n              }\n        });\n      }\n  }\n\n  submitSubscriptionInfo=(event)=>{\n    event.preventDefault();   \n    var subscriptionInfoFormValuePost = {\n            'planName'         : this.state.planName,\n            'maxCheckIns'      : this.state.maxCheckIns,\n            'price'            : this.state.price,\n            'discount'         : this.state.discount,\n            'validityDays'     : this.state.validityDays,\n            'description'      : this.state.description,\n            'createdBy'        : \"Admin\",\n    }    \n    var subscriptionInfoFormValueUpdate = {\n            'plan_id'          : this.state.id,\n            'planName'         : this.state.planName,\n            'maxCheckIns'      : this.state.maxCheckIns,\n            'price'            : this.state.price,\n            'discount'         : this.state.discount,\n            'validityDays'     : this.state.validityDays,\n            'description'      : this.state.description,\n            'updatedBy'        : \"Admin\",\n    }   \n      if(this.state.planName && this.state.maxCheckIns  && this.state.price && this.state.validityDays){\n        if(this.props.match.params.id){\n          if(formValid(this.state.formerrors)){\n            console.log(\"subscriptionInfoFormValueUpdate--\",subscriptionInfoFormValueUpdate ); \n             axios\n                .patch('/api/subscriptionplan/patch/update/'+this.state.id,subscriptionInfoFormValueUpdate)\n                .then( (response)=> {\n                  swal(\"Good job!\", \"Subscription details updated!\", \"success\");\n                  this.getSubscriptionList();\n                  this.props.history.push('/addSubscription');\n                  this.setState({\n                    planName                     : \"\",\n                    maxCheckIns                  : \"\",\n                    price                        : \"\",\n                    discount                     : \"\",\n                    validityDays                 : \"\",\n                    description                  : \"\",\n                    editId                       : \"\"\n                  })\n                })\n                .catch(function (error) {\n                  console.log(error);\n                  swal(\"Oops...\", \"Subscription details updation failed!\", \"warning\");\n                  if(error.message === \"Request failed with status code 401\")\n                    {\n                      swal(\"Your session is expired! Please login again.\",\"\", \"error\");\n                      this.props.history.push(\"/\");\n                    }\n                })\n                }else{\n                  swal(\"Oops...\",\"Entered percentage value is wrong\",\"warning\");\n                }\n        }else{\n          console.log(\"subscriptionInfoFormValuePost\",subscriptionInfoFormValuePost ); \n          if(formValid(this.state.formerrors)){\n          axios\n            .post('/api/subscriptionplan/post',subscriptionInfoFormValuePost)\n            .then( (response)=> {\n              if(response.data==\"Subscription Plan Already exists\"){\n                swal(\"Oops...\", \"Record already exists\", \"warning\");\n              }else{\n                swal(\"Good job!\", \"Subscription Submitted!\", \"success\");\n                this.getSubscriptionList();\n                this.setState({\n                    planName                     : \"\",\n                    maxCheckIns                  : \"\",\n                    price                        : \"\",\n                    discount                     : \"\",\n                    validityDays                 : \"\",\n                    description                  : \"\",\n                  })\n              }\n            })\n            .catch(function (error) {\n              console.log(error);\n              swal(\"Oops...\", \"Subscription submition failed!\", \"warning\");\n              if(error.message === \"Request failed with status code 401\")\n              {\n                   swal(\"Your session is expired! Please login again.\",\"\", \"error\");\n                   this.props.history.push(\"/\");\n              }\n            })\n            }else{\n              swal(\"Oops...\",\"Entered percentage value is wrong\",\"warning\");\n            }\n          }\n      }else{\n        swal(\"\", \"Please fill mandatory fields\", \"warning\");\n      }\n     \n  }\n  getSubscriptionList(){\n    axios\n        .get('/api/subscriptionplan/get/list')\n        .then((response)=> {\n          console.log(\"response======>\",response);\n            if(response.data){             \n                  var count = (response.data).length;\n                  this.setState({\n                    SubscriptionList : response.data,\n                    totalCount       : count\n                });\n              }\n        })\n        .catch(function (error) {\n            console.log(error);\n            if(error.message === \"Request failed with status code 401\")\n              {\n                swal(\"Your session is expired! Please login again.\",\"\", \"error\");\n                this.props.history.push(\"/\");\n              }\n        });\n  }\n\n  handleChangeSelect(event){\n    var selectVal = this.refs.planName.value;\n    this.setState({\n      \"planName\" : selectVal\n    });\n    console.log(\" event.target.value\", selectVal);\n  }\n\n  deleteItem=(event)=>{\n    event.preventDefault();\n    var id = event.target.getAttribute('data-id');\n    if(id){\n      swal({\n            title: \"Are you sure?\",\n            text: \"Once deleted, you will not be able to recover this information!\",\n            icon: \"warning\",\n            buttons: true,\n            dangerMode: true,\n          })\n          .then((willDelete) => {\n              if (willDelete) {\n                 axios\n                      .delete('/api/subscriptionplan/delete/'+id)\n                      .then((response)=> {\n                        console.log(\"delete---res\",response);\n                        if(response.data=='Deleted Successfully'){\n                          swal(\"Subscription deleted successfully\");\n                          this.getSubscriptionList(); \n                          // $('#myModal'+this.state.deleteId).css('display','none');                   \n                        }\n                      })\n                      .catch(function (error) {\n                          console.log(error);\n                          if(error.message === \"Request failed with status code 401\")\n                            {\n                                 swal(\"Your session is expired! Please login again.\",\"\", \"error\");\n                                 this.props.history.push(\"/\");\n                            }\n                      });\n\n            } else {\n              swal(\"Your Subscription is safe!\");\n            }\n          });\n    }\n  }\n\n  editItem=(event)=>{\n    event.preventDefault();\n    $(\"html,body\").scrollTop(0);\n    var id = event.target.getAttribute('data-id');\n    this.setState({\n      id : id,\n      editId: id\n    })\n    this.props.history.push('/addSubscription/'+id);\n     axios\n        .get('/api/subscriptionplan/get/one/'+id)\n        .then((response)=> {\n\n          console.log(\"res------>\",response.data);\n          this.setState({\n            'planName'         : response.data.planName,\n            'maxCheckIns'      : response.data.maxCheckIns,\n            'price'            : response.data.price,\n            'validityDays'     : response.data.validityDays,\n            'discount'         : response.data.discount,\n            'description'      : response.data.description,\n            'createdBy'        : response.data.createdBy,\n            'createAt'         : response.data.createAt,\n          })\n            \n        })\n        .catch(function (error) {\n            console.log(error);\n            if(error.message === \"Request failed with status code 401\")\n              {\n                   swal(\"Your session is expired! Please login again.\",\"\", \"error\");\n                   this.props.history.push(\"/\");\n              }\n        });\n  }\n\n// submitSubscriptionInfo=(event)=>{\n//     event.preventDefault();\n   \n//    //close array\n\n//     console.log(\"subscriptionInfoFormValue\",subscriptionInfoFormValue);\n//      axios.post('http://cofficapi.iassureit.com/api/subscription',{subscriptionInfoFormValue})\n//     .then(function (response) {\n//       // handle success\n//       console.log(\"this is response===>>>\",response);\n//       swal(\"Good job!\", \"Subscription Information Submitted!\", \"success\")\n//     })\n//     .catch(function (error) {\n//       // handle error\n//       console.log(error);\n//       swal(\"\", \"Subscription Information  failed to submit!\", \"Danger\")\n\n//     })\n//     .finally(function () {\n//       // always executed\n//     });\n\n  \n//   }\n\n   handleChange(event){\n    const target = event.target;\n    const name   = target.name;\n    this.setState({\n      [name]: event.target.value,\n    });\n\n    // const target = event.target;\n    // const {name , value}   = event.target;\n    const datatype = event.target.getAttribute('name');\n    console.log('==>>',datatype);\n    const {name1,value} = event.target;\n    let formerrors = this.state.formerrors;\n\n    switch (datatype){\n      case 'discount' : \n        formerrors.discount = numberRegex.test(value)   && value.length>0? '' : \"Invalid percentage value\";\n      break;\n      default :\n      break;\n    }\n    // this.setState({formerrors,})\n    this.setState({formerrors,\n      [name1]:value\n    } );\n  }\n\n  \n\n  componentWillReceiveProps(nextProps) {\n\n    \n  }\n\n\n  onChange(evt){\n    var newContent = evt.editor.getData();\n    console.log(\"onChange fired with event info: \", newContent);\n    this.setState({\n      description: newContent\n    },()=>{\n      if(this.state.content){\n        this.setState({\n          contentError : ''\n        });\n      }else{\n        this.setState({\n          contentError : 'This field is required'\n        })\n      }\n    })\n  }\n\n  render(){\n    console.log(\"this.state.SubscriptionList\",this.state.SubscriptionList);\n    return(\n      <div className=\"row\">\n        <div className=\"col-lg-12 col-md-12 col-xs-12 col-sm-12\">\n         <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 workHeader\">\n          <h4 className=\"h5lettersp MasterBudgetTitle\">Subscription Details</h4>\n         </div>\n         <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 noborder\">\n          <h5 className=\"h5Title  col-lg-12 col-md-12 col-sm-12 col-xs-12\">Create Subscription Packages</h5>\n         </div>\n           <hr className=\"compySettingHr\" />\n           <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n            <form id=\"CompanySMSGatewayForm\"  >\n              <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 pdcls\"> \n                <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 compForm compinfotp\">\n                   <div className=\" formht col-lg-6 col-md-12 col-sm-12 col-xs-12\">\n                    <div className=\"\">\n                        <label className=\"control-label statelabel locationlabel\" >Subscription Name</label>\n                        <span className=\"astrick\">*</span>\n                        <div className=\"input-group inputBox-main  new_inputbx \" >\n                          <div className=\"input-group-addon remove_brdr inputIcon\">\n                            <i className=\"fa fa-building\"></i>\n                          </div>   \n                          <select onChange={this.handleChangeSelect.bind(this)} ref=\"planName\"\n                             type=\"text\" name=\"planName\" placeholder=\"Enter Subscription Name\" value={this.state.planName} \n                             className=\"selectbox\" title=\"Please enter package Name\">\n                              <option >----Select Package----</option>\n                              <option>Monthly Package</option>\n                              <option>Weekly Package</option>\n                              <option>Daily Package</option>     \n                          </select>\n                       </div> \n                       {/* {this.state.formerrors.companytaxtype &&(\n                          <span className=\"text-danger\">{this.state.formerrors.companytaxtype}</span> \n                        )}*/}\n                    </div>  \n                  </div>\n                  <div className=\" formht col-lg-6 col-md-12 col-sm-12 col-xs-12 zzero\">\n                    <div className=\"\">\n                        <label className=\"control-label statelabel locationlabel\" >Number of Check-ins</label>\n                        <span className=\"astrick\">*</span>\n                        <div className=\"input-group inputBox-main  new_inputbx \" >\n                           <div className=\"input-group-addon remove_brdr inputIcon\">\n                            <i className=\"fa fa-building\"></i>\n                         </div>  \n                        <input id=\"maxCheckIns\" placeholder=\"Enter Number of Check-ins\" onChange={this.handleChange}\n                         type=\"number\" name=\"maxCheckIns\" ref=\"maxCheckIns\" value={this.state.maxCheckIns}\n                         className=\"form-control areaStaes newinputbox\" title=\"maxCheckIns\" autoComplete=\"off\"  />\n                        </div> \n                       {/* {this.state.formerrors.companytaxrate &&(\n                          <span className=\"text-danger\">{this.state.formerrors.companytaxrate}</span> \n                        )}*/}\n                    </div>  \n                  </div>  \n                 </div> \n                 <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 compForm compinfotp\">\n                   <div className=\" formht col-lg-6 col-md-12 col-sm-12 col-xs-12\">\n                    <div className=\"\">\n                        <label className=\"control-label statelabel locationlabel\" >Validity in Days</label>\n                        <span className=\"astrick\">*</span>\n                        <div className=\"input-group inputBox-main  new_inputbx \" >\n                           <div className=\"input-group-addon remove_brdr inputIcon\">\n                            <i className=\"fa fa-building\"></i>\n                         </div>  \n                        <input id=\"validityDays\"  onChange={this.handleChange}\n                          type=\"number\" name=\"validityDays\" placeholder=\"Enter Validity\" value={this.state.validityDays}\n                          className=\"form-control areaStaes newinputbox\" title=\"Please enter validity of plan\" />\n                       </div> \n                       {/* {this.state.formerrors.companytaxtype &&(\n                          <span className=\"text-danger\">{this.state.formerrors.companytaxtype}</span> \n                        )}*/}\n                    </div>  \n                  </div>\n                  <div className=\" formht col-lg-6 col-md-12 col-sm-12 col-xs-12\">\n                    <div className=\"\">\n                        <label className=\"control-label statelabel locationlabel\" >Cost(INR)</label>\n                        <span className=\"astrick\">*</span>\n                        <div className=\"input-group inputBox-main  new_inputbx \" >\n                           <div className=\"input-group-addon remove_brdr inputIcon\">\n                            <i className=\"fa fa-building\"></i>\n                         </div>  \n                        <input id=\"price\"  onChange={this.handleChange} value={this.state.price}\n                         type=\"number\" name=\"price\" placeholder=\"Enter Cost\" ref=\"price\"\n                        className=\"form-control areaStaes newinputbox\" title=\"Please enter total price of package\" />\n                       </div> \n                       {/* {this.state.formerrors.companytaxtype &&(\n                          <span className=\"text-danger\">{this.state.formerrors.companytaxtype}</span> \n                        )}*/}\n                    </div>  \n                  </div>\n                </div>                 \n                <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 compForm compinfotp\">\n                   <div className=\" formht col-lg-6 col-md-12 col-sm-12 col-xs-12\">\n                    <div className=\"\">\n                        <label className=\"control-label statelabel locationlabel\" >Discount (in %)</label>\n                        <span className=\"astrick\">*</span>\n                        <div className=\"input-group inputBox-main  new_inputbx \" >\n                           <div className=\"input-group-addon remove_brdr inputIcon\">\n                            <i className=\"fa fa-building\"></i>\n                         </div>  \n                        <input id=\"discount\"  onChange={this.handleChange} max=\"100\"\n                         type=\"number\" name=\"discount\" placeholder=\"Enter discount\" value={this.state.discount}\n                          className=\"form-control areaStaes newinputbox\" title=\"Please enter validity of plan\" />\n                       </div> \n                        {this.state.formerrors.discount &&(\n                          <span className=\"text-danger\">{this.state.formerrors.discount}</span> \n                        )}\n                    </div>  \n                  </div>\n                </div>\n                <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 compForm compinfotp\">\n                  <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n                    <div className=\"\">\n                      <label className=\"control-label statelabel locationlabel\" >Description</label>\n                      <span className=\"astrick\">*</span>\n                    </div>\n                        {/*<input id=\"Description\"  onChange={this.handleChange} value={this.state.Description}\n                         type=\"text\" name=\"Description\" placeholder=\"Enter Descriptiont\" ref=\"Description\"\n                        className=\"form-control areaStaes newinputbox\" title=\"Please enter alphanumeric only\" />\n                       */}\n                    <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 NOpadding\">  \n                      <CKEditor activeClass=\"p15\" id=\"editor\" className=\"templateName\" content={this.state.description} events={{\"change\": this.onChange}}/>\n                    </div> \n                       {/* {this.state.formerrors.companytaxtype &&(\n                          <span className=\"text-danger\">{this.state.formerrors.companytaxtype}</span> \n                        )}*/}\n                  </div>\n                 </div> \n              </div>\n              <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 marTop20 marginBtmDiv\">\n                <button className=\"btn buttontAddEdit pull-right\" id=\"btnCheck\" onClick={this.submitSubscriptionInfo.bind(this)}>{this.state.editId==''?\"Submit\":\"Update\"}  </button>\n              </div>\n              <div className=\"col-lg-12\">\n                <table className=\"table tableCustom table-striped\">\n                  <thead className=\"bgThead\">\n                    <tr>\n                      <th>Subscription Name</th>\n                      <th className=\"text-center\">No. of Check-ins</th>\n                      <th className=\"text-center\">Validity in Days</th>\n                      <th className=\"text-center\">Cost</th>\n                      <th className=\"text-center\">Discount</th>\n                      <th className=\"text-center\">Description</th>\n                      <th className=\"text-left\">Action</th>\n                    </tr>\n                  </thead>\n                  {this.state.SubscriptionList.length>0?\n                    <tbody>\n                      {this.state.SubscriptionList.map((itemData,index)=>{\n                        var textcontent = renderHTML(itemData.description );                                   \n                          return (\n                              <tr key={index}>\n                                <td className=\"text-left\">{itemData.planName}</td>\n                                <td className=\"text-center\">{itemData.maxCheckIns}</td>\n                                <td className=\"text-center\">{itemData.validityDays}</td>\n                                <td className=\"text-center\">{itemData.price}</td>\n                                <td className=\"text-center\">{itemData.discount}</td>\n                                <td className=\"text-left\">{textcontent}</td>\n                                <td className=\"text-center\">\n                                  <i className=\"fa fa-pencil cptr\" title=\"Edit\" data-id={itemData._id} onClick={this.editItem}>\n                                  </i>&nbsp;&nbsp;&nbsp;&nbsp;\n                                  <i className=\"fa fa-trash cptr\" title=\"Delete\" data-id={itemData._id} onClick={this.deleteItem} data-toggle=\"modal\" aria-labelledby=\"myModal\" data-target={\"myModal\"+itemData._id} aria-hidden=\"true\"></i>\n                                </td>\n                              </tr>\n                            )\n                        })\n                      }\n                    \n                    </tbody>\n                    :\n                    <tbody>\n                      <tr>\n                        <td colSpan=\"6\" className=\"text-center\">No record found</td>                 \n                      </tr>\n                    </tbody>\n                  }\n\n                </table>\n              </div>\n            </form>\n          </div>\n        </div>\n      </div>\n\n      );\n  }\n\n }\n\n export default addSubscription;"]},"metadata":{},"sourceType":"module"}