{"ast":null,"code":"var _jsxFileName = \"/home/iassureit/wealthyvia/webApp/admin/src/coreAdmin/userManagement/UM/CreateUser.js\";\nimport React, { Component } from 'react';\nimport InputMask from 'react-input-mask';\nimport $ from \"jquery\";\nimport axios from 'axios';\nimport swal from 'sweetalert';\nimport 'font-awesome/css/font-awesome.min.css';\nimport 'bootstrap/js/modal.js';\nimport './userManagement.css';\n\nconst formValid = formerrors => {\n  // console.log(\"formerrors\",formerrors);\n  let valid = true;\n  Object.values(formerrors).forEach(val => {\n    val.length > 0 && (valid = false);\n  });\n  return valid;\n};\n\nconst nameRegex = RegExp(/^[A-za-z']+( [A-Za-z']+)*$/);\nconst mobileRegex = RegExp(/^[0-9][0-9]{9}$/);\nconst emailRegex = RegExp(/^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/);\n\nclass CreateUser extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      show: true,\n      office: null,\n      allPosts: null,\n      firstname: \"\",\n      role: \"--select--\",\n      lastname: \"\",\n      signupEmail: \"\",\n      mobNumber: \"\",\n      formerrors: {\n        firstname: \"\",\n        lastname: \"\",\n        signupEmail: \"\",\n        mobNumber: \"\",\n        role: \"\"\n      }\n    };\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  handleChange(event) {\n    const datatype = event.target.getAttribute('data-text');\n    const _event$target = event.target,\n          name = _event$target.name,\n          value = _event$target.value;\n    let formerrors = this.state.formerrors; // console.log(\"value\",value);\n\n    switch (datatype) {\n      case 'firstname':\n        formerrors.firstname = nameRegex.test(value) && value.length > 0 ? '' : \"Please Enter Valid Name\";\n        break;\n\n      case 'lastname':\n        formerrors.lastname = nameRegex.test(value) && value.length > 0 ? '' : \"Please Enter Valid Name\";\n        break;\n\n      case 'mobNumber':\n        formerrors.mobNumber = mobileRegex.test(value) && value.length > 0 ? '' : \"Please enter a valid Contact Number\";\n        break;\n\n      case 'signupEmail':\n        formerrors.signupEmail = emailRegex.test(value) && value.length > 0 ? \"\" : \"Please enter a valid Email ID\";\n        break;\n\n      case 'role':\n        formerrors.role = value != \"--select--\" ? \"\" : \"Please select role\";\n        break;\n\n      default:\n        break;\n    }\n\n    this.setState({\n      formerrors,\n      [name]: value\n    });\n  }\n\n  componentDidMount() {\n    axios.get('/api/users/list').then(res => {\n      // console.log('res', res);\n      const postsdata = res.data; // console.log('postsdata',postsdata);\n\n      this.setState({\n        allPosts: postsdata\n      }); // console.log(\"allPosts___________________\",this.state.allPosts);\n\n      let locationArray = [];\n\n      if (this.state.allPosts != null) {\n        locationArray = this.state.allPosts.map(function (item) {\n          return item.companyLocationsInfo;\n        });\n      } else {\n        locationArray = \"no data\";\n      }\n\n      this.setState({\n        office: locationArray\n      }); // here for list\n\n      var data = {\n        \"startRange\": this.state.startRange,\n        \"limitRange\": this.state.limitRange\n      };\n      axios.get('/api/users/get/list/1').then(res => {\n        // console.log(\"herer\",res);\n        var tableData = res.data.map((a, i) => {\n          return {\n            _id: a._id,\n            fullName: a.fullName,\n            email: a.email,\n            mobNumber: a.mobNumber,\n            status: a.status,\n            role: a.role\n          };\n        });\n        this.setState({\n          completeDataCount: res.data.length,\n          tableData: tableData\n        }, () => {\n          console.log('tableData', this.state.tableData);\n        });\n      }).catch(error => {\n        console.log(\"error = \", error);\n\n        if (error.message === \"Request failed with status code 401\") {\n          swal(\"Your session is expired! Please login again.\", \"\", \"error\");\n          this.props.history.push(\"/\");\n        } // alert(\"Something went wrong! Please check Get URL.\");\n\n      });\n    }).catch(error => {\n      console.log(\"error = \", error);\n\n      if (error.message === \"Request failed with status code 401\") {\n        swal(\"Your session is expired! Please login again.\", \"\", \"error\");\n        this.props.history.push(\"/\");\n      } // alert(\"Something went wrong! Please check Get URL.\");\n\n    });\n  }\n\n  createUser(event) {\n    event.preventDefault();\n    const formValues = {\n      \"firstname\": this.state.firstname,\n      \"lastname\": this.state.lastname,\n      \"email\": this.state.signupEmail,\n\n      /*\"countryCode\"     : \"+91\",*/\n      \"mobNumber\": this.state.mobNumber,\n      \"pwd\": \"user123\",\n      \"status\": \"Active\",\n      \"role\": this.state.role\n    };\n\n    if (this.state.firstname != \"\" && this.state.lastname != \"\" && this.state.signupEmail && this.state.mobNumber && this.state.role != \"--select--\") {\n      axios.post('/api/users/post/signup/user', formValues).then(res => {\n        console.log(\"result\", res.data);\n        swal(\"User added successfully\", \"\", \"success\");\n        this.refs.firstname.value = '';\n        this.refs.lastname.value = '';\n        this.refs.signupEmail.value = '';\n        this.refs.mobNumber.value = '';\n        this.setState({\n          show: false\n        });\n        var data = {\n          \"startRange\": this.state.startRange,\n          \"limitRange\": this.state.limitRange\n        };\n        this.props.getData(0, 10);\n        var modal = document.getElementById(\"CreateUserModal\");\n        modal.style.display = \"none\";\n        $('.modal-backdrop').remove(); // this.props.history.push(\"/umlistofusers\");       \n\n        window.location.reload();\n      }).catch(error => {\n        console.log(\"error = \", error);\n        this.setState({\n          show: false\n        });\n\n        if (error.message === \"Request failed with status code 401\") {\n          swal(\"Your session is expired! Please login again.\", \"\", \"error\");\n          this.props.history.push(\"/\");\n        }\n      });\n    } else {\n      swal(\"Please enter mandatory fields\", \"\", \"warning\");\n      console.error(\"FORM INVALID - DISPLAY ERROR MESSAGE\");\n    }\n  }\n\n  render() {\n    const formerrors = this.state.formerrors;\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"modal fade\",\n      id: \"CreateUserModal\",\n      tabIndex: \"-1\",\n      role: \"dialog\",\n      \"aria-labelledby\": \"exampleModalLabel\",\n      \"aria-hidden\": \"true\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 217\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"modal-dialog modal-lg \",\n      role: \"document\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 218\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"modal-content modalContent ummodallftmg ummodalmfdrt col-lg-12 \",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 219\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"modal-header userHeader\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 220\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      type: \"button\",\n      className: \"close\",\n      \"data-dismiss\": \"modal\",\n      \"aria-label\": \"Close\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      \"aria-hidden\": \"true\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222\n      },\n      __self: this\n    }, \"\\xD7\")), React.createElement(\"h4\", {\n      className: \"modal-title\",\n      id: \"exampleModalLabel\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 224\n      },\n      __self: this\n    }, \"Add New User\")), React.createElement(\"div\", {\n      className: \"modal-body\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"hideModal\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 229\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 230\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 231\n      },\n      __self: this\n    }, React.createElement(\"section\", {\n      className: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 232\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"box-body\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 233\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 234\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      id: \"signUpUser\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 235\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"signuppp col-lg-12 col-md-12 col-sm-12 col-xs-12 createusr \",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 236\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \" col-lg-6 col-md-6 col-xs-6 col-sm-6 inputContent\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 237\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      className: \"formLable col-lg-12 col-md-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 238\n      },\n      __self: this\n    }, \"First Name \", React.createElement(\"label\", {\n      className: \"requiredsign\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 238\n      },\n      __self: this\n    }, \"*\")), React.createElement(\"span\", {\n      className: \"blocking-span\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 239\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"input-group inputBox-main  new_inputbx \",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 240\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"input-group-addon remove_brdr inputIcon\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 241\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"fa fa-user-circle fa \",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 242\n      },\n      __self: this\n    })), React.createElement(\"input\", {\n      type: \"text\",\n      style: {\n        textTransform: 'capitalize'\n      },\n      className: \"form-control UMname inputText form-control  has-content\",\n      id: \"firstname\",\n      ref: \"firstname\",\n      name: \"firstname\",\n      \"data-text\": \"firstname\",\n      placeholder: \"First Name\",\n      onChange: this.handleChange,\n      value: this.state.firstname,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 244\n      },\n      __self: this\n    }))), this.state.formerrors.firstname && React.createElement(\"span\", {\n      className: \"text-danger\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 251\n      },\n      __self: this\n    }, this.state.formerrors.firstname)), React.createElement(\"div\", {\n      className: \" col-lg-6 col-md-6 col-xs-6 col-sm-6 inputContent\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 254\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      className: \"formLable col-lg-12 col-md-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 255\n      },\n      __self: this\n    }, \"Last Name \", React.createElement(\"label\", {\n      className: \"requiredsign\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 255\n      },\n      __self: this\n    }, \"*\")), React.createElement(\"span\", {\n      className: \"blocking-span \",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 256\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"input-group inputBox-main  new_inputbx \",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 257\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"input-group-addon remove_brdr inputIcon\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 258\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"fa fa-user-circle fa \",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 259\n      },\n      __self: this\n    })), React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control UMname inputText form-control  has-content\",\n      id: \"lastname\",\n      ref: \"lastname\",\n      name: \"lastname\",\n      \"data-text\": \"lastname\",\n      onChange: this.handleChange,\n      value: this.state.lastname,\n      placeholder: \"Last Name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 261\n      },\n      __self: this\n    }))), this.state.formerrors.lastname && React.createElement(\"span\", {\n      className: \"text-danger\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 267\n      },\n      __self: this\n    }, this.state.formerrors.lastname))), React.createElement(\"div\", {\n      className: \"signuppp col-lg-12 col-md-12 col-sm-12 col-xs-12 createusr\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 271\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \" col-lg-6 col-md-6 col-xs-12 col-sm-12 inputContent\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 272\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      className: \"formLable col-lg-12 col-md-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 273\n      },\n      __self: this\n    }, \"Email ID \", React.createElement(\"label\", {\n      className: \"requiredsign\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 273\n      },\n      __self: this\n    }, \"*\")), React.createElement(\"span\", {\n      className: \"blocking-span col-lg-12 col-md-12 col-xs-12 col-sm-12 emailfixdomain\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 274\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"input-group inputBox-main   \",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 275\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"input-group-addon remove_brdr inputIcon\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 276\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"fa fa-envelope-square\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 277\n      },\n      __self: this\n    })), React.createElement(\"input\", {\n      type: \"text\",\n      className: \"formFloatingLabels form-control  newinputbox\",\n      ref: \"signupEmail\",\n      name: \"signupEmail\",\n      id: \"signupEmail\",\n      \"data-text\": \"signupEmail\",\n      onChange: this.handleChange,\n      value: this.state.signupEmail,\n      placeholder: \"Email\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 279\n      },\n      __self: this\n    }))), this.state.formerrors.signupEmail && React.createElement(\"span\", {\n      className: \"text-danger\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 285\n      },\n      __self: this\n    }, this.state.formerrors.signupEmail)), React.createElement(\"div\", {\n      className: \" col-lg-6 col-md-6 col-xs-12 col-sm-6 inputContent\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 289\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      className: \"formLable col-lg-12 col-md-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 290\n      },\n      __self: this\n    }, \"Mobile Number \", React.createElement(\"label\", {\n      className: \"requiredsign\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 290\n      },\n      __self: this\n    }, \"*\")), React.createElement(\"span\", {\n      className: \"blocking-span \",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 291\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"input-group inputBox-main  new_inputbx \",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 292\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"input-group-addon remove_brdr inputIcon\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 293\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"fa fa-mobile\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 294\n      },\n      __self: this\n    })), React.createElement(InputMask, {\n      mask: \"9999999999\",\n      pattern: \"^(0|[1-9][0-9-]*)$\",\n      className: \"form-control UMname inputText form-control  has-content\",\n      ref: \"mobNumber\",\n      name: \"mobNumber\",\n      id: \"mobNumber\",\n      \"data-text\": \"mobNumber\",\n      placeholder: \"Mobile No\",\n      onChange: this.handleChange,\n      value: this.state.mobNumber,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 296\n      },\n      __self: this\n    }))), this.state.formerrors.mobNumber && React.createElement(\"span\", {\n      className: \"text-danger\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 304\n      },\n      __self: this\n    }, this.state.formerrors.mobNumber))), React.createElement(\"div\", {\n      className: \"signuppp col-lg-12 col-md-12 col-sm-12 col-xs-12 createusr\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 310\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \" col-lg-6 col-md-6 col-xs-12 col-sm-12 inputContent\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 311\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      className: \"formLable col-lg-12 col-md-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 312\n      },\n      __self: this\n    }, \"Role \", React.createElement(\"label\", {\n      className: \"requiredsign\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 312\n      },\n      __self: this\n    }, \"*\")), React.createElement(\"span\", {\n      className: \"blocking-span col-lg-12 col-md-12 col-xs-12 col-sm-12 emailfixdomain\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 313\n      },\n      __self: this\n    }, React.createElement(\"select\", {\n      className: \"form-control\",\n      value: this.state.role,\n      onChange: this.handleChange,\n      ref: \"role\",\n      id: \"role\",\n      name: \"role\",\n      \"data-text\": \"role\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 314\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      hidden: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 315\n      },\n      __self: this\n    }, \" --Select-- \"), React.createElement(\"option\", {\n      value: \"admin\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 317\n      },\n      __self: this\n    }, \" admin \"))), this.state.formerrors.role && React.createElement(\"span\", {\n      className: \"text-danger\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 322\n      },\n      __self: this\n    }, this.state.formerrors.role))), React.createElement(\"div\", {\n      className: \" col-lg-12 col-md-12 col-xs-12 col-sm-12 \",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 354\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      className: \"col-lg-2 col-md-2 col-xs-12 col-sm-12 col-xs-12 pull-right btn btnSubmit topMargin outlinebox\",\n      type: \"submit\",\n      onClick: this.createUser.bind(this),\n      id: \"CreateUserModal\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 355\n      },\n      __self: this\n    }, \"Register\")))))))))))))));\n  }\n\n}\n\nexport default CreateUser;\n/*withTracker(props =>{\nreturn{\nusrcrt : props.usrcrt,  \n} \n})*/\n\n/*(CreateUser);*/","map":{"version":3,"sources":["/home/iassureit/wealthyvia/webApp/admin/src/coreAdmin/userManagement/UM/CreateUser.js"],"names":["React","Component","InputMask","$","axios","swal","formValid","formerrors","valid","Object","values","forEach","val","length","nameRegex","RegExp","mobileRegex","emailRegex","CreateUser","constructor","props","state","show","office","allPosts","firstname","role","lastname","signupEmail","mobNumber","handleChange","bind","event","datatype","target","getAttribute","name","value","test","setState","componentDidMount","get","then","res","postsdata","data","locationArray","map","item","companyLocationsInfo","startRange","limitRange","tableData","a","i","_id","fullName","email","status","completeDataCount","console","log","catch","error","message","history","push","createUser","preventDefault","formValues","post","refs","getData","modal","document","getElementById","style","display","remove","window","location","reload","render","textTransform"],"mappings":"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","sourcesContent":["\nimport React, { Component }      from 'react';\nimport InputMask                 from 'react-input-mask';\nimport $ from \"jquery\";\nimport axios from 'axios';\nimport swal                      from 'sweetalert';\nimport 'font-awesome/css/font-awesome.min.css';\nimport 'bootstrap/js/modal.js';\nimport './userManagement.css';\n\nconst formValid = formerrors=>{\n  // console.log(\"formerrors\",formerrors);\n  let valid = true;\n  Object.values(formerrors).forEach(val=>{\n  val.length>0 && (valid = false);\n  })\n  return valid;\n  }\n\nconst nameRegex     = RegExp(/^[A-za-z']+( [A-Za-z']+)*$/);\nconst mobileRegex   = RegExp(/^[0-9][0-9]{9}$/);\nconst emailRegex    = RegExp (/^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/);\nclass CreateUser extends Component {\n\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      show              : true,\n      office            : null,\n      allPosts          : null,\n      firstname         : \"\",\n      role              : \"--select--\",\n      lastname          :\"\",\n      signupEmail       : \"\",\n      mobNumber         : \"\",\n      \n      formerrors :{\n         firstname    : \"\",\n         lastname     :\"\",\n         signupEmail  : \"\",\n         mobNumber    : \"\",\n         role         : \"\",\n      },\n\n    };\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n handleChange(event){\n    const datatype = event.target.getAttribute('data-text');\n    const {name,value} = event.target;\n    let formerrors = this.state.formerrors;\n    \n    // console.log(\"value\",value);\n    switch (datatype){\n      case 'firstname' : \n        formerrors.firstname = nameRegex.test(value)  && value.length>0 ? '' : \"Please Enter Valid Name\";\n        break;\n\n      case 'lastname' : \n       formerrors.lastname = nameRegex.test(value)  && value.length>0 ? '' : \"Please Enter Valid Name\";\n       break;\n\n      case 'mobNumber' : \n       formerrors.mobNumber = mobileRegex.test(value) && value.length>0 ? '' : \"Please enter a valid Contact Number\";\n       break;\n\n      case 'signupEmail' : \n       formerrors.signupEmail = emailRegex.test(value)  && value.length>0? \"\":\"Please enter a valid Email ID\";\n       break;\n\n      case 'role' : \n        formerrors.role =  value!= \"--select--\" ? \"\":\"Please select role\";\n        break;\n      \n      default :\n      break;\n    }\n    this.setState({ formerrors,\n      [name]:value\n    } );\n  }\n\n\n    componentDidMount() {\n\n      axios\n      .get('/api/users/list')\n      .then(\n        (res)=>{\n          // console.log('res', res);\n          const postsdata = res.data;\n          // console.log('postsdata',postsdata);\n          this.setState({\n            allPosts : postsdata,\n          });\n          // console.log(\"allPosts___________________\",this.state.allPosts);\n          let locationArray =[];\n          if(this.state.allPosts!=null){\n            locationArray = this.state.allPosts.map(function(item) { return item.companyLocationsInfo });\n          }else{\n             locationArray = \"no data\";\n          }\n          this.setState({\n            office : locationArray,\n          });\n          \n        // here for list\n                  var data = {\n                                    \"startRange\"        : this.state.startRange,\n                                    \"limitRange\"        : this.state.limitRange, \n                            }\n                      axios.get('/api/users/get/list/1')\n                      .then( (res)=>{      \n                        // console.log(\"herer\",res);\n                        var tableData = res.data.map((a, i)=>{\n                          return {\n                                    _id             : a._id,\n                                    fullName        : a.fullName,\n                                    email         : a.email,\n                                    mobNumber       : a.mobNumber, \n                                    status          : a.status, \n                                    role           : a.role,\n                          }\n                        })\n                        this.setState({\n                              completeDataCount : res.data.length,\n                              tableData     : tableData,          \n                            },()=>{\n                              console.log('tableData', this.state.tableData);\n                            })\n                      })\n                      .catch((error)=>{\n                        console.log(\"error = \",error);\n                          if(error.message === \"Request failed with status code 401\")\n                            {\n                                 swal(\"Your session is expired! Please login again.\",\"\", \"error\");\n                                 this.props.history.push(\"/\");\n                            }\n                        // alert(\"Something went wrong! Please check Get URL.\");\n                      });\n\n\n        }\n      )\n      .catch((error)=>{\n\n        console.log(\"error = \",error);\n          if(error.message === \"Request failed with status code 401\")\n              {\n                   swal(\"Your session is expired! Please login again.\",\"\", \"error\");\n                   this.props.history.push(\"/\");\n              }\n        // alert(\"Something went wrong! Please check Get URL.\");\n         });  \n    }  \n\n    createUser(event){\n      event.preventDefault();\n      const formValues = {\n          \"firstname\"       : this.state.firstname,\n          \"lastname\"        : this.state.lastname,\n          \"email\"           : this.state.signupEmail,\n          /*\"countryCode\"     : \"+91\",*/\n          \"mobNumber\"       : this.state.mobNumber,\n          \"pwd\"             : \"user123\",\n          \n          \"status\"          : \"Active\",\n          \"role\"            :  this.state.role,\n        }\n\n        if(this.state.firstname!=\"\" && this.state.lastname !=\"\" && this.state.signupEmail && this.state.mobNumber && this.state.role != \"--select--\"){\n           axios.post('/api/users/post/signup/user', formValues)\n                .then( (res)=>{\n                  console.log(\"result\",res.data);\n                    swal(\"User added successfully\", \"\", \"success\");\n                    this.refs.firstname.value = '';\n                    this.refs.lastname.value  = '';\n                    this.refs.signupEmail.value  = '';\n                    this.refs.mobNumber.value = '';\n                    this.setState({show: false})\n\n                    var data = {\n                      \"startRange\"        : this.state.startRange,\n                      \"limitRange\"        : this.state.limitRange, \n                    }\n                                  \n                    this.props.getData(0, 10);\n                    var modal = document.getElementById(\"CreateUserModal\");\n                    modal.style.display = \"none\";\n                    $('.modal-backdrop').remove();\n                    // this.props.history.push(\"/umlistofusers\");       \n                    window.location.reload();\n                })\n              .catch((error)=>{\n                console.log(\"error = \",error);\n                this.setState({show: false})\n                  if(error.message === \"Request failed with status code 401\")\n                  {\n                       swal(\"Your session is expired! Please login again.\",\"\", \"error\");\n                       this.props.history.push(\"/\");\n                  }\n              });\n        }else{\n          swal(\"Please enter mandatory fields\", \"\", \"warning\");\n          console.error(\"FORM INVALID - DISPLAY ERROR MESSAGE\");\n        }\n\n\n    }\n\n    render() {\n      const {formerrors} = this.state;\n      return (\n            <div>\n                        <div className=\"modal fade\" id=\"CreateUserModal\" tabIndex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\n                          <div className=\"modal-dialog modal-lg \" role=\"document\">\n                            <div className=\"modal-content modalContent ummodallftmg ummodalmfdrt col-lg-12 \">\n                              <div className=\"modal-header userHeader\">\n                                <button type=\"button\" className=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n                                  <span aria-hidden=\"true\">&times;</span>\n                                </button>\n                                <h4 className=\"modal-title\" id=\"exampleModalLabel\">Add New User</h4>\n                              </div>\n                             <div className=\"modal-body\">\n                              <div className=\"hideModal\">\n                               {/* <section className=\"viewContent\">*/}\n                                    <div className=\"\">\n                                      <div className=\"\">\n                                          <div className=\"\">                                        \n                                            <section className=\"\">                                          \n                                              <div className=\"box-body\">\n                                                <div className=\"\">\n                                                  <form id=\"signUpUser\">\n                                                    <div className=\"signuppp col-lg-12 col-md-12 col-sm-12 col-xs-12 createusr \">\n                                                     <div className=\" col-lg-6 col-md-6 col-xs-6 col-sm-6 inputContent\">\n                                                      <label className=\"formLable col-lg-12 col-md-12\">First Name <label className=\"requiredsign\">*</label></label>\n                                                       <span className=\"blocking-span\">\n                                                         <div className=\"input-group inputBox-main  new_inputbx \" >\n                                                          <div className=\"input-group-addon remove_brdr inputIcon\">\n                                                            <i className=\"fa fa-user-circle fa \"></i>\n                                                           </div>  \n                                                            <input type=\"text\" style={{textTransform:'capitalize'}}\n                                                             className=\"form-control UMname inputText form-control  has-content\"\n                                                              id=\"firstname\" ref=\"firstname\" name=\"firstname\" data-text=\"firstname\" placeholder=\"First Name\"  onChange={this.handleChange} \n                                                              value={this.state.firstname}/>      \n                                                           </div>   \n                                                          </span>\n                                                          {this.state.formerrors.firstname &&(\n                                                                  <span className=\"text-danger\">{this.state.formerrors.firstname}</span> \n                                                                )}\n                                                      </div>\n                                                      <div className=\" col-lg-6 col-md-6 col-xs-6 col-sm-6 inputContent\">\n                                                          <label className=\"formLable col-lg-12 col-md-12\">Last Name <label className=\"requiredsign\">*</label></label>\n                                                          <span className=\"blocking-span \">\n                                                          <div className=\"input-group inputBox-main  new_inputbx \" >\n                                                             <div className=\"input-group-addon remove_brdr inputIcon\">\n                                                              <i className=\"fa fa-user-circle fa \"></i>\n                                                            </div>  \n                                                             <input type=\"text\"className=\"form-control UMname inputText form-control  has-content\" \n                                                             id=\"lastname\" ref=\"lastname\" name=\"lastname\" data-text=\"lastname\" onChange={this.handleChange} \n                                                             value={this.state.lastname} placeholder=\"Last Name\" />\n                                                          </div>   \n                                                          </span>\n                                                          {this.state.formerrors.lastname &&(\n                                                                  <span className=\"text-danger\">{this.state.formerrors.lastname}</span> \n                                                                )}\n                                                      </div>       \n                                                    </div>\n                                                    <div className=\"signuppp col-lg-12 col-md-12 col-sm-12 col-xs-12 createusr\">\n                                                     <div className=\" col-lg-6 col-md-6 col-xs-12 col-sm-12 inputContent\">\n                                                       <label className=\"formLable col-lg-12 col-md-12\">Email ID <label className=\"requiredsign\">*</label></label>\n                                                          <span className=\"blocking-span col-lg-12 col-md-12 col-xs-12 col-sm-12 emailfixdomain\">\n                                                          <div className=\"input-group inputBox-main   \" >\n                                                           <div className=\"input-group-addon remove_brdr inputIcon\">\n                                                            <i className=\"fa fa-envelope-square\"></i>\n                                                          </div> \n                                                            <input type=\"text\" className=\"formFloatingLabels form-control  newinputbox\" \n                                                            ref=\"signupEmail\" name=\"signupEmail\" id=\"signupEmail\" data-text=\"signupEmail\" onChange={this.handleChange}  value={this.state.signupEmail}\n                                                             placeholder=\"Email\"/>    \n                                                         </div>   \n                                                          </span>\n                                                           {this.state.formerrors.signupEmail &&(\n                                                                  <span className=\"text-danger\">{this.state.formerrors.signupEmail}</span> \n                                                                )}\n\n                                                      </div>  \n                                                      <div className=\" col-lg-6 col-md-6 col-xs-12 col-sm-6 inputContent\">\n                                                          <label className=\"formLable col-lg-12 col-md-12\">Mobile Number <label className=\"requiredsign\">*</label></label>\n                                                          <span className=\"blocking-span \">\n                                                           <div className=\"input-group inputBox-main  new_inputbx \" >\n                                                             <div className=\"input-group-addon remove_brdr inputIcon\">\n                                                              <i className=\"fa fa-mobile\"></i>\n                                                             </div>  \n                                                             <InputMask mask=\"9999999999\" pattern=\"^(0|[1-9][0-9-]*)$\" \n                                                               className= \"form-control UMname inputText form-control  has-content\"\n                                                                ref=\"mobNumber\" name=\"mobNumber\" id=\"mobNumber\" data-text=\"mobNumber\" placeholder=\"Mobile No\"\n                                                                 onChange={this.handleChange} value={this.state.mobNumber}/>\n                                                                  \n                                                           </div>   \n                                                          </span>\n                                                          {this.state.formerrors.mobNumber &&(\n                                                                  <span className=\"text-danger\">{ this.state.formerrors.mobNumber}</span> \n                                                                )}\n\n                                                      </div>\n                                                      \n                                                    </div>\n                                                    <div className=\"signuppp col-lg-12 col-md-12 col-sm-12 col-xs-12 createusr\">\n                                                      <div className=\" col-lg-6 col-md-6 col-xs-12 col-sm-12 inputContent\">\n                                                        <label className=\"formLable col-lg-12 col-md-12\">Role <label className=\"requiredsign\">*</label></label>\n                                                          <span className=\"blocking-span col-lg-12 col-md-12 col-xs-12 col-sm-12 emailfixdomain\">   \n                                                            <select className=\"form-control\" value={this.state.role} onChange={this.handleChange} ref =\"role\" id=\"role\" name=\"role\" data-text=\"role\">\n                                                              <option  hidden> --Select-- </option>\n                                                             {/* <option value=\"vendor\" > vendor </option>*/}\n                                                              <option value=\"admin\" > admin </option>\n                                                             {/* <option value=\"user\" > user </option>*/}\n                                                             </select>\n                                                            </span>\n                                                               {this.state.formerrors.role &&(\n                                                                  <span className=\"text-danger\">{ this.state.formerrors.role}</span> \n                                                                )}\n                                                          </div>\n\n{/*                                                          <div className=\" col-lg-6 col-md-6 col-xs-12 col-sm-12 inputContent\" >\n                                                              <label className=\"formLable col-lg-12 col-md-12 mrgtop6\">Office Location <label className=\"requiredsign\"></label></label>\n                                                                  <span className=\"blocking-span col-lg-12 col-md-12 col-xs-12 col-sm-12 emailfixdomain\">\n                                                                    <select className=\"form-control\" value={this.state.officeid} ref =\"office\" id=\"office\" name=\"office\" data-text=\"office\">\n                                                                        <option hidden> --Select-- </option>\n                                                                        <option value=\"Head Office\">  Head Office </option>\n                                                                        <option value=\"Sales Agent Office\"> Sales Agent Office </option>\n                                                                           { this.state.office != null ?\n                                                                          this.state.office[0].map( (locData, index)=>{\n                                                                          // console.log('locData',locData);\n                                                                           return( \n\n                                                                                 <option key={index} value={locData.officeLocationid ? locData.officeLocationid : null } > {locData.officeLocationid ? locData.officeLocationid : null}  </option>\n\n\n                                                                                   )}\n                                                                           )\n                                                                          :\n                                                                          null\n\n                                                                        }\n                                                                    </select>\n\n                                                                  </span>\n                                                           </div>*/}\n                                                     </div>\n\n\n                                                    <div className=\" col-lg-12 col-md-12 col-xs-12 col-sm-12 \">\n                                                      <button className=\"col-lg-2 col-md-2 col-xs-12 col-sm-12 col-xs-12 pull-right btn btnSubmit topMargin outlinebox\" type=\"submit\" onClick={this.createUser.bind(this)} id=\"CreateUserModal\" >Register</button>\n                                                     </div>    \n                                                </form>\n\n\n\n\n                                                          {/*<form id=\"signUpUser\" onSubmit={this.createUser.bind(this)}>\n                                                              <div className=\"signuppp col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n\n                                                               <div className=\" col-lg-6 col-md-6 col-xs-6 col-sm-6 inputContent\">\n                                                                    <label className=\"\">First Name <label className=\"requiredsign\">*</label></label>\n                                                                    <span className=\"blocking-span\">\n                                                                        <input type=\"text\" style={{textTransform:'capitalize'}} className=\"form-control UMname inputText tmsUserAccForm has-content\" id=\"firstname\" ref=\"firstname\" name=\"firstname\"/>\n                                                                    </span>\n                                                                </div>\n\n                                                               <div className=\" col-lg-6 col-md-6 col-xs-6 col-sm-6 inputContent\">\n                                                                    <label className=\"\">Last Name <label className=\"requiredsign\">*</label></label>\n                                                                    <span className=\"blocking-span row\">\n                                                                       <input type=\"text\"className=\"form-control UMname inputText tmsUserAccForm has-content\" id=\"lastname\" ref=\"lastname\" name=\"lastname\" />\n                                                                    </span>\n                                                                </div>\n\n                                                                <div className=\" col-lg-6 col-md-6 col-xs-12 col-sm-12 inputContent\">\n                                                                    <label className=\"\">Email ID <label className=\"requiredsign\">*</label></label>\n                                                                    <span className=\"blocking-span col-lg-12 col-md-12 col-xs-12 col-sm-12 emailfixdomain\">\n                                                                      <input type=\"text\" className=\"formFloatingLabels form-control\" ref=\"signupEmail\" name=\"signupEmail\" id=\"signupEmail\"/>\n                                                                    </span>\n                                                                </div>\n\n                                                                <div className=\" col-lg-6 col-md-6 col-xs-12 col-sm-6 inputContent\">\n                                                                    <label className=\"\">Mobile Number <label className=\"requiredsign\">*</label></label>\n                                                                    <span className=\"blocking-span\">\n                                                                       <InputMask mask=\"99999-99999\" pattern=\"^(0|[1-9][0-9-]*)$\"   className= \"form-control UMname inputText tmsUserAccForm has-content\" ref=\"mobNumber\" name=\"mobNumber\" id=\"mobNumber\"/>\n                                                                    </span>\n                                                                </div>\n\n                                                                <div className=\" col-lg-12 col-md-12 col-xs-12 col-sm-12 \">\n                                                                    <input className=\"col-lg-2 col-md-2 col-xs-12 col-sm-12 col-xs-12 pull-right btn btnSubmit outlinebox\" type=\"submit\" value=\"REGISTER\" />\n                                                               </div>   \n\n                                                              </div> \n                                                          </form>*/}\n                                                        </div>  \n                                                    </div>\n                                                \n                                          </section>\n                                        </div>\n                                      </div>\n                                    </div>\n                                  \n                               {/* </section>*/}\n                              </div>\n                      \n\n\n                  </div>\n                  </div>\n                      \n                </div>\n              </div>\n             \n            </div>\n        );\n\n    } \n\n}\n\n\nexport default CreateUser;/*withTracker(props =>{\n\n    return{\n        usrcrt : props.usrcrt,  \n    } \n})*//*(CreateUser);*/"]},"metadata":{},"sourceType":"module"}