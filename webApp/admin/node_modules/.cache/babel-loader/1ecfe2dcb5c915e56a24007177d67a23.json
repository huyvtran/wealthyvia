{"ast":null,"code":"var _jsxFileName = \"/home/iassureit/Greisch/greisch/webApp/admin/src/storeAdmin/product/addNewProduct/AddNewShopProduct/AddNewShopProduct.js\";\nimport React, { Component } from 'react';\nimport $ from 'jquery';\nimport jQuery from 'jquery';\nimport axios from 'axios';\nimport ReactTable from \"react-table\";\nimport swal from 'sweetalert';\nimport _ from 'underscore';\nimport AddNewTableFeature from '../addNewTableFeature/addNewTableFeature.js';\nimport 'bootstrap/js/tab.js';\nimport \"./AddNewProduct.css\";\naxios.defaults.baseURL = 'http://gangaexpressapi.iassureit.com';\naxios.defaults.headers.post['Content-Type'] = 'application/json';\n\nclass AddNewShopProduct extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      subcategoryArray: [],\n      categoryArray: [],\n      addrows: [1],\n      productMode: '',\n      productFeatured: false,\n      productExclusive: false,\n      catError: false,\n      subCatError: false,\n      subCatFormErrors: false,\n      editId: this.props.match.params ? this.props.match.params.productID : ''\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.addNewRow = this.addNewRow.bind(this);\n  }\n\n  componentWillReceiveProps(nextProps) {\n    var editId = nextProps.match.params.id;\n\n    if (nextProps.match.params.id) {\n      this.setState({\n        editId: editId\n      });\n      this.edit(editId);\n    }\n  }\n\n  handleChange(event) {\n    const target = event.target;\n    const name = target.name;\n    this.setState({\n      [name]: event.target.value\n    });\n  }\n\n  componentDidMount() {\n    if (this.state.editId) {\n      this.edit(this.state.editId);\n    }\n\n    $.validator.addMethod(\"valueNotEquals\", function (value, element, arg) {\n      return arg !== value;\n    }, \"Please select the category\");\n    $.validator.addMethod(\"regxSubCat\", function (value, element, arg) {\n      return arg !== value;\n    }, \"Please select the sub category\");\n    $.validator.addMethod(\"regxbrand\", function (value, element, regexpr) {\n      return regexpr.test(value);\n    }, \"Brand should only contain letters & number.\");\n    $.validator.addMethod(\"regxProductCode\", function (value, element, regexpr) {\n      return regexpr.test(value);\n    }, \"Product Code should only contain letters & number.\");\n    $.validator.addMethod(\"regxProductName\", function (value, element, regexpr) {\n      return regexpr.test(value);\n    }, \"Product Name should only contain letters & number.\");\n    $.validator.addMethod(\"regxUrl\", function (value, element, regexpr) {\n      return regexpr.test(value);\n    }, \"Product Url should only contain letters & number.\");\n    $.validator.addMethod(\"regxPrice\", function (value, element, regexpr) {\n      return regexpr.test(value);\n    }, \"Product Price should only contain letters & number.\");\n    $.validator.addMethod(\"regxDetails\", function (value, element, regexpr) {\n      return regexpr.test(value);\n    }, \"Product Details should only contain letters & number.\");\n    $.validator.addMethod(\"regxShortDesc\", function (value, element, regexpr) {\n      return regexpr.test(value);\n    }, \"Product Short Description should only contain letters & number.\");\n    $.validator.addMethod(\"regxPrice\", function (value, element, regexpr) {\n      return regexpr.test(value);\n    }, \"Product Price should only numbers.\");\n    jQuery.validator.setDefaults({\n      debug: true,\n      success: \"valid\"\n    });\n    $(\"#addNewShopProduct\").validate({\n      rules: {\n        category: {\n          required: true,\n          valueNotEquals: \"Select Category\"\n        },\n        subCategory: {\n          required: true,\n          regxSubCat: \"Select Sub-Category\"\n        },\n        brand: {\n          required: true,\n          regxbrand: /^[a-zA-Z0-9!@#$%^&*()_+\\-=\\[\\]{};':\"\\\\|,.<>\\/?\\s]*$/\n        },\n        productCode: {\n          required: true\n        },\n        productName: {\n          required: true\n        },\n        productUrl: {\n          required: true,\n          regxUrl: /^[A-Za-z][A-Za-z0-9\\-\\s]*$/\n        },\n        productPrice: {\n          required: true,\n          regxPrice: /^[0-9 ]*$/\n        },\n        currency: {\n          required: true\n        },\n        productDetails: {\n          required: true\n        },\n        shortDescription: {\n          required: true\n        },\n        status: {\n          required: true,\n          valueNotEquals: \"-Select-\"\n        }\n      },\n      errorPlacement: function (error, element) {\n        if (element.attr(\"name\") == \"category\") {\n          error.insertAfter(\"#category\");\n        }\n\n        if (element.attr(\"name\") == \"subCategory\") {\n          error.insertAfter(\"#subCategory\");\n        }\n\n        if (element.attr(\"name\") == \"brand\") {\n          error.insertAfter(\"#brand\");\n        }\n\n        if (element.attr(\"name\") == \"productCode\") {\n          error.insertAfter(\"#productCode\");\n        }\n\n        if (element.attr(\"name\") == \"productName\") {\n          error.insertAfter(\"#productName\");\n        }\n\n        if (element.attr(\"name\") == \"productUrl\") {\n          error.insertAfter(\"#productUrl\");\n        }\n\n        if (element.attr(\"name\") == \"productPrice\") {\n          error.insertAfter(\"#productPrice\");\n        }\n\n        if (element.attr(\"name\") == \"currency\") {\n          error.insertAfter(\"#currency\");\n        }\n\n        if (element.attr(\"name\") == \"productDetails\") {\n          error.insertAfter(\"#productDetails\");\n        }\n\n        if (element.attr(\"name\") == \"shortDescription\") {\n          error.insertAfter(\"#shortDescription\");\n        }\n\n        if (element.attr(\"name\") == \"status\") {\n          error.insertAfter(\"#status\");\n        }\n      }\n    });\n    this.getWebCategories();\n  }\n\n  getWebCategories() {\n    axios.get('/api/category/get/list').then(response => {\n      console.log('getWebCategories', response);\n\n      var webCategorys = _.pluck(response.data, \"webCategory\");\n\n      var webCategoryArray = _.unique(webCategorys);\n\n      this.setState({\n        webCategoryArray: webCategoryArray\n      });\n    }).catch(error => {\n      console.log('error', error);\n    });\n  }\n\n  showRelevantCategories(event) {\n    var webCategory = event.target.value;\n    console.log('webCategory', webCategory);\n    axios.get('/api/category/get/list/' + webCategory).then(response => {\n      this.setState({\n        categoryArray: response.data,\n        category: \"Select Category\",\n        subCategory: \"Select Sub-Category\"\n      });\n    }).catch(error => {\n      console.log('error', error);\n    });\n  }\n\n  getCategories() {\n    axios.get('/api/category/get/list').then(response => {\n      this.setState({\n        categoryArray: response.data\n      });\n    }).catch(error => {\n      console.log('error', error);\n    });\n  }\n\n  getSubCategories(categoryID) {\n    axios.get('/api/category/get/one/' + categoryID).then(response => {\n      this.setState({\n        subcategoryArray: response.data.subCategory,\n        subCategory: \"Select Sub-Category\"\n      });\n    }).catch(error => {\n      console.log('error', error);\n    });\n  }\n\n  componentWillUnmount() {// $(\"body\").find(\"script[src='/js/adminLte.js']\").remove();\n    // if(this.basicPageTracker)\n    //   this.basicPageTracker.stop();\n  }\n\n  addNewRow(event) {\n    event.preventDefault();\n    var newArr = this.state.addrows;\n\n    if (newArr) {\n      newArr.push(newArr.length + 1);\n      this.setState({\n        \"addrows\": newArr\n      });\n    }\n  }\n\n  addSubCategoryWithProduct(event) {\n    event.preventDefault(); // const isValidEmail = categoryRef.checkValidity();\n    // console.log('isValidEmail',isValidEmail);\n    // var categoryVal = this.refs.categoryRef.value;\n    // var subcategoryVal = this.refs.modalAddSubCategoryRef.value;\n    // if(categoryVal != '-Select-'){\n    //     if(subcategoryVal){\n    //         if (categoryVal.indexOf(\"/\") >= 0 || subcategoryVal.indexOf(\"/\") >= 0){\n    //             swal({\n    //                 position: 'top-right',\n    //                 type: 'error',\n    //                 title: 'Please remove \"/\" from subcategory',\n    //                 text: 'Please remove \"/\" from subcategory',\n    //                 showConfirmButton: false,\n    //                 timer: 1500\n    //             });\n    //         }else{\n    //             var formValues = {\n    //                 \"category\"          :   categoryVal,\n    //                 \"subCategory\"       :   subcategoryVal,\n    //             }\n    //             Meteor.call('addNewSubCategory', formValues, (error, result) => {\n    //                 if(error){\n    //                     swal({\n    //                         position: 'top-right',\n    //                         type: 'error',\n    //                         text: 'Sub Category Not Added',\n    //                         title: 'Sub Category Not Added',\n    //                         showConfirmButton: false,\n    //                         timer: 1500\n    //                     });\n    //                 } else {\n    //                     swal({\n    //                         position: 'top-right',\n    //                         type: 'success',\n    //                         text: 'Sub Category Added Successfully',\n    //                         title: 'Sub Category Added Successfully',\n    //                         showConfirmButton: false,\n    //                         timer: 1500\n    //                     });\n    //                     this.refs.modalAddSubCategoryRef.value    = \"\";\n    //                     $('#openSubCatgModal').modal('hide');\n    //                 }\n    //             });\n    //         }\n    //     }else{\n    //         this.setState({\n    //             subCatFormErrors : true\n    //         });\n    //     }\n    // }else{\n    //     swal({\n    //         position: 'top-right',\n    //         type: 'error',\n    //         text: 'Please select category value.',\n    //         title: 'Please select category value.',\n    //         showConfirmButton: false,\n    //     });\n    //     $('#openSubCatgModal').modal('hide');\n    // }\n  }\n\n  addCategoryWithProduct(event) {\n    event.preventDefault(); // var categoryVal = this.refs.modalCategoryRef.value;\n    // var subcategoryVal = this.refs.modalSubCategoryRef.value;\n    // if(categoryVal){\n    //     if(subcategoryVal){\n    //         if (categoryVal.indexOf(\"/\") >= 0 || subcategoryVal.indexOf(\"/\") >= 0){\n    //             swal({\n    //                 position: 'top-right',\n    //                 type: 'error',\n    //                 text: 'Please remove \"/\" from category or subcategory',\n    //                 title: 'Please remove \"/\" from category or subcategory',\n    //                 showConfirmButton: false,\n    //                 timer: 1500\n    //             });\n    //         }else{\n    //             var formValues = {\n    //                 \"category\"          :   categoryVal,\n    //                 \"subCategory\"       :   subcategoryVal,\n    //             }\n    //             Meteor.call('addNewCategory', formValues, (error, result) => {\n    //                 if(error){\n    //                     swal({\n    //                         position: 'top-right',\n    //                         type: 'error',\n    //                         text: 'Category Not Added',\n    //                         title: 'Category Not Added',\n    //                         showConfirmButton: false,\n    //                         timer: 1500\n    //                     });\n    //                 } else {\n    //                     swal({\n    //                         position: 'top-right',\n    //                         type: 'success',\n    //                         text: 'Category Added Successfully',\n    //                         title: 'Category Added Successfully',\n    //                         showConfirmButton: false,\n    //                         timer: 1500\n    //                     });\n    //                     this.refs.modalCategoryRef.value    = \"\";\n    //                     this.refs.modalSubCategoryRef.value = \"\";\n    //                     $('#openCatgModal').modal('hide');\n    //                 }\n    //             });            \n    //         }\n    //     }else{\n    //         this.setState({\n    //             subCatError : true\n    //         });\n    //     }\n    // }else{\n    //     this.setState({\n    //         catError : true\n    //     });\n    // }\n  }\n\n  showRelevantSubCategories(event) {\n    event.preventDefault();\n    const target = event.target;\n    const name = target.name;\n    this.setState({\n      [name]: event.target.value\n    });\n    var categoryID = event.target.value.split('|')[1];\n    this.getSubCategories(categoryID);\n  }\n\n  edit(id) {\n    axios.get('/api/products/get/one/' + id).then(response => {\n      console.log('edit', response.data);\n      this.getSubCategories(response.data.category_ID);\n      this.setState({\n        category: response.data.category + '|' + response.data.category_ID,\n        subCategory: response.data.subCategory + '|' + response.data.subCategory_ID,\n        brand: response.data.brand,\n        productCode: response.data.productCode,\n        productName: response.data.productName,\n        productUrl: response.data.productUrl,\n        productDetails: response.data.productDetails,\n        shortDescription: response.data.shortDescription,\n        addrows: response.data.featureList,\n        productPrice: response.data.productPrice,\n        availableQuantity: response.data.availableQuantity,\n        currency: response.data.currency,\n        status: response.data.status\n      }, () => {\n        console.log('this', this.state);\n      });\n    }).catch(error => {\n      console.log('error', error);\n    });\n  }\n\n  submitProduct(event) {\n    event.preventDefault();\n    var addRowLength = this.state.addrows.length; // console.log('addRowLength: ', addRowLength);\n\n    if (this.state.productFeatured) {\n      var productFeatured = this.state.productFeatured;\n    } else {\n      var productFeatured = false;\n    }\n\n    if (this.state.productExclusive) {\n      var productExclusive = this.state.productExclusive;\n    } else {\n      var productExclusive = false;\n    }\n\n    if (addRowLength && addRowLength > 0) {\n      var productDimentionArray = [];\n      var productArr = [];\n\n      for (var i = 0; i < addRowLength; i++) {\n        var obj = {\n          \"index\": i,\n          \"feature\": $(\".featuresRef\" + i).val()\n        };\n\n        if ($('.featureRefMain').hasClass(\"featuresRef\" + i)) {\n          productDimentionArray.push(obj);\n        }\n      }\n    }\n\n    var formValues = {\n      \"webCategory\": this.refs.webCategory.value,\n      \"category_ID\": this.refs.category.value.split('|')[1],\n      \"category\": this.refs.category.value.split('|')[0],\n      \"subCategory_ID\": this.refs.subCategory.value.split('|')[1],\n      \"subCategory\": this.refs.subCategory.value.split('|')[0],\n      \"brand\": this.refs.brand.value,\n      \"productCode\": this.refs.productCode.value,\n      \"productName\": this.refs.productName.value,\n      \"productUrl\": this.refs.productUrl.value,\n      \"productDetails\": this.refs.productDetails.value,\n      \"shortDescription\": this.refs.shortDescription.value,\n      \"featureList\": productDimentionArray,\n      \"productPrice\": this.refs.productPrice.value,\n      \"availableQuantity\": this.refs.availableQuantity.value,\n      \"currency\": this.refs.currency.value,\n      \"status\": this.refs.status.value,\n      \"featured\": productFeatured,\n      \"exclusive\": productExclusive,\n      \"fileName\": \"Manual\"\n    };\n    console.log('formValues', formValues);\n\n    if ($('#addNewShopProduct').valid()) {\n      axios.post('/api/products/post', formValues).then(response => {\n        console.log('response', response);\n        this.props.history.push('/add-product/image/' + response.data.product_ID);\n        swal({\n          title: response.data.message,\n          text: response.data.message\n        });\n        this.setState({\n          webCategory: \"Select Web Category\",\n          category: \"Select Category\",\n          subCategory: \"Select Sub-Category\",\n          brand: \"\",\n          productCode: \"\",\n          productName: \"\",\n          productUrl: \"\",\n          productDetails: \"\",\n          shortDescription: \"\",\n          productPrice: \"\",\n          availableQuantity: \"\",\n          currency: \"\",\n          status: \"\"\n        });\n      }).catch(error => {\n        console.log('error', error);\n      });\n    }\n  }\n\n  updateProduct(event) {\n    event.preventDefault();\n    var addRowLength = this.state.addrows.length;\n\n    if (this.state.productFeatured) {\n      var productFeatured = this.state.productFeatured;\n    } else {\n      var productFeatured = false;\n    }\n\n    if (this.state.productExclusive) {\n      var productExclusive = this.state.productExclusive;\n    } else {\n      var productExclusive = false;\n    }\n\n    if (addRowLength && addRowLength > 0) {\n      var productDimentionArray = [];\n      var productArr = [];\n\n      for (var i = 0; i < addRowLength; i++) {\n        var obj = {\n          \"index\": i,\n          \"feature\": $(\".featuresRef\" + i).val()\n        };\n\n        if ($('.featureRefMain').hasClass(\"featuresRef\" + i)) {\n          productDimentionArray.push(obj);\n        }\n      }\n    }\n\n    var formValues = {\n      \"webCategory\": this.refs.webCategory.value,\n      \"product_ID\": this.state.editId,\n      \"category_ID\": this.refs.category.value.split('|')[1],\n      \"category\": this.refs.category.value.split('|')[0],\n      \"subCategory_ID\": this.refs.subCategory.value.split('|')[1],\n      \"subCategory\": this.refs.subCategory.value.split('|')[0],\n      \"brand\": this.refs.brand.value,\n      \"productCode\": this.refs.productCode.value,\n      \"productName\": this.refs.productName.value,\n      \"productUrl\": this.refs.productUrl.value,\n      \"productDetails\": this.refs.productDetails.value,\n      \"shortDescription\": this.refs.shortDescription.value,\n      \"featureList\": productDimentionArray,\n      \"productPrice\": this.refs.productPrice.value,\n      \"availableQuantity\": this.refs.availableQuantity.value,\n      \"currency\": this.refs.currency.value,\n      \"status\": this.refs.status.value,\n      \"featured\": productFeatured,\n      \"exclusive\": productExclusive\n    };\n    axios.patch('/api/products/patch', formValues).then(response => {\n      swal({\n        title: response.data.message,\n        text: response.data.message\n      });\n      this.setState({\n        webCategory: \"Select Web Category\",\n        category: \"Select Category\",\n        subCategory: \"Select Sub-Category\",\n        brand: \"\",\n        productCode: \"\",\n        productName: \"\",\n        productUrl: \"\",\n        productDetails: \"\",\n        shortDescription: \"\",\n        productPrice: \"\",\n        availableQuantity: \"\",\n        currency: \"\",\n        status: \"\"\n      });\n      this.props.history.push('/add-product/image/' + this.state.editId);\n    }).catch(error => {\n      console.log('error', error);\n    }); // this.setState({\n    //   category          : \"Select Category\",\n    //   subCategory       : \"Select Sub-Category\",\n    //   brand             : \"\",\n    //   productCode       : \"\",\n    //   productName       : \"\",\n    //   productUrl        : \"\",\n    //   productDetails    : \"\",\n    //   shortDescription  : \"\",\n    //   productPrice      : \"\",\n    //   availableQuantity : \"\",\n    //   currency          : \"\",\n    //   status            : \"\",\n    // });\n  }\n\n  createProductUrl(event) {\n    const target = event.target;\n    const name = target.name;\n    this.setState({\n      [name]: event.target.value\n    });\n    var url = $(event.currentTarget).val();\n\n    if (url) {\n      url = url.replace(/\\s+/g, '-').toLowerCase();\n      $(\".productUrl\").val(url);\n    }\n  }\n\n  catError(event) {// var modalCategoryRef = this.refs.modalCategoryRef.value;\n    // if(modalCategoryRef){\n    //     this.setState({\n    //         catError : false\n    //     });\n    // }else{\n    //     this.setState({\n    //         catError : true\n    //     });\n    // }\n  }\n\n  subCatError(event) {// var modalSubCategoryRef = this.refs.modalSubCategoryRef.value;\n    // if(modalSubCategoryRef){\n    //     this.setState({\n    //         subCatError : false\n    //     });\n    // }else{\n    //     this.setState({\n    //         subCatError : true\n    //     });\n    // }\n  }\n\n  subCatFormErrors() {// var modalAddSubCategoryRef = this.refs.modalAddSubCategoryRef.value;\n    // if(modalAddSubCategoryRef){\n    //     this.setState({\n    //         subCatFormErrors : false\n    //     });\n    // }else{\n    //     this.setState({\n    //         subCatFormErrors : true\n    //     });\n    // }\n  }\n\n  closeCatModal(event) {\n    event.preventDefault(); // $('#openCatgModal').modal('hide');\n    // this.refs.modalCategoryRef.value = '';\n    // this.refs.modalSubCategoryRef.value = '';\n  }\n\n  closeCatSubModal(event) {\n    event.preventDefault(); // $('#openSubCatgModal').modal('hide');\n    // this.refs.modalAddSubCategoryRef.value = '';\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"container-fluid col-lg-12 col-md-12 col-xs-12 col-sm-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 633\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 634\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"formWrapper col-lg-12 col-md-12 col-xs-12 col-sm-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 635\n      },\n      __self: this\n    }, React.createElement(\"section\", {\n      className: \"content\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 636\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-xs-12 col-sm-12 pageContent\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 637\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 638\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-xs-12 col-sm-12 titleaddcontact\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 639\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-xs-12 col-sm-12 contactdeilsmg pageHeader\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 640\n      },\n      __self: this\n    }, \"Add Products\"), React.createElement(\"hr\", {\n      className: \"hr-head container-fluid row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 643\n      },\n      __self: this\n    })), React.createElement(\"form\", {\n      className: \"newTemplateForm\",\n      id: \"addNewShopProduct\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 645\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-xs-12 col-sm-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 646\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"addNewProductWrap col-lg-12 col-md-12 col-sm-12 col-xs-12 add-new-productCol\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 647\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-lg-4 col-md-4 col-sm-4 col-xs-4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 648\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 649\n      },\n      __self: this\n    }, \"Web Category \", React.createElement(\"i\", {\n      className: \"redFont\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 649\n      },\n      __self: this\n    }, \"*\")), React.createElement(\"select\", {\n      onChange: this.showRelevantCategories.bind(this),\n      value: this.state.webCategory,\n      name: \"webCategory\",\n      className: \"form-control allProductCategories\",\n      \"aria-describedby\": \"basic-addon1\",\n      id: \"webCategory\",\n      ref: \"webCategory\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 650\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      disabled: true,\n      selected: true,\n      defaultValue: \"Select Web Category\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 651\n      },\n      __self: this\n    }, \"Select Category\"), this.state.webCategoryArray && this.state.webCategoryArray.length > 0 ? this.state.webCategoryArray.map((data, index) => {\n      return React.createElement(\"option\", {\n        key: index,\n        value: data,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 655\n        },\n        __self: this\n      }, data);\n    }) : null)), React.createElement(\"div\", {\n      className: \"col-lg-4 col-md-4 col-sm-4 col-xs-4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 664\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 665\n      },\n      __self: this\n    }, \"Category \", React.createElement(\"i\", {\n      className: \"redFont\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 665\n      },\n      __self: this\n    }, \"*\")), React.createElement(\"select\", {\n      onChange: this.showRelevantSubCategories.bind(this),\n      value: this.state.category,\n      name: \"category\",\n      className: \"form-control allProductCategories\",\n      \"aria-describedby\": \"basic-addon1\",\n      id: \"category\",\n      ref: \"category\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 667\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      disabled: true,\n      selected: true,\n      defaultValue: \"Select Category\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 668\n      },\n      __self: this\n    }, \"Select Category\"), this.state.categoryArray && this.state.categoryArray.length > 0 ? this.state.categoryArray.map((data, index) => {\n      return React.createElement(\"option\", {\n        key: index,\n        value: data.category + '|' + data._id,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 672\n        },\n        __self: this\n      }, data.category);\n    }) : null)), React.createElement(\"div\", {\n      className: \"col-lg-4 col-md-4 col-sm-4 col-xs-4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 681\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 682\n      },\n      __self: this\n    }, \"Sub Category \", React.createElement(\"i\", {\n      className: \"redFont\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 682\n      },\n      __self: this\n    }, \"*\")), React.createElement(\"select\", {\n      className: \"form-control allProductSubCategories\",\n      \"aria-describedby\": \"basic-addon1\",\n      name: \"subCategory\",\n      id: \"subCategory\",\n      ref: \"subCategory\",\n      value: this.state.subCategory,\n      onChange: this.handleChange.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 684\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      disabled: true,\n      selected: true,\n      defaultValue: \"Select Sub-Category\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 685\n      },\n      __self: this\n    }, \"Select Sub-Category\"), this.state.subcategoryArray && this.state.subcategoryArray.length > 0 ? this.state.subcategoryArray.map((data, index) => {\n      return React.createElement(\"option\", {\n        value: data.subCategoryTitle + '|' + data._id,\n        key: index,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 690\n        },\n        __self: this\n      }, data.subCategoryTitle);\n    }) : null))), React.createElement(\"div\", {\n      className: \"addNewProductWrap col-lg-12 col-md-12 col-sm-12 col-xs-12 add-new-productCol\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 702\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-lg-4 col-md-4 col-sm-4 col-xs-4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 703\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 704\n      },\n      __self: this\n    }, \"Brand Name \", React.createElement(\"i\", {\n      className: \"redFont\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 704\n      },\n      __self: this\n    }, \"*\")), React.createElement(\"input\", {\n      value: this.state.brand,\n      name: \"brand\",\n      id: \"brand\",\n      type: \"text\",\n      className: \"form-control productBrandName\",\n      placeholder: \"Brand Name\",\n      \"aria-label\": \"Brand\",\n      \"aria-describedby\": \"basic-addon1\",\n      ref: \"brand\",\n      onChange: this.handleChange.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 705\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"col-lg-4 col-md-4 col-sm-4 col-xs-4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 707\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 708\n      },\n      __self: this\n    }, \"Product Code \", React.createElement(\"i\", {\n      className: \"redFont\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 708\n      },\n      __self: this\n    }, \"*\")), React.createElement(\"input\", {\n      value: this.state.productCode,\n      name: \"productCode\",\n      id: \"productCode\",\n      type: \"text\",\n      className: \"form-control link-category newProductCode\",\n      placeholder: \"Product Code\",\n      \"aria-label\": \"Username\",\n      \"aria-describedby\": \"basic-addon1\",\n      ref: \"productCode\",\n      onChange: this.handleChange.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 709\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"col-lg-4 col-md-4 col-sm-4 col-xs-4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 711\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 712\n      },\n      __self: this\n    }, \"Product Name \", React.createElement(\"i\", {\n      className: \"redFont\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 712\n      },\n      __self: this\n    }, \"*\")), React.createElement(\"input\", {\n      value: this.state.productName,\n      name: \"productName\",\n      id: \"productName\",\n      onChange: this.createProductUrl.bind(this),\n      type: \"text\",\n      className: \"form-control link-subcategory newProductName\",\n      placeholder: \"Product Name\",\n      \"aria-label\": \"Username\",\n      \"aria-describedby\": \"basic-addon1\",\n      ref: \"productName\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 713\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12 add-new-productCol\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 716\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 717\n      },\n      __self: this\n    }, \"Product URL \", React.createElement(\"i\", {\n      className: \"redFont\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 717\n      },\n      __self: this\n    }, \"*\")), React.createElement(\"input\", {\n      value: this.state.productUrl,\n      onChange: this.handleChange.bind(this),\n      id: \"productUrl\",\n      name: \"productUrl\",\n      type: \"text\",\n      className: \"form-control link-subcategory newProductName productUrl\",\n      placeholder: \"Product URL\",\n      \"aria-describedby\": \"basic-addon1\",\n      ref: \"productUrl\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 718\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"col-lg-4 col-md-4 col-sm-12 col-xs-12 add-new-productCol\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 720\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 721\n      },\n      __self: this\n    }, \"Product Currency \", React.createElement(\"i\", {\n      className: \"redFont\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 721\n      },\n      __self: this\n    }, \"*\")), React.createElement(\"select\", {\n      className: \"form-control\",\n      ref: \"currency\",\n      id: \"currency\",\n      name: \"currency\",\n      value: this.state.currency,\n      onChange: this.handleChange.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 722\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      value: \"inr\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 723\n      },\n      __self: this\n    }, \"INR\"), React.createElement(\"option\", {\n      value: \"usd\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 724\n      },\n      __self: this\n    }, \"USD\"), React.createElement(\"option\", {\n      value: \"eur\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 725\n      },\n      __self: this\n    }, \"EUR\"), React.createElement(\"option\", {\n      value: \"gbp\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 726\n      },\n      __self: this\n    }, \"GBP\"))), React.createElement(\"div\", {\n      className: \"col-lg-4 col-md-4 col-sm-12 col-xs-12 add-new-productCol\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 729\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 730\n      },\n      __self: this\n    }, \"Product Price \", React.createElement(\"i\", {\n      className: \"redFont\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 730\n      },\n      __self: this\n    }, \"*\")), React.createElement(\"input\", {\n      onChange: this.handleChange.bind(this),\n      value: this.state.productPrice,\n      id: \"productPrice\",\n      name: \"productPrice\",\n      type: \"text\",\n      className: \"form-control productPrice\",\n      placeholder: \"Product Price\",\n      \"aria-describedby\": \"basic-addon1\",\n      ref: \"productPrice\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 731\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"col-lg-4 col-md-4 col-sm-12 col-xs-12 add-new-productCol\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 734\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 735\n      },\n      __self: this\n    }, \"Available Quantity \"), React.createElement(\"input\", {\n      onChange: this.handleChange.bind(this),\n      value: this.state.availableQuantity,\n      id: \"availableQuantity\",\n      name: \"availableQuantity\",\n      type: \"text\",\n      className: \"form-control availableQuantityNew\",\n      placeholder: \"Available Quantity\",\n      \"aria-describedby\": \"basic-addon1\",\n      ref: \"availableQuantity\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 736\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12 add-new-productCol table-responsive\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 740\n      },\n      __self: this\n    }, React.createElement(\"table\", {\n      className: \"add-new-product-table table table-bordered\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 741\n      },\n      __self: this\n    }, React.createElement(\"thead\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 742\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 743\n      },\n      __self: this\n    }, React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 744\n      },\n      __self: this\n    }, \"Add New Feature\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 745\n      },\n      __self: this\n    }, \"Delete\"))), React.createElement(\"tbody\", {\n      className: \"tableBodyClass\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 749\n      },\n      __self: this\n    }, this.state.addrows.map((data, index) => {\n      return React.createElement(AddNewTableFeature, {\n        index: index,\n        feature: data.feature,\n        key: index,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 753\n        },\n        __self: this\n      });\n    }))), React.createElement(\"div\", {\n      className: \"marginTop17\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 760\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      className: \"submitBtn btn btnSubmit col-lg-2 col-lg-offset-10 col-md-2 col-md-offset-10 col-sm-3 col-sm-offset-9 col-xs-3 col-xs-offset-9\",\n      onClick: this.addNewRow,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 761\n      },\n      __self: this\n    }, \"Add Row\"))), React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12 add-new-productCol\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 765\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 766\n      },\n      __self: this\n    }, \"Product Detail \", React.createElement(\"i\", {\n      className: \"redFont\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 766\n      },\n      __self: this\n    }, \"*\")), React.createElement(\"textarea\", {\n      value: this.state.productDetails,\n      name: \"productDetails\",\n      id: \"productDetails\",\n      onChange: this.handleChange.bind(this),\n      className: \"form-control newProductDetails\",\n      placeholder: \"Product Detail...\",\n      rows: \"4\",\n      \"aria-describedby\": \"basic-addon1\",\n      ref: \"productDetails\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 767\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12 add-new-productCol\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 769\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 770\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-lg-6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 771\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 772\n      },\n      __self: this\n    }, \"Short Description \", React.createElement(\"i\", {\n      className: \"redFont\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 772\n      },\n      __self: this\n    }, \"*\")), React.createElement(\"input\", {\n      value: this.state.shortDescription,\n      name: \"shortDescription\",\n      id: \"shortDescription\",\n      onChange: this.handleChange.bind(this),\n      type: \"text\",\n      className: \"form-control newProductShortDesc\",\n      placeholder: \"Short Description\",\n      \"aria-label\": \"Username\",\n      \"aria-describedby\": \"basic-addon1\",\n      ref: \"shortDescription\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 773\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"col-lg-6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 775\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 776\n      },\n      __self: this\n    }, \"Status \", React.createElement(\"i\", {\n      className: \"redFont\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 776\n      },\n      __self: this\n    }, \"*\")), React.createElement(\"select\", {\n      value: this.state.status,\n      name: \"status\",\n      id: \"status\",\n      onChange: this.handleChange.bind(this),\n      className: \"form-control newProductStatus\",\n      \"aria-describedby\": \"basic-addon1\",\n      ref: \"status\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 777\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 778\n      },\n      __self: this\n    }, \"Draft\"), React.createElement(\"option\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 779\n      },\n      __self: this\n    }, \"Publish\"), React.createElement(\"option\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 780\n      },\n      __self: this\n    }, \"Unpublish\"))))), React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12 \",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 786\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 787\n      },\n      __self: this\n    }, this.state.editId ? React.createElement(\"button\", {\n      onClick: this.updateProduct.bind(this),\n      className: \"submitBtn btn btnSubmit col-lg-2 col-lg-offset-10 col-md-2 col-md-offset-10 col-sm-3 col-sm-offset-9 col-xs-3 col-xs-offset-9\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 790\n      },\n      __self: this\n    }, \"Update\") : React.createElement(\"button\", {\n      onClick: this.submitProduct.bind(this),\n      className: \"submitBtn btn btnSubmit col-lg-2 col-lg-offset-10 col-md-2 col-md-offset-10 col-sm-3 col-sm-offset-9 col-xs-3 col-xs-offset-9\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 792\n      },\n      __self: this\n    }, \"Submit\"))))), React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 798\n      },\n      __self: this\n    })))))));\n  }\n\n}\n\nexport default AddNewShopProduct;","map":{"version":3,"sources":["/home/iassureit/Greisch/greisch/webApp/admin/src/storeAdmin/product/addNewProduct/AddNewShopProduct/AddNewShopProduct.js"],"names":["React","Component","$","jQuery","axios","ReactTable","swal","_","AddNewTableFeature","defaults","baseURL","headers","post","AddNewShopProduct","constructor","props","state","subcategoryArray","categoryArray","addrows","productMode","productFeatured","productExclusive","catError","subCatError","subCatFormErrors","editId","match","params","productID","handleChange","bind","addNewRow","componentWillReceiveProps","nextProps","id","setState","edit","event","target","name","value","componentDidMount","validator","addMethod","element","arg","regexpr","test","setDefaults","debug","success","validate","rules","category","required","valueNotEquals","subCategory","regxSubCat","brand","regxbrand","productCode","productName","productUrl","regxUrl","productPrice","regxPrice","currency","productDetails","shortDescription","status","errorPlacement","error","attr","insertAfter","getWebCategories","get","then","response","console","log","webCategorys","pluck","data","webCategoryArray","unique","catch","showRelevantCategories","webCategory","getCategories","getSubCategories","categoryID","componentWillUnmount","preventDefault","newArr","push","length","addSubCategoryWithProduct","addCategoryWithProduct","showRelevantSubCategories","split","category_ID","subCategory_ID","featureList","availableQuantity","submitProduct","addRowLength","productDimentionArray","productArr","i","obj","val","hasClass","formValues","refs","valid","history","product_ID","title","message","text","updateProduct","patch","createProductUrl","url","currentTarget","replace","toLowerCase","closeCatModal","closeCatSubModal","render","map","index","_id","subCategoryTitle","feature"],"mappings":"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mBAAW0D;AADD,OAAd;AAGH;AACF;;AACDG,EAAAA,yBAAyB,CAAC3D,KAAD,EAAO;AAC5BA,IAAAA,KAAK,CAACuD,cAAN,GAD4B,CAE5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACH;;AACDK,EAAAA,sBAAsB,CAAC5D,KAAD,EAAO;AACzBA,IAAAA,KAAK,CAACuD,cAAN,GADyB,CAEzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEH;;AACDM,EAAAA,yBAAyB,CAAC7D,KAAD,EAAO;AAC9BA,IAAAA,KAAK,CAACuD,cAAN;AACA,UAAMtD,MAAM,GAAGD,KAAK,CAACC,MAArB;AACA,UAAMC,IAAI,GAAKD,MAAM,CAACC,IAAtB;AACA,SAAKJ,QAAL,CAAc;AACV,OAACI,IAAD,GAAQF,KAAK,CAACC,MAAN,CAAaE;AADX,KAAd;AAGA,QAAIkD,UAAU,GAAGrD,KAAK,CAACC,MAAN,CAAaE,KAAb,CAAmB2D,KAAnB,CAAyB,GAAzB,EAA8B,CAA9B,CAAjB;AACA,SAAKV,gBAAL,CAAsBC,UAAtB;AACD;;AACDtD,EAAAA,IAAI,CAACF,EAAD,EAAI;AACN/B,IAAAA,KAAK,CAACwE,GAAN,CAAU,2BAAyBzC,EAAnC,EACC0C,IADD,CACOC,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","sourcesContent":["import React, { Component }   from 'react';\nimport $                      from 'jquery';\nimport jQuery                 from 'jquery';\nimport axios                  from 'axios';\nimport ReactTable             from \"react-table\";\nimport swal                   from 'sweetalert';\nimport _                      from 'underscore';\nimport AddNewTableFeature     from '../addNewTableFeature/addNewTableFeature.js';\nimport 'bootstrap/js/tab.js';\nimport \"./AddNewProduct.css\";\n\naxios.defaults.baseURL = 'http://gangaexpressapi.iassureit.com';\naxios.defaults.headers.post['Content-Type'] = 'application/json';\nclass AddNewShopProduct extends Component{\n  constructor(props) {\n      super(props);\n      this.state = {\n          subcategoryArray        : [],\n          categoryArray           : [],\n          addrows                 : [1],\n          productMode             : '',\n          productFeatured         : false,\n          productExclusive        : false,\n          catError                : false,\n          subCatError             : false,\n          subCatFormErrors        : false,\n          editId                  : this.props.match.params ? this.props.match.params.productID : ''\n      };\n      this.handleChange = this.handleChange.bind(this);\n      this.addNewRow = this.addNewRow.bind(this);\n  }\n  componentWillReceiveProps(nextProps) {\n    var editId = nextProps.match.params.id;\n    if(nextProps.match.params.id){\n      this.setState({\n        editId : editId\n      })\n      this.edit(editId);\n    }\n  }\n  handleChange(event){\n      const target = event.target;\n      const name   = target.name;\n      this.setState({\n          [name]: event.target.value,\n      });\n  }\n  componentDidMount() {\n    if(this.state.editId){      \n      this.edit(this.state.editId);\n    }\n    \n\n    $.validator.addMethod(\"valueNotEquals\", function(value, element, arg){\n      return arg !== value;\n    }, \"Please select the category\");\n    $.validator.addMethod(\"regxSubCat\", function(value, element, arg){\n      return arg !== value;\n    }, \"Please select the sub category\");\n    $.validator.addMethod(\"regxbrand\", function(value, element, regexpr) {          \n      return regexpr.test(value);\n    }, \"Brand should only contain letters & number.\");\n    $.validator.addMethod(\"regxProductCode\", function(value, element, regexpr) {          \n      return regexpr.test(value);\n    }, \"Product Code should only contain letters & number.\");\n    $.validator.addMethod(\"regxProductName\", function(value, element, regexpr) {          \n      return regexpr.test(value);\n    }, \"Product Name should only contain letters & number.\");\n    $.validator.addMethod(\"regxUrl\", function(value, element, regexpr) {          \n      return regexpr.test(value);\n    }, \"Product Url should only contain letters & number.\");\n    $.validator.addMethod(\"regxPrice\", function(value, element, regexpr) {          \n      return regexpr.test(value);\n    }, \"Product Price should only contain letters & number.\");\n    $.validator.addMethod(\"regxDetails\", function(value, element, regexpr) {          \n      return regexpr.test(value);\n    }, \"Product Details should only contain letters & number.\");\n    $.validator.addMethod(\"regxShortDesc\", function(value, element, regexpr) {          \n      return regexpr.test(value);\n    }, \"Product Short Description should only contain letters & number.\");\n    $.validator.addMethod(\"regxPrice\", function(value, element, regexpr) {          \n      return regexpr.test(value);\n    }, \"Product Price should only numbers.\");\n  \n      jQuery.validator.setDefaults({\n        debug: true,\n        success: \"valid\"\n      });\n\n      $(\"#addNewShopProduct\").validate({\n        rules: {\n          category: {\n            required: true,\n            valueNotEquals: \"Select Category\"\n          },\n          subCategory: {\n            required: true,\n            regxSubCat: \"Select Sub-Category\"\n          },\n          \n          brand: {\n            required: true,\n            regxbrand: /^[a-zA-Z0-9!@#$%^&*()_+\\-=\\[\\]{};':\"\\\\|,.<>\\/?\\s]*$/,\n          },\n          productCode: {\n            required: true,\n          },\n          productName: {\n            required: true,\n          },\n          productUrl: {\n            required: true,\n            regxUrl: /^[A-Za-z][A-Za-z0-9\\-\\s]*$/,\n          },\n          productPrice: {\n            required: true,\n            regxPrice: /^[0-9 ]*$/,\n          },\n          currency :{\n              required : true,\n          },\n          productDetails: {\n            required: true,\n          },\n          shortDescription: {\n            required: true,\n          },\n          status: {\n            required: true,\n            valueNotEquals: \"-Select-\"\n          },\n        },\n      errorPlacement: function(error, element) {\n        if (element.attr(\"name\") == \"category\"){\n          error.insertAfter(\"#category\");\n        }\n        if (element.attr(\"name\") == \"subCategory\"){\n          error.insertAfter(\"#subCategory\");\n        }\n        if (element.attr(\"name\") == \"brand\"){\n          error.insertAfter(\"#brand\");\n        }         \n        if (element.attr(\"name\") == \"productCode\"){\n          error.insertAfter(\"#productCode\");\n        }         \n        if (element.attr(\"name\") == \"productName\"){\n          error.insertAfter(\"#productName\");\n        }         \n        if (element.attr(\"name\") == \"productUrl\"){\n          error.insertAfter(\"#productUrl\");\n        }         \n        if (element.attr(\"name\") == \"productPrice\"){\n          error.insertAfter(\"#productPrice\");\n        }        \n        if (element.attr(\"name\") == \"currency\"){\n          error.insertAfter(\"#currency\");\n        }         \n        if (element.attr(\"name\") == \"productDetails\"){\n          error.insertAfter(\"#productDetails\");\n        }         \n        if (element.attr(\"name\") == \"shortDescription\"){\n          error.insertAfter(\"#shortDescription\");\n        }         \n        if (element.attr(\"name\") == \"status\"){\n          error.insertAfter(\"#status\");\n        }         \n      }\n    });\n\n    this.getWebCategories();\n  }\n  getWebCategories(){\n    axios.get('/api/category/get/list')\n    .then((response)=>{\n      console.log('getWebCategories', response)\n      var webCategorys = _.pluck(response.data, \"webCategory\");\n      var webCategoryArray = _.unique(webCategorys);\n        this.setState({\n            webCategoryArray : webCategoryArray\n        })\n    })\n    .catch((error)=>{\n        console.log('error', error);\n    })\n  }\n  showRelevantCategories(event){\n    var webCategory = event.target.value;\n    console.log('webCategory', webCategory);\n    axios.get('/api/category/get/list/'+webCategory)\n    .then((response)=>{\n        this.setState({\n            categoryArray     : response.data,\n            category          : \"Select Category\",\n          subCategory         : \"Select Sub-Category\",\n        })\n    })\n    .catch((error)=>{\n        console.log('error', error);\n    })\n  }\n  getCategories(){\n      axios.get('/api/category/get/list')\n      .then((response)=>{\n          this.setState({\n              categoryArray : response.data\n          })\n      })\n      .catch((error)=>{\n          console.log('error', error);\n      })\n  }\n  getSubCategories(categoryID){\n    axios.get('/api/category/get/one/'+categoryID)\n    .then((response)=>{\n      this.setState({\n        subcategoryArray  : response.data.subCategory,\n        subCategory       : \"Select Sub-Category\",\n      })\n    })\n    .catch((error)=>{\n      console.log('error',error);\n    })\n  }\n  componentWillUnmount() {\n      // $(\"body\").find(\"script[src='/js/adminLte.js']\").remove();\n      // if(this.basicPageTracker)\n      //   this.basicPageTracker.stop();\n  }\n  addNewRow(event) {\n    event.preventDefault();\n    var newArr = this.state.addrows;\n\n    if(newArr){\n        newArr.push(newArr.length + 1);\n        this.setState({\n            \"addrows\": newArr,\n        });\n    }\n  }\n  addSubCategoryWithProduct(event){\n      event.preventDefault();\n      // const isValidEmail = categoryRef.checkValidity();\n      // console.log('isValidEmail',isValidEmail);\n      // var categoryVal = this.refs.categoryRef.value;\n      // var subcategoryVal = this.refs.modalAddSubCategoryRef.value;\n      // if(categoryVal != '-Select-'){\n      //     if(subcategoryVal){\n      //         if (categoryVal.indexOf(\"/\") >= 0 || subcategoryVal.indexOf(\"/\") >= 0){\n      //             swal({\n      //                 position: 'top-right',\n      //                 type: 'error',\n      //                 title: 'Please remove \"/\" from subcategory',\n      //                 text: 'Please remove \"/\" from subcategory',\n      //                 showConfirmButton: false,\n      //                 timer: 1500\n      //             });\n      //         }else{\n      //             var formValues = {\n      //                 \"category\"          :   categoryVal,\n      //                 \"subCategory\"       :   subcategoryVal,\n      //             }\n          \n      //             Meteor.call('addNewSubCategory', formValues, (error, result) => {\n      //                 if(error){\n      //                     swal({\n      //                         position: 'top-right',\n      //                         type: 'error',\n      //                         text: 'Sub Category Not Added',\n      //                         title: 'Sub Category Not Added',\n      //                         showConfirmButton: false,\n      //                         timer: 1500\n      //                     });\n      //                 } else {\n      //                     swal({\n      //                         position: 'top-right',\n      //                         type: 'success',\n      //                         text: 'Sub Category Added Successfully',\n      //                         title: 'Sub Category Added Successfully',\n      //                         showConfirmButton: false,\n      //                         timer: 1500\n      //                     });\n      //                     this.refs.modalAddSubCategoryRef.value    = \"\";\n      //                     $('#openSubCatgModal').modal('hide');\n                          \n      //                 }\n      //             });\n      //         }\n      //     }else{\n      //         this.setState({\n      //             subCatFormErrors : true\n      //         });\n      //     }\n      // }else{\n      //     swal({\n      //         position: 'top-right',\n      //         type: 'error',\n      //         text: 'Please select category value.',\n      //         title: 'Please select category value.',\n      //         showConfirmButton: false,\n      //     });\n      //     $('#openSubCatgModal').modal('hide');\n      // }\n  }\n  addCategoryWithProduct(event){\n      event.preventDefault();\n      // var categoryVal = this.refs.modalCategoryRef.value;\n      // var subcategoryVal = this.refs.modalSubCategoryRef.value;\n      // if(categoryVal){\n      //     if(subcategoryVal){\n      //         if (categoryVal.indexOf(\"/\") >= 0 || subcategoryVal.indexOf(\"/\") >= 0){\n      //             swal({\n      //                 position: 'top-right',\n      //                 type: 'error',\n      //                 text: 'Please remove \"/\" from category or subcategory',\n      //                 title: 'Please remove \"/\" from category or subcategory',\n      //                 showConfirmButton: false,\n      //                 timer: 1500\n      //             });\n      //         }else{\n      //             var formValues = {\n      //                 \"category\"          :   categoryVal,\n      //                 \"subCategory\"       :   subcategoryVal,\n      //             }\n          \n      //             Meteor.call('addNewCategory', formValues, (error, result) => {\n      //                 if(error){\n      //                     swal({\n      //                         position: 'top-right',\n      //                         type: 'error',\n      //                         text: 'Category Not Added',\n      //                         title: 'Category Not Added',\n      //                         showConfirmButton: false,\n      //                         timer: 1500\n      //                     });\n      //                 } else {\n      //                     swal({\n      //                         position: 'top-right',\n      //                         type: 'success',\n      //                         text: 'Category Added Successfully',\n      //                         title: 'Category Added Successfully',\n      //                         showConfirmButton: false,\n      //                         timer: 1500\n      //                     });\n      //                     this.refs.modalCategoryRef.value    = \"\";\n      //                     this.refs.modalSubCategoryRef.value = \"\";\n      //                     $('#openCatgModal').modal('hide');\n                          \n      //                 }\n      //             });            \n      //         }\n      //     }else{\n      //         this.setState({\n      //             subCatError : true\n      //         });\n      //     }\n      // }else{\n      //     this.setState({\n      //         catError : true\n      //     });\n      // }\n      \n  }\n  showRelevantSubCategories(event){\n    event.preventDefault();\n    const target = event.target;\n    const name   = target.name;\n    this.setState({\n        [name]: event.target.value,\n    });\n    var categoryID = event.target.value.split('|')[1];    \n    this.getSubCategories(categoryID);  \n  }\n  edit(id){\n    axios.get('/api/products/get/one/'+id)\n    .then((response)=>{\n      console.log('edit', response.data);\n      this.getSubCategories(response.data.category_ID);\n      this.setState({\n        category          : response.data.category+'|'+response.data.category_ID,\n        subCategory       : response.data.subCategory+'|'+response.data.subCategory_ID,\n        brand             : response.data.brand,\n        productCode       : response.data.productCode,\n        productName       : response.data.productName,\n        productUrl        : response.data.productUrl,\n        productDetails    : response.data.productDetails,\n        shortDescription  : response.data.shortDescription,\n        addrows           : response.data.featureList,\n        productPrice      : response.data.productPrice,\n        availableQuantity : response.data.availableQuantity,\n        currency          : response.data.currency,\n        status            : response.data.status,\n      },()=>{\n        console.log('this', this.state);\n      })\n    })\n    .catch((error)=>{\n      console.log('error', error);\n    })\n  }\n  submitProduct(event){\n    event.preventDefault();\n    var addRowLength = (this.state.addrows).length;\n    // console.log('addRowLength: ', addRowLength);\n    if(this.state.productFeatured){\n      var productFeatured = this.state.productFeatured;\n    }else {\n      var productFeatured = false;\n    }\n    if(this.state.productExclusive){\n      var productExclusive = this.state.productExclusive;\n    }else {\n      var productExclusive = false;\n    }\n    if(addRowLength && addRowLength>0){\n      var productDimentionArray = [];\n      var productArr = [];\n      for(var i=0;i<addRowLength;i++){\n        var obj = {\n          \"index\"     : i,\n          \"feature\"     : $(\".featuresRef\"+i).val(),\n        }\n        if($('.featureRefMain').hasClass(\"featuresRef\"+i)){\n          productDimentionArray.push(obj);\n        }\n      }\n    }\n    var formValues = {\n      \"webCategory\"       :   this.refs.webCategory.value,\n      \"category_ID\"       :   this.refs.category.value.split('|')[1],\n      \"category\"          :   this.refs.category.value.split('|')[0],\n      \"subCategory_ID\"    :   this.refs.subCategory.value.split('|')[1],\n      \"subCategory\"       :   this.refs.subCategory.value.split('|')[0],\n      \"brand\"             :   this.refs.brand.value,\n      \"productCode\"       :   this.refs.productCode.value,\n      \"productName\"       :   this.refs.productName.value,\n      \"productUrl\"        :   this.refs.productUrl.value,\n      \"productDetails\"    :   this.refs.productDetails.value,\n      \"shortDescription\"  :   this.refs.shortDescription.value,\n      \"featureList\"       :   productDimentionArray,\n      \"productPrice\"      :   this.refs.productPrice.value,\n      \"availableQuantity\" :   this.refs.availableQuantity.value,\n      \"currency\"          :   this.refs.currency.value,\n      \"status\"            :   this.refs.status.value,\n      \"featured\"          :   productFeatured,\n      \"exclusive\"         :   productExclusive,\n      \"fileName\"          :   \"Manual\",\n    }\n    console.log('formValues', formValues);\n    if($('#addNewShopProduct').valid()){\n      axios.post('/api/products/post', formValues)\n      .then((response)=>{\n        console.log('response', response);\n        this.props.history.push('/add-product/image/'+response.data.product_ID);\n        swal({\n          title : response.data.message,\n          text  : response.data.message,\n        });\n        this.setState({\n          webCategory       : \"Select Web Category\",\n          category          : \"Select Category\",\n          subCategory       : \"Select Sub-Category\",\n          brand             : \"\",\n          productCode       : \"\",\n          productName       : \"\",\n          productUrl        : \"\",\n          productDetails    : \"\",\n          shortDescription  : \"\",\n          productPrice      : \"\",\n          availableQuantity : \"\",\n          currency          : \"\",\n          status            : \"\",\n        });\n      })\n      .catch((error)=>{\n        console.log('error', error);\n      })\n    }\n    \n\n  }\n  updateProduct(event){\n    event.preventDefault();\n    var addRowLength = (this.state.addrows).length;\n\n    if(this.state.productFeatured){\n      var productFeatured = this.state.productFeatured;\n    }else {\n      var productFeatured = false;\n    }\n    if(this.state.productExclusive){\n      var productExclusive = this.state.productExclusive;\n    }else {\n      var productExclusive = false;\n    }\n    if(addRowLength && addRowLength>0){\n      var productDimentionArray = [];\n      var productArr = [];\n      for(var i=0;i<addRowLength;i++){\n        var obj = {\n          \"index\"     : i,\n          \"feature\"     : $(\".featuresRef\"+i).val(),\n        }\n        if($('.featureRefMain').hasClass(\"featuresRef\"+i)){\n          productDimentionArray.push(obj);\n        }\n      }\n    }\n    var formValues = {\n      \"webCategory\"       :   this.refs.webCategory.value,\n      \"product_ID\"        :   this.state.editId,\n      \"category_ID\"       :   this.refs.category.value.split('|')[1],\n      \"category\"          :   this.refs.category.value.split('|')[0],\n      \"subCategory_ID\"    :   this.refs.subCategory.value.split('|')[1],\n      \"subCategory\"       :   this.refs.subCategory.value.split('|')[0],\n      \"brand\"             :   this.refs.brand.value,\n      \"productCode\"       :   this.refs.productCode.value,\n      \"productName\"       :   this.refs.productName.value,\n      \"productUrl\"        :   this.refs.productUrl.value,\n      \"productDetails\"    :   this.refs.productDetails.value,\n      \"shortDescription\"  :   this.refs.shortDescription.value,\n      \"featureList\"       :   productDimentionArray,\n      \"productPrice\"      :   this.refs.productPrice.value,\n      \"availableQuantity\" :   this.refs.availableQuantity.value,\n      \"currency\"          :   this.refs.currency.value,\n      \"status\"            :   this.refs.status.value,\n      \"featured\"          :   productFeatured,\n      \"exclusive\"         :   productExclusive,\n    }\n\n    axios.patch('/api/products/patch', formValues)\n    .then((response)=>{\n      \n      swal({\n        title : response.data.message,\n        text  : response.data.message,\n      });\n      this.setState({\n        webCategory       : \"Select Web Category\",\n        category          : \"Select Category\",\n        subCategory       : \"Select Sub-Category\",\n        brand             : \"\",\n        productCode       : \"\",\n        productName       : \"\",\n        productUrl        : \"\",\n        productDetails    : \"\",\n        shortDescription  : \"\",\n        productPrice      : \"\",\n        availableQuantity : \"\",\n        currency          : \"\",\n        status            : \"\",\n      });\n      this.props.history.push('/add-product/image/'+this.state.editId);\n    })\n    .catch((error)=>{\n      console.log('error', error);\n    })\n    // this.setState({\n    //   category          : \"Select Category\",\n    //   subCategory       : \"Select Sub-Category\",\n    //   brand             : \"\",\n    //   productCode       : \"\",\n    //   productName       : \"\",\n    //   productUrl        : \"\",\n    //   productDetails    : \"\",\n    //   shortDescription  : \"\",\n    //   productPrice      : \"\",\n    //   availableQuantity : \"\",\n    //   currency          : \"\",\n    //   status            : \"\",\n    // });\n  }\n  createProductUrl(event){\n      const target = event.target;\n      const name   = target.name;\n      this.setState({\n          [name]: event.target.value,\n      });\n      var url = $(event.currentTarget).val();\n      if(url){\n          url = url.replace(/\\s+/g, '-').toLowerCase();\n          $(\".productUrl\").val(url);\n      }\n  }\n  catError(event){\n      // var modalCategoryRef = this.refs.modalCategoryRef.value;\n      // if(modalCategoryRef){\n      //     this.setState({\n      //         catError : false\n      //     });\n      // }else{\n      //     this.setState({\n      //         catError : true\n      //     });\n      // }\n  }\n  subCatError(event){\n      // var modalSubCategoryRef = this.refs.modalSubCategoryRef.value;\n      // if(modalSubCategoryRef){\n      //     this.setState({\n      //         subCatError : false\n      //     });\n      // }else{\n      //     this.setState({\n      //         subCatError : true\n      //     });\n      // }\n  }\n  subCatFormErrors(){\n      // var modalAddSubCategoryRef = this.refs.modalAddSubCategoryRef.value;\n      // if(modalAddSubCategoryRef){\n      //     this.setState({\n      //         subCatFormErrors : false\n      //     });\n      // }else{\n      //     this.setState({\n      //         subCatFormErrors : true\n      //     });\n      // }\n  }\n  closeCatModal(event){\n      event.preventDefault();\n      // $('#openCatgModal').modal('hide');\n      // this.refs.modalCategoryRef.value = '';\n      // this.refs.modalSubCategoryRef.value = '';\n  }\n  closeCatSubModal(event){\n      event.preventDefault();\n      // $('#openSubCatgModal').modal('hide');\n      // this.refs.modalAddSubCategoryRef.value = '';\n  }\n  render(){\n      return(\n          <div className=\"container-fluid col-lg-12 col-md-12 col-xs-12 col-sm-12\">\n              <div className=\"row\">\n                <div className=\"formWrapper col-lg-12 col-md-12 col-xs-12 col-sm-12\">\n                    <section className=\"content\">\n                      <div className=\"col-lg-12 col-md-12 col-xs-12 col-sm-12 pageContent\">\n                        <div className=\"row\">\n                            <div className=\"col-lg-12 col-md-12 col-xs-12 col-sm-12 titleaddcontact\">\n                              <div className=\"col-lg-12 col-md-12 col-xs-12 col-sm-12 contactdeilsmg pageHeader\">\n                                  Add Products                               \n                               </div>\n                              <hr className=\"hr-head container-fluid row\"/>\n                            </div>\n                            <form className=\"newTemplateForm\" id=\"addNewShopProduct\">\n                              <div className=\"col-lg-12 col-md-12 col-xs-12 col-sm-12\">\n                                <div className=\"addNewProductWrap col-lg-12 col-md-12 col-sm-12 col-xs-12 add-new-productCol\">\n                                <div className=\"col-lg-4 col-md-4 col-sm-4 col-xs-4\">\n                                    <label>Web Category <i className=\"redFont\">*</i></label>\n                                      <select onChange={this.showRelevantCategories.bind(this)} value={this.state.webCategory}  name=\"webCategory\" className=\"form-control allProductCategories\" aria-describedby=\"basic-addon1\" id=\"webCategory\" ref=\"webCategory\">\n                                        <option disabled selected defaultValue=\"Select Web Category\">Select Category</option>\n                                        { this.state.webCategoryArray && this.state.webCategoryArray.length > 0 ?\n                                          this.state.webCategoryArray.map( (data, index)=>{\n                                            return (\n                                              <option key={index} value={data}>{data}</option>\n                                            );\n                                          })\n                                          :\n                                          null\n                                        }\n                                      </select>\n                                      \n                                  </div>\n                                  <div className=\"col-lg-4 col-md-4 col-sm-4 col-xs-4\">\n                                    <label>Category <i className=\"redFont\">*</i></label>\n                                    {/*<div className=\"input-group\" id=\"category\">*/}\n                                      <select onChange={this.showRelevantSubCategories.bind(this)} value={this.state.category}  name=\"category\" className=\"form-control allProductCategories\" aria-describedby=\"basic-addon1\" id=\"category\" ref=\"category\">\n                                        <option disabled selected defaultValue=\"Select Category\">Select Category</option>\n                                        { this.state.categoryArray && this.state.categoryArray.length > 0 ?\n                                          this.state.categoryArray.map( (data, index)=>{\n                                            return (\n                                              <option key={index} value={data.category+'|'+data._id}>{data.category}</option>\n                                            );\n                                          })\n                                          :\n                                          null\n                                        }\n                                      </select>\n                                      \n                                  </div>\n                                  <div className=\"col-lg-4 col-md-4 col-sm-4 col-xs-4\">\n                                    <label>Sub Category <i className=\"redFont\">*</i></label>\n                                    {/*<div className=\"input-group\" id=\"subCategory\">*/}\n                                      <select className=\"form-control allProductSubCategories\" aria-describedby=\"basic-addon1\" name=\"subCategory\" id=\"subCategory\"  ref=\"subCategory\" value={this.state.subCategory} onChange={this.handleChange.bind(this)}>\n                                        <option disabled selected defaultValue=\"Select Sub-Category\">Select Sub-Category</option>\n                                        { this.state.subcategoryArray && this.state.subcategoryArray.length > 0 ?\n                                          this.state.subcategoryArray.map( (data, index)=>{\n\n                                          return (\n                                            <option value={data.subCategoryTitle+'|'+data._id} key={index}>{data.subCategoryTitle}</option>\n                                            );\n                                          })\n                                          :\n                                          null\n                                        }\n                                      </select>\n                                      \n                                  </div>\n                                 \n                                </div>\n\n                                <div className=\"addNewProductWrap col-lg-12 col-md-12 col-sm-12 col-xs-12 add-new-productCol\">\n                                  <div className=\"col-lg-4 col-md-4 col-sm-4 col-xs-4\">\n                                    <label>Brand Name <i className=\"redFont\">*</i></label>\n                                    <input value={this.state.brand} name=\"brand\" id=\"brand\"  type=\"text\" className=\"form-control productBrandName\" placeholder=\"Brand Name\" aria-label=\"Brand\" aria-describedby=\"basic-addon1\" ref=\"brand\" onChange={this.handleChange.bind(this)} />\n                                  </div>\n                                  <div className=\"col-lg-4 col-md-4 col-sm-4 col-xs-4\">                                                                        \n                                    <label>Product Code <i className=\"redFont\">*</i></label>                                                                        \n                                    <input value={this.state.productCode} name=\"productCode\" id=\"productCode\" type=\"text\" className=\"form-control link-category newProductCode\" placeholder=\"Product Code\" aria-label=\"Username\" aria-describedby=\"basic-addon1\" ref=\"productCode\" onChange={this.handleChange.bind(this)} />\n                                  </div>\n                                  <div className=\"col-lg-4 col-md-4 col-sm-4 col-xs-4\">\n                                    <label>Product Name <i className=\"redFont\">*</i></label>                                                                        \n                                    <input value={this.state.productName} name=\"productName\" id=\"productName\" onChange={this.createProductUrl.bind(this)} type=\"text\" className=\"form-control link-subcategory newProductName\" placeholder=\"Product Name\" aria-label=\"Username\" aria-describedby=\"basic-addon1\" ref=\"productName\"  />\n                                  </div>\n                                </div>\n                                <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 add-new-productCol\">\n                                  <label>Product URL <i className=\"redFont\">*</i></label>                                                                    \n                                  <input value={this.state.productUrl} onChange={this.handleChange.bind(this)} id=\"productUrl\" name=\"productUrl\" type=\"text\" className=\"form-control link-subcategory newProductName productUrl\" placeholder=\"Product URL\" aria-describedby=\"basic-addon1\" ref=\"productUrl\"  />\n                                </div>\n                                <div className=\"col-lg-4 col-md-4 col-sm-12 col-xs-12 add-new-productCol\">\n                                  <label>Product Currency <i className=\"redFont\">*</i></label>\n                                  <select className=\"form-control\" ref=\"currency\" id=\"currency\" name=\"currency\" value={this.state.currency} onChange={this.handleChange.bind(this)}>\n                                    <option value=\"inr\">INR</option>\n                                    <option value=\"usd\">USD</option>\n                                    <option value=\"eur\">EUR</option>\n                                    <option value=\"gbp\">GBP</option>\n                                  </select>\n                                </div>\n                                <div className=\"col-lg-4 col-md-4 col-sm-12 col-xs-12 add-new-productCol\">\n                                  <label>Product Price <i className=\"redFont\">*</i></label>\n                                  <input onChange={this.handleChange.bind(this)} value={this.state.productPrice} id=\"productPrice\" name=\"productPrice\" type=\"text\" className=\"form-control productPrice\" placeholder=\"Product Price\" aria-describedby=\"basic-addon1\" ref=\"productPrice\"  />\n                                </div>\n\n                                <div className=\"col-lg-4 col-md-4 col-sm-12 col-xs-12 add-new-productCol\">\n                                  <label>Available Quantity {/*<i className=\"redFont\">*</i>*/}</label>\n                                  <input onChange={this.handleChange.bind(this)} value={this.state.availableQuantity} id=\"availableQuantity\" name=\"availableQuantity\" type=\"text\" className=\"form-control availableQuantityNew\" placeholder=\"Available Quantity\" aria-describedby=\"basic-addon1\" ref=\"availableQuantity\"  />\n                                </div>\n\n\n                                <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 add-new-productCol table-responsive\">\n                                  <table className=\"add-new-product-table table table-bordered\">\n                                    <thead>\n                                      <tr>\n                                        <th>Add New Feature</th>\n                                        <th>Delete</th>\n                                      </tr>\n                                    </thead>\n\n                                    <tbody className=\"tableBodyClass\">\n                                      {\n                                        this.state.addrows.map((data,index)=>{\n                                          return (\n                                            <AddNewTableFeature index={index} feature={data.feature}  key={index} />\n                                          );\n                                        })\n                                      }\n                                    </tbody>\n\n                                  </table>\n                                  <div className=\"marginTop17\">\n                                    <button className=\"submitBtn btn btnSubmit col-lg-2 col-lg-offset-10 col-md-2 col-md-offset-10 col-sm-3 col-sm-offset-9 col-xs-3 col-xs-offset-9\" onClick={this.addNewRow}>Add Row</button>\n                                  </div>\n                                </div>\n\n                                <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 add-new-productCol\">\n                                  <label>Product Detail <i className=\"redFont\">*</i></label>                                                                    \n                                  <textarea value={this.state.productDetails} name=\"productDetails\" id=\"productDetails\" onChange={this.handleChange.bind(this)} className=\"form-control newProductDetails\" placeholder=\"Product Detail...\" rows=\"4\" aria-describedby=\"basic-addon1\" ref=\"productDetails\" ></textarea>\n                                </div>\n                                <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 add-new-productCol\">\n                                  <div className=\"row\">\n                                    <div className=\"col-lg-6\">\n                                      <label>Short Description <i className=\"redFont\">*</i></label>                                                                            \n                                      <input value={this.state.shortDescription} name=\"shortDescription\" id=\"shortDescription\" onChange={this.handleChange.bind(this)} type=\"text\" className=\"form-control newProductShortDesc\" placeholder=\"Short Description\" aria-label=\"Username\" aria-describedby=\"basic-addon1\" ref=\"shortDescription\"  />\n                                    </div>\n                                    <div className=\"col-lg-6\">\n                                      <label>Status <i className=\"redFont\">*</i></label>                                                           \n                                      <select value={this.state.status} name=\"status\" id=\"status\" onChange={this.handleChange.bind(this)} className=\"form-control newProductStatus\" aria-describedby=\"basic-addon1\" ref=\"status\" >\n                                        <option>Draft</option>\n                                        <option>Publish</option>\n                                        <option>Unpublish</option>\n                                      </select>\n                                    </div>\n                                  </div>\n                                </div>\n\n                                <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 \">\n                                  <div className=\"\">\n                                  {\n                                    this.state.editId ? \n                                    <button onClick={this.updateProduct.bind(this)} className=\"submitBtn btn btnSubmit col-lg-2 col-lg-offset-10 col-md-2 col-md-offset-10 col-sm-3 col-sm-offset-9 col-xs-3 col-xs-offset-9\">Update</button>\n                                    :\n                                    <button onClick={this.submitProduct.bind(this)}  className=\"submitBtn btn btnSubmit col-lg-2 col-lg-offset-10 col-md-2 col-md-offset-10 col-sm-3 col-sm-offset-9 col-xs-3 col-xs-offset-9\">Submit</button>\n                                  }\n                                  </div>\n                                </div>\n                              </div>\n                            </form>\n                            <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n                              {/*<IAssureTable \n                                tableHeading={this.state.tableHeading}\n                                twoLevelHeader={this.state.twoLevelHeader} \n                                dataCount={this.state.dataCount}\n                                tableData={this.state.tableData}\n                                getData={this.getData.bind(this)}\n                                tableObjects={this.state.tableObjects}\n                              />*/}\n                            </div>\n                          </div>\n                        </div>\n                    </section>\n                  </div>\n                </div>\n              </div>\n            );\n        }\n  }\n\nexport default AddNewShopProduct;"]},"metadata":{},"sourceType":"module"}