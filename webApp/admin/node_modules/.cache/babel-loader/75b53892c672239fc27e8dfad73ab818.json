{"ast":null,"code":"var _jsxFileName = \"/home/iassure/iAssureIT/node_react/wealthyvia/wealthyvia/webApp/admin/src/coreAdmin/Blogs/Componant/AllBlogsList/AllBlogsList.js\";\nimport React from 'react';\nimport axios from 'axios';\nimport swal from 'sweetalert';\nimport './AllBlogsList.css';\nexport default class AllBlogsList extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      \"Blogs\": [\n        /*{\n        \tblogDate:\"March 7,2017\",\n        \tblogTitle:\"Introducing the Website Wireframes Plugin for Uncode\",\n        \tblogPara:\"I was surprised how many people spoke English...\",\n        \tblogwritter:\"John Doe\",\n        \tbuBlogger:\"Blogger\",\n        \tbloggerImg:\"/images/user1.png\",\n        \tblogImg:\"/images/ceo.png\"\n        },*/\n      ]\n    };\n  }\n\n  deleteBlog(event) {\n    event.preventDefault();\n    var id = event.target.id;\n    console.log(\"id delet\", id);\n    swal({\n      title: \"Are you sure you want to delete this Blog?\",\n      text: \"Once deleted, you will not be able to recover this Blog!\",\n      icon: \"warning\",\n      buttons: true,\n      dangerMode: true\n    }).then(success => {\n      if (success) {\n        axios.delete(\"/api/blogs/delete/\" + id).then(response => {\n          this.getBlogData();\n          swal(\"Your Blog is deleted!\");\n        }).catch(error => {\n          console.log(\"error = \", error);\n        });\n      } else {\n        swal(\"Your Blog is safe!\");\n      }\n    });\n  }\n\n  getBlogData() {\n    axios.get('/api/blogs/get/all/list').then(response => {\n      console.log(\"===>\", response.data);\n      this.setState({\n        Blogs: response.data\n      });\n    }).catch(function (error) {\n      console.log(error);\n\n      if (error.message === \"Request failed with status code 401\") {\n        swal(\"Your session is expired! Please login again.\", \"\", \"error\");\n        /*this.props.history.push(\"/\");*/\n      }\n    });\n  }\n\n  componentDidMount() {\n    var Blogs = [];\n    this.getBlogData();\n  }\n\n  render() {\n    var data = this.state.Blogs;\n    return React.createElement(\"div\", {\n      className: \"container-fluid AllBlogsBox\",\n      style: {\n        padding: \"0px\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-lg-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, data && data.length > 0 ? data.map((data, index) => {\n      return React.createElement(\"div\", {\n        className: \"col-lg-3 Allblog\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"All1blog1 z50\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        className: \"img-responsive AllblogImgB\",\n        src: data.bannerImage ? data.bannerImage.path : \" \",\n        alt: \"Bannerpng\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"middle\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        href: \"/blogsform/\" + data._id,\n        className: \"hoverbk\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fa fa-pencil wclr\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      })), React.createElement(\"i\", {\n        className: \"fa fa-trash rclr hoverbbk\",\n        id: data._id,\n        onClick: this.deleteBlog.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      })), React.createElement(\"a\", {\n        href: \"/singleblogpage/\" + data._id,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: \"blogDate p10 mtop20 graycolor\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }, data.createdAt), React.createElement(\"h4\", {\n        className: \"blogTitle p10\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }, React.createElement(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }, data.blogTitle)), React.createElement(\"p\", {\n        className: \"blogPara p10 graycolor\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }, data.summary))));\n    }) : null));\n  }\n\n}","map":{"version":3,"sources":["/home/iassure/iAssureIT/node_react/wealthyvia/wealthyvia/webApp/admin/src/coreAdmin/Blogs/Componant/AllBlogsList/AllBlogsList.js"],"names":["React","axios","swal","AllBlogsList","Component","constructor","props","state","deleteBlog","event","preventDefault","id","target","console","log","title","text","icon","buttons","dangerMode","then","success","delete","response","getBlogData","catch","error","get","data","setState","Blogs","message","componentDidMount","render","padding","length","map","index","bannerImage","path","_id","bind","createdAt","blogTitle","summary"],"mappings":"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","sourcesContent":["import React from 'react';\nimport axios        from 'axios';\nimport swal from 'sweetalert';\nimport './AllBlogsList.css';\n\nexport default class AllBlogsList extends React.Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\n\t\t\t\"Blogs\"\t\t: [\n\t\t\t\t\t\t\t/*{\n\t\t\t\t\t\t\t\tblogDate:\"March 7,2017\",\n\t\t\t\t\t\t\t\tblogTitle:\"Introducing the Website Wireframes Plugin for Uncode\",\n\t\t\t\t\t\t\t\tblogPara:\"I was surprised how many people spoke English...\",\n\t\t\t\t\t\t\t\tblogwritter:\"John Doe\",\n\t\t\t\t\t\t\t\tbuBlogger:\"Blogger\",\n\t\t\t\t\t\t\t\tbloggerImg:\"/images/user1.png\",\n\t\t\t\t\t\t\t\tblogImg:\"/images/ceo.png\"\n\t\t\t\t\t\t\t},*/\n\n\t\t\t\t\t\t  ]\n\t};\n\t}\ndeleteBlog(event){\n\tevent.preventDefault();\n\tvar id= event.target.id;\n\tconsole.log(\"id delet\",id);\n\t swal({\n          title: \"Are you sure you want to delete this Blog?\",\n          text: \"Once deleted, you will not be able to recover this Blog!\",\n          icon: \"warning\",\n          buttons: true,\n          dangerMode: true,\n        })\n        .then((success) => {\n            if (success) {\n            \taxios\n\t\t\t    .delete(\"/api/blogs/delete/\"+id)\n\t\t\t    .then((response)=>{\n\t\t\t     \tthis.getBlogData();\n\t\t\t       swal(\"Your Blog is deleted!\");\n\t\t\t    })\n\t\t\t    .catch((error)=>{\n\t\t\t       console.log(\"error = \", error);              \n\t\t\t    });\n            \n              \n            } else {\n            swal(\"Your Blog is safe!\");\n          }\n        }); \n}\ngetBlogData(){\n\taxios\n      .get('/api/blogs/get/all/list')\n      .then((response)=>{\n       console.log(\"===>\",response.data);\n      \tthis.setState({\n      \t\t\tBlogs:response.data\n      \t\t});\n      })\n      .catch(function(error){\n        console.log(error);\n          if(error.message === \"Request failed with status code 401\")\n              {\n                   swal(\"Your session is expired! Please login again.\",\"\", \"error\");\n                   /*this.props.history.push(\"/\");*/\n              }\n      })\n}\ncomponentDidMount(){\n\tvar Blogs =[];\n\tthis.getBlogData();\n}\n\trender() {\n\t\tvar data = this.state.Blogs;\n\t\treturn (\n\t\t\t<div className=\"container-fluid AllBlogsBox\" style={{padding:\"0px\"}}>\n          \t\t<div className=\"col-lg-12\">\n\t          \t\t{\n\t\t                \t\tdata && data.length > 0 ?\n\t\t\t\t      \t\t\t\tdata.map((data, index)=>{\n\t\t                \t\t\t\t\treturn(\n\t\t\t\t\t\t\t          \t\t\t<div className=\"col-lg-3 Allblog\">\n\t\t\t\t\t\t\t          \t\t\t\t\n\t\t\t\t\t\t\t          \t\t\t\t\t<div className=\"All1blog1 z50\">\n\t\t\t\t\t\t\t          \t\t\t\t\t\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<img className=\"img-responsive AllblogImgB\" src={data.bannerImage?data.bannerImage.path:\" \"} alt=\"Bannerpng\"/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"middle\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t    \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t    <a href={\"/blogsform/\"+data._id} className=\"hoverbk\"><i className=\"fa fa-pencil wclr\"></i></a>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t    <i className=\"fa fa-trash rclr hoverbbk\" id={data._id} onClick={this.deleteBlog.bind(this)}></i>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t  </div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<a href={\"/singleblogpage/\"+data._id}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"blogDate p10 mtop20 graycolor\">{data.createdAt}</p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<h4 className=\"blogTitle p10\"><b>{data.blogTitle}</b></h4>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"blogPara p10 graycolor\">{data.summary}</p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t          \t\t\t\t\n\t\t\t\t\t\t\t          \t\t\t</div>\n\t\t\t\t\t\t\t          \t\t\t);\n\t                \t\t\t\t\t})\n\t                \t\t\t\t:\n\t                \t\t\t\tnull\n\t\t                \t\t}\t\t\t\t\n\t          \t\t\n\t          \t\t\n          \t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n"]},"metadata":{},"sourceType":"module"}