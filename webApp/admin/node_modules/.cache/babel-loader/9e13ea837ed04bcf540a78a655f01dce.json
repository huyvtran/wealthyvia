{"ast":null,"code":"var _jsxFileName = \"/home/iassureit/wealthyvia/webApp/admin/src/coreAdmin/Blogs/Componant/BlogsForm/BlogsForm.js\";\nimport React, { Component } from 'react';\nimport \"./BlogsForm.css\";\nimport { Route, withRouter } from 'react-router-dom';\nimport axios from 'axios';\nimport S3FileUpload from 'react-s3';\nimport swal from 'sweetalert';\nimport PropTypes from 'prop-types';\nimport CKEditor from 'ckeditor4-react';\n/*const formValid = formerrors=>{\n  console.log(\"formerrors\",formerrors);\n  let valid = true;\n  Object.values(formerrors).forEach(val=>{\n  val.length>0 && (valid = false);\n  })\n  return valid;\n  }*/\n\n/*const clientnameRegex = RegExp(/^[A-za-z']+( [A-Za-z']+)*$/);\nconst emailRegex = RegExp (/^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/);\n*/\n\n/*axios.defaults.baseURL = 'http://wealthyviapi.iassureit.com';\naxios.defaults.headers.post['Content-Type'] = 'application/json';*/\n\nclass BlogsForm extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      \"blogTitle\": \"\",\n      \"summary\": \"\",\n      \"typeOfBlog\": \"\",\n      \"imgArrayWSaws\": [],\n      \"config\": \"\",\n      \"uploadedImage\": [],\n      \"imgPath\": \"\",\n      \"imgbPath\": {},\n      \"blog1Img\": [],\n      \"blogContent\": '',\n      \"formerrors\": {\n        \"clientName\": \" \",\n        \"clientEmail\": \" \"\n      },\n      \"editId\": this.props.match.params ? this.props.match.params.blogID : ''\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.onEditorChange = this.onEditorChange.bind(this);\n  }\n\n  componentWillReceiveProps(nextProps) {\n    var editId = nextProps.match.params.id;\n\n    if (nextProps.match.params.id) {\n      this.setState({\n        editId: editId\n      });\n      this.edit(editId);\n    }\n  }\n\n  onEditorChange(evt) {\n    this.setState({\n      blogContent: evt.editor.getData()\n    });\n  }\n\n  edit(e) {\n    var id = this.props.match.params.blogID;\n    axios.get(\"/api/blogs/get/\" + id).then(response => {\n      console.log(\"===>\", response.data);\n      this.setState({\n        \"blogTitle\": response.data.blogTitle,\n        \"summary\": response.data.summary,\n        \"typeOfBlog\": response.data.typeOfBlog,\n        \"blogContent\": response.data.blogContent,\n        \"imgbPath\": response.data.bannerImage\n      });\n    }).catch(error => {\n      console.log(\"error = \", error);\n    });\n  }\n\n  componentWillReceiveProps() {\n    this.edit();\n  }\n\n  componentDidMount() {\n    this.edit();\n    axios.get('/api/projectsettings/get/S3').then(response => {\n      const config = {\n        bucketName: response.data.bucket,\n        dirName: \"wealthyvia\",\n        region: response.data.region,\n        accessKeyId: response.data.key,\n        secretAccessKey: response.data.secret\n      };\n      this.setState({\n        config: config\n      });\n    }).catch(function (error) {\n      console.log(error);\n\n      if (error.message === \"Request failed with status code 401\") {\n        swal(\"Your session is expired! Please login again.\", \"\", \"error\");\n        this.props.history.push(\"/\");\n      }\n    });\n  }\n\n  handleChange(event) {\n    event.preventDefault();\n    this.setState({\n      \"blogTitle\": this.refs.blogTitle.value,\n      \"summary\": this.refs.summary.value,\n      \"typeOfBlog\": this.refs.typeOfBlog.value\n    });\n  }\n\n  uploadDesignImg(e) {\n    console.log(\"upload =\", e.target.files[0]);\n    var file = e.target.files[0];\n    this.setState({\n      uploadedImage: e.target.files[0]\n    }, () => {\n      console.log(\"uploadToS3 =\", this.state.uploadedImage);\n      console.log(\"config\", this.state.config);\n      S3FileUpload.uploadFile(file, this.state.config).then(Data => {\n        console.log('mani', Data);\n        this.setState({\n          imgbPath: {\n            \"path\": Data.location\n          }\n        });\n      }).catch(error => {\n        console.log(error);\n      });\n    });\n  }\n\n  uploadBlogImage(event) {\n    event.preventDefault();\n    let self = this;\n\n    if (event.currentTarget.files && event.currentTarget.files[0]) {\n      var file = event.currentTarget.files[0];\n      var newFileName = JSON.parse(JSON.stringify(new Date())) + \"_\" + file.name;\n      var newFile = new File([file], newFileName); // console.log(\"file\",newFile);\n\n      if (newFile) {\n        // console.log(\"config--------------->\",this.state.config);\n        var ext = newFile.name.split('.').pop();\n\n        if (ext == \"jpg\" || ext == \"png\" || ext == \"jpeg\" || ext == \"JPG\" || ext == \"PNG\" || ext == \"JPEG\") {\n          if (newFile) {\n            console.log(\"blog1Img--------------->\", newFile);\n            S3FileUpload.uploadFile(newFile, this.state.config).then(Data => {\n              var obj1 = {\n                imgPath: Data.location\n              };\n              var imgArrayWSaws = this.state.imgArrayWSaws;\n              imgArrayWSaws.push(obj1);\n              this.setState({\n                // workspaceImages : imgArrayWSaws\n                blog1Img: imgArrayWSaws\n              });\n              console.log(\"blog1Img1--------------->\", imgArrayWSaws);\n            }).catch(error => {\n              console.log(\"formErrors\");\n              console.log(error);\n            }); // var objTitle={  \n            //   fileInfo :newFile\n            // }\n            // // var imgTitleArrayWS = [];\n            // imgTitleArrayWS.push(objTitle);\n            // this.setState({\n            //   imageTitleArrayWS : imgTitleArrayWS\n            // })\n            //  console.log('imgArrayWS = ',imgTitleArrayWS);\n          } else {\n            swal(\"File not uploaded\", \"Something went wrong\", \"error\");\n          }\n        } else {\n          swal(\"Please upload file\", \"Only Upload  images format (jpg,png,jpeg)\", \"warning\");\n        }\n      }\n    }\n  }\n\n  deleteBlogimage(event) {\n    event.preventDefault();\n    swal({\n      title: \"Are you sure you want to delete this image?\",\n      text: \"Once deleted, you will not be able to recover this image!\",\n      icon: \"warning\",\n      buttons: true,\n      dangerMode: true\n    }).then(success => {\n      if (success) {\n        swal(\"Your image is deleted!\");\n        this.setState({\n          imgbPath: \"\"\n        });\n      } else {\n        swal(\"Your image is safe!\");\n      }\n    });\n  }\n\n  deleteimageWS(e) {\n    e.preventDefault();\n    var index = e.target.getAttribute('id');\n    var filePath = e.target.getAttribute('data-id');\n    var data = filePath.split(\"/\");\n    var imageName = data[4];\n    console.log(\"imageName==\", imageName);\n\n    if (index) {\n      swal({\n        title: \"Are you sure you want to delete this image?\",\n        text: \"Once deleted, you will not be able to recover this image!\",\n        icon: \"warning\",\n        buttons: true,\n        dangerMode: true\n      }).then(willDelete => {\n        if (willDelete) {\n          var array = this.state.imgArrayWSaws; // make a separate copy of the array\n\n          array.splice(index, 1);\n          swal(\"Image deleted successfully\");\n          this.setState({\n            imgArrayWSaws: array\n          });\n        } else {\n          swal(\"Your image is safe!\");\n        }\n      });\n    }\n  }\n\n  update(event) {\n    var id = this.props.match.params.blogID;\n    event.preventDefault();\n    const formValues = {\n      \"blogContent\": this.state.blogContent,\n      \"typeOfBlog\": this.state.typeOfBlog,\n      \"summary\": this.state.summary,\n      \"blogTitle\": this.state.blogTitle,\n      \"bannerImage\": this.state.imgbPath\n    };\n    axios.patch('/api/blogs/patch/' + id, formValues).then(res => {\n      swal(\" Your Blog Update successfully \");\n      this.props.history.push(\"/allblogs\");\n    }).catch(error => {\n      console.log(\"error = \", error);\n    });\n  }\n\n  Submit(event) {\n    event.preventDefault();\n    const formValues = {\n      \"blogContent\": this.state.blogContent,\n      \"typeOfBlog\": this.state.typeOfBlog,\n      \"summary\": this.state.summary,\n      \"blogTitle\": this.state.blogTitle,\n      \"bannerImage\": this.state.imgbPath\n    };\n    axios.post('/api/blogs/post', formValues).then(res => {\n      swal(\"Thank you .Your Blog Created.\");\n      this.props.history.push(\"/singleblogpage/\" + res.data.ID);\n      console.log(\"response = \", res.data);\n    }).catch(error => {\n      console.log(\"error = \", error);\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 311\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \" boxform1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 312\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      id: \"blogForm\",\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12 nopadding blogFormBox\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 313\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-lg-10 col-lg-offset-1 col-md-12 col-sm-12 col-xs-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 314\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"formcontent col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 315\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 316\n      },\n      __self: this\n    }, \"Blog Tittle\", React.createElement(\"span\", {\n      className: \"redFont\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 316\n      },\n      __self: this\n    }, \"*\")), React.createElement(\"div\", {\n      className: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 317\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      className: \"form-control nameSpaceUpper col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      id: \"blogTitle\",\n      type: \"text\",\n      name: \"blogTitle\",\n      ref: \"blogTitle\",\n      value: this.state.blogTitle,\n      onChange: this.handleChange.bind(this),\n      placeholder: \"\",\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 318\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"formcontent col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      style: {\n        height: \"auto\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 321\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 322\n      },\n      __self: this\n    }, \"Blog Summery\", React.createElement(\"span\", {\n      className: \"redFont\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 322\n      },\n      __self: this\n    }, \"*\")), React.createElement(\"div\", {\n      className: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 323\n      },\n      __self: this\n    }, React.createElement(\"textarea\", {\n      className: \"form-control nameSpaceUpper form-control col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      name: \"blogsummery\",\n      ref: \"summary\",\n      value: this.state.summary,\n      onChange: this.handleChange.bind(this),\n      placeholder: \"\",\n      rows: \"5\",\n      id: \"comment\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 324\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"formcontent col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 327\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"email\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 328\n      },\n      __self: this\n    }, \"Blog Type\", React.createElement(\"span\", {\n      className: \"redFont\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 328\n      },\n      __self: this\n    }, \"*\")), React.createElement(\"div\", {\n      className: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 329\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"dropdown\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 330\n      },\n      __self: this\n    }, React.createElement(\"select\", {\n      className: \"form-control\",\n      id: \"sel1\",\n      ref: \"typeOfBlog\",\n      value: this.state.typeOfBlog,\n      onChange: this.handleChange.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 331\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 332\n      },\n      __self: this\n    }, \"Regular\"), React.createElement(\"option\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 333\n      },\n      __self: this\n    }, \"Premium\"))))), React.createElement(\"div\", {\n      className: \"formcontent col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 338\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"contactNumber\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 339\n      },\n      __self: this\n    }, \"Banner Image\", React.createElement(\"span\", {\n      className: \"redFont\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 339\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 340\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"col-lg-6 col-md-6 col-xs-12  col-sm-2 marginTop17 \",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 343\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12 row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 344\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"file\",\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12 noPadding row\",\n      title: \"Please choose image\",\n      id: \"designImg\",\n      onChange: this.uploadDesignImg.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 347\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"col-lg-6 col-md-6 col-xs-12  col-sm-2 marginTop17 \",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 350\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12 row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 351\n      },\n      __self: this\n    }, this.state.imgbPath !== \"\" && this.state.imgbPath.path ? React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 353\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      className: \"pull-right custFaTimes\",\n      title: \"Delete image\",\n      onClick: this.deleteBlogimage.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 354\n      },\n      __self: this\n    }, \"X\"), React.createElement(\"img\", {\n      src: this.state.imgbPath.path,\n      width: \"150\",\n      height: \"100\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 355\n      },\n      __self: this\n    })) : React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 357\n      },\n      __self: this\n    }, \" \")))), React.createElement(\"div\", {\n      className: \"formcontent col-lg-12 col-md-12 col-sm-12 col-xs-12 ckbox\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 423\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"userName\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 424\n      },\n      __self: this\n    }, \"Blog Content\", React.createElement(\"span\", {\n      className: \"redFont\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 424\n      },\n      __self: this\n    }, \"*\")), React.createElement(\"div\", {\n      className: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 425\n      },\n      __self: this\n    }, React.createElement(CKEditor, {\n      data: this.state.blogContent,\n      onChange: this.onEditorChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 426\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"formcontent col-lg-3 col-md-3 col-sm-12 col-xs-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 431\n      },\n      __self: this\n    }, this.state.editId ? React.createElement(\"button\", {\n      onClick: this.update.bind(this),\n      className: \"btn lightbluebg commentBoxbtn buttonhover\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 434\n      },\n      __self: this\n    }, \"Update\") : React.createElement(\"button\", {\n      onClick: this.Submit.bind(this),\n      className: \"btn lightbluebg commentBoxbtn buttonhover\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 436\n      },\n      __self: this\n    }, \"Submit\"))))));\n  }\n\n}\n\nexport default withRouter(BlogsForm);","map":{"version":3,"sources":["/home/iassureit/wealthyvia/webApp/admin/src/coreAdmin/Blogs/Componant/BlogsForm/BlogsForm.js"],"names":["React","Component","Route","withRouter","axios","S3FileUpload","swal","PropTypes","CKEditor","BlogsForm","constructor","props","state","match","params","blogID","handleChange","bind","onEditorChange","componentWillReceiveProps","nextProps","editId","id","setState","edit","evt","blogContent","editor","getData","e","get","then","response","console","log","data","blogTitle","summary","typeOfBlog","bannerImage","catch","error","componentDidMount","config","bucketName","bucket","dirName","region","accessKeyId","key","secretAccessKey","secret","message","history","push","event","preventDefault","refs","value","uploadDesignImg","target","files","file","uploadedImage","uploadFile","Data","imgbPath","location","uploadBlogImage","self","currentTarget","newFileName","JSON","parse","stringify","Date","name","newFile","File","ext","split","pop","obj1","imgPath","imgArrayWSaws","blog1Img","deleteBlogimage","title","text","icon","buttons","dangerMode","success","deleteimageWS","index","getAttribute","filePath","imageName","willDelete","array","splice","update","formValues","patch","res","Submit","post","ID","render","height","path"],"mappings":"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","sourcesContent":["import React, { Component }      from 'react';\n\nimport \"./BlogsForm.css\";\nimport {Route, withRouter} from 'react-router-dom';\nimport axios        from 'axios';\nimport S3FileUpload from 'react-s3';\n\nimport swal from 'sweetalert';\nimport PropTypes from 'prop-types';\nimport CKEditor from 'ckeditor4-react';\n\n/*const formValid = formerrors=>{\n  console.log(\"formerrors\",formerrors);\n  let valid = true;\n  Object.values(formerrors).forEach(val=>{\n  val.length>0 && (valid = false);\n  })\n  return valid;\n  }*/\n\n/*const clientnameRegex = RegExp(/^[A-za-z']+( [A-Za-z']+)*$/);\nconst emailRegex = RegExp (/^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/);\n*/\n/*axios.defaults.baseURL = 'http://wealthyviapi.iassureit.com';\naxios.defaults.headers.post['Content-Type'] = 'application/json';*/\n\nclass BlogsForm extends Component{\n\tconstructor(props) {\n\t\tsuper(props);\n\t\t this.state={\n      \"blogTitle\"      \t  : \"\",\n      \"summary\"   \t      : \"\",\n      \"typeOfBlog\"   \t\t  : \"\",\n      \"imgArrayWSaws\"     : [],\n      \"config\"            : \"\",\n      \"uploadedImage\"     : [],\n      \"imgPath\"           : \"\",\n      \"imgbPath\"           : {},\n\n      \"blog1Img\"          : [],\n      \"blogContent\"       : '',\n      \"formerrors\"        :{\n          \"clientName\"    : \" \",\n          \"clientEmail\"   : \" \", \n        },\n        \"editId\"          : this.props.match.params ? this.props.match.params.blogID : ''\n\n      };\n      this.handleChange = this.handleChange.bind( this );\n      this.onEditorChange = this.onEditorChange.bind( this );\n\t}\n\n  componentWillReceiveProps(nextProps) {\n      var editId = nextProps.match.params.id;\n      if(nextProps.match.params.id){\n        this.setState({\n          editId : editId\n        })\n        this.edit(editId);\n      }\n  }\n\n  onEditorChange( evt ) {\n      this.setState( {\n          blogContent: evt.editor.getData()\n      } );\n  }\n  edit(e){\n    var id = this.props.match.params.blogID;\n    axios\n      .get(\"/api/blogs/get/\"+id)\n      .then((response)=>{\n        console.log(\"===>\",response.data);\n        this.setState({\n          \"blogTitle\":response.data.blogTitle,\n          \"summary\":response.data.summary,\n          \"typeOfBlog\":response.data.typeOfBlog,\n          \"blogContent\":response.data.blogContent,\n          \"imgbPath\":response.data.bannerImage\n\n        });\n      })\n      .catch((error)=>{\n         console.log(\"error = \", error);              \n      });\n\n  }\n  componentWillReceiveProps(){\n    this.edit();\n  }\n  componentDidMount(){\n    this.edit();\n      axios\n        .get('/api/projectsettings/get/S3')\n        .then((response)=>{\n          \n          const config = {\n                            bucketName      : response.data.bucket,\n                            dirName         : \"wealthyvia\",\n                            region          : response.data.region,\n                            accessKeyId     : response.data.key,\n                            secretAccessKey : response.data.secret,\n\n                         }\n          this.setState({\n            config : config\n          })\n\n        })\n        .catch(function(error){\n          console.log(error);\n            if(error.message === \"Request failed with status code 401\")\n                {\n                     swal(\"Your session is expired! Please login again.\",\"\", \"error\");\n                     this.props.history.push(\"/\");\n                }\n        })\n    }\n\n  handleChange(event){\n      event.preventDefault();\n      this.setState({\n        \n        \"blogTitle\":this.refs.blogTitle.value,\n        \"summary\":this.refs.summary.value,\n        \"typeOfBlog\": this.refs.typeOfBlog.value,\n       \n      });\n      \n  }\n  uploadDesignImg(e){\n          console.log(\"upload =\",e.target.files[0]);\n          var file = e.target.files[0];\n        this.setState({\n          uploadedImage: e.target.files[0]\n        },()=>{\n          console.log(\"uploadToS3 =\",this.state.uploadedImage);\n          console.log(\"config\",this.state.config);\n           S3FileUpload\n            .uploadFile(file,this.state.config)\n            .then((Data)=>{\n                console.log('mani', Data);\n              this.setState({\n                imgbPath : {\n                  \"path\"    : Data.location,\n                }\n              })\n          })\n          .catch((error)=>{\n            console.log(error);\n          })\n        })\n\n      }\n\nuploadBlogImage(event){\n   event.preventDefault();\n   let self = this;\n   if (event.currentTarget.files && event.currentTarget.files[0]) {\n      var file = event.currentTarget.files[0];\n      var newFileName = JSON.parse(JSON.stringify(new Date()))+\"_\"+file.name;\n      var newFile = new File([file],newFileName);\n      // console.log(\"file\",newFile);\n      if (newFile) {\n      // console.log(\"config--------------->\",this.state.config);\n        var ext = newFile.name.split('.').pop();\n        if(ext==\"jpg\" || ext==\"png\" || ext==\"jpeg\" || ext==\"JPG\" || ext==\"PNG\" || ext==\"JPEG\"){ \n          if (newFile) {\n      console.log(\"blog1Img--------------->\",newFile);\n            S3FileUpload\n              .uploadFile(newFile,this.state.config)\n              .then((Data)=>{\n                \n                  var obj1={\n                    imgPath : Data.location,\n                  }\n                  var imgArrayWSaws = this.state.imgArrayWSaws;\n                  imgArrayWSaws.push(obj1);\n                  this.setState({\n                    // workspaceImages : imgArrayWSaws\n                    blog1Img : imgArrayWSaws\n                  })\n      console.log(\"blog1Img1--------------->\",imgArrayWSaws);\n              })\n              .catch((error)=>{\n                console.log(\"formErrors\");\n                console.log(error);\n              })\n\n            // var objTitle={  \n            //   fileInfo :newFile\n            // }\n            // // var imgTitleArrayWS = [];\n            // imgTitleArrayWS.push(objTitle);\n            // this.setState({\n            //   imageTitleArrayWS : imgTitleArrayWS\n            // })\n            //  console.log('imgArrayWS = ',imgTitleArrayWS);\n\n\n          }else{         \n            swal(\"File not uploaded\",\"Something went wrong\",\"error\"); \n          }\n        }else{\n          swal(\"Please upload file\",\"Only Upload  images format (jpg,png,jpeg)\",\"warning\");  \n        }\n      }\n    }\n  }\n\n  deleteBlogimage(event){\n    event.preventDefault();\n    swal({\n          title: \"Are you sure you want to delete this image?\",\n          text: \"Once deleted, you will not be able to recover this image!\",\n          icon: \"warning\",\n          buttons: true,\n          dangerMode: true,\n        })\n        .then((success) => {\n            if (success) {\n              swal(\"Your image is deleted!\");\n              this.setState({\n                imgbPath : \"\"\n              })\n            } else {\n            swal(\"Your image is safe!\");\n          }\n        });\n  }\n\n  deleteimageWS(e){\n    e.preventDefault();\n    var index = e.target.getAttribute('id');\n    var filePath = e.target.getAttribute('data-id');\n    var data = filePath.split(\"/\");\n    var imageName = data[4];\n    console.log(\"imageName==\",imageName);\n\n    if(index){\n      swal({\n            title: \"Are you sure you want to delete this image?\",\n            text: \"Once deleted, you will not be able to recover this image!\",\n            icon: \"warning\",\n            buttons: true,\n            dangerMode: true,\n          })\n          .then((willDelete) => {\n            if (willDelete) {\n              var array = this.state.imgArrayWSaws; // make a separate copy of the array\n              array.splice(index, 1);\n              swal(\"Image deleted successfully\");\n              this.setState({\n                imgArrayWSaws: array\n              });\n            }else {\n              swal(\"Your image is safe!\");\n            }\n          });\n    }\n  }\n\n\n  update(event){\n    var id = this.props.match.params.blogID;\n    event.preventDefault();\n    const formValues = {\n      \"blogContent\"         :this.state.blogContent,\n      \"typeOfBlog\"          :this.state.typeOfBlog,\n      \"summary\"             :this.state.summary,\n      \"blogTitle\"           :this.state.blogTitle,\n      \"bannerImage\"            :this.state.imgbPath,\n\n\n   };\n    axios\n          .patch('/api/blogs/patch/'+id,formValues)\n          .then((res)=>{\n                      swal(\" Your Blog Update successfully \");\n                       this.props.history.push(\"/allblogs\");\n\n                  })\n                  .catch((error)=>{\n                    console.log(\"error = \", error);\n                  });\n  }\n  Submit(event){\n    event.preventDefault();\n     const formValues = {\n        \"blogContent\"         :this.state.blogContent,\n        \"typeOfBlog\"          :this.state.typeOfBlog,\n        \"summary\"             :this.state.summary,\n        \"blogTitle\"           :this.state.blogTitle,\n        \"bannerImage\"         :this.state.imgbPath,\n         };\n    axios\n          .post('/api/blogs/post',formValues)\n          .then((res)=>{\n                      swal(\"Thank you .Your Blog Created.\");\n                       this.props.history.push(\"/singleblogpage/\"+res.data.ID);\n                       console.log(\"response = \", res.data);\n\n                  })\n                  .catch((error)=>{\n                    console.log(\"error = \", error);\n                  });\n  }\n\trender() {\n    \n\t\treturn (\n\t\t\t<div>\n  \t\t\t<div className=\" boxform1\">\n  \t\t\t\t<form id=\"blogForm\" className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 nopadding blogFormBox\">\n                <div className=\"col-lg-10 col-lg-offset-1 col-md-12 col-sm-12 col-xs-12\">\n                  <div className=\"formcontent col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n                    <label>Blog Tittle<span className=\"redFont\">*</span></label>\n                    <div className=\"\">\n                      <input className=\"form-control nameSpaceUpper col-lg-12 col-md-12 col-sm-12 col-xs-12\" id=\"blogTitle\" type=\"text\" name=\"blogTitle\"  ref=\"blogTitle\" value={this.state.blogTitle}\tonChange={this.handleChange.bind(this)} placeholder=\"\" required/>\n                    </div>\n                  </div>\n                  <div className=\"formcontent col-lg-12 col-md-12 col-sm-12 col-xs-12\" style={{height:\"auto\"}}>\n                    <label >Blog Summery<span className=\"redFont\">*</span></label>\n                    <div className=\"\">\n                      <textarea className=\"form-control nameSpaceUpper form-control col-lg-12 col-md-12 col-sm-12 col-xs-12\" name=\"blogsummery\"  ref=\"summary\" value={this.state.summary} onChange={this.handleChange.bind(this)}  placeholder=\"\" rows=\"5\" id=\"comment\"></textarea>\n                    </div>\n                  </div>\n                  <div className=\"formcontent col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n                    <label htmlFor=\"email\">Blog Type<span className=\"redFont\">*</span></label>\n                    <div className=\"\">\n                    \t<div className=\"dropdown\">\n                    \t\t<select className=\"form-control\" id=\"sel1\" ref=\"typeOfBlog\" value={this.state.typeOfBlog} onChange={this.handleChange.bind(this)}>\n  \t\t\t\t\t\t\t\t        <option>Regular</option>\n  \t\t\t\t\t\t\t\t        <option>Premium</option>\n  \t\t\t\t\t\t\t\t      </select>\n                      </div>\n                    </div>\n                  </div>\n                  <div className=\"formcontent col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n                    <label htmlFor=\"contactNumber\">Banner Image<span className=\"redFont\"></span></label>\n                    <div className=\"\">\n                      {/*<input id=\"input-b1\" name=\"input-b1\" type=\"file\" class=\"file\" data-show-preview=\"false\" onChange={this.handleChange.bind(this)} required/>*/}\n                    </div>\n                    <div className=\"col-lg-6 col-md-6 col-xs-12  col-sm-2 marginTop17 \">\n                      <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 row\">\n                          {/*<label htmlFor=\"designImg\" className=\"designLabel col-lg-12 col-md-12 col-sm-12 col-xs-12 row\">Upload</label>*/}\n                        \n                        <input type=\"file\" className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 noPadding row\" title=\"Please choose image\" id=\"designImg\" onChange={this.uploadDesignImg.bind(this)} />\n                      </div>\n                    </div>\n                    <div className=\"col-lg-6 col-md-6 col-xs-12  col-sm-2 marginTop17 \">\n                        <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 row\">\n                        { this.state.imgbPath!==\"\" && this.state.imgbPath.path ? \n                          <div>\n                            <label className=\"pull-right custFaTimes\" title=\"Delete image\"  onClick={this.deleteBlogimage.bind(this)}>X</label>{/*data-id={this.state.imgbPath}*/}\n                            <img src={this.state.imgbPath.path} width=\"150\" height=\"100\"/>\n                          </div>\n                          : <div> </div>\n                        }\n                        </div>\n                      </div>\n                    </div>\n                  {/*  <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 compForm compinfotp\">\n                      {this.state.blog1Img==null?\n                        null\n                      :\n                        this.state.blog1Img.map((data,index)=>{\n                          return(\n                                  <div className=\"col-lg-4 col-md-4 col-sm-12 col-xs-12 row\">\n                                    <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 row\">\n                                      <h5 className=\"h5Title col-lg-12 col-md-12 col-sm-12 col-xs-12\">Blog Image {index+1}</h5>\n                                    </div>\n                                    <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 \">\n                                      <div className=\"imgcss\" key={index}>\n                                        <label id={index} className=\"pull-right custFaTimes\" title=\"Delete image\" data-id={data.imgPath} onClick={this.deleteimageWS.bind(this)}>X</label>\n                                        <img className=\"img-responsive\" src={data.imgPath}/>\n                                      </div>\n                                    </div>\n                                  </div>\n                                )\n                        })\n                      }\n                  {this.state.blog1Img.length<=0?\n                    <div className=\"col-lg-4 col-md-4 col-sm-12 col-xs-12 row padTopC\">\n                      <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 row\">\n                        <h5 className=\"h5Title col-lg-12 col-md-12 col-sm-12 col-xs-12\">Add Blog Images <span className=\"astrick\">*</span></h5>\n                       \n                      </div>\n                      <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 \">\n                        <div className=\"clr_k \">\n                          <div className=\"col-lg-offset-1 col-lg-2 col-md-12 col-sm-12 col-xs-12 hand_icon\">\n                            <img src=\"/images/file_upload.png\" width=\"50\"/>\n                          </div>\n                          <div  className= \"col-lg-12 col-md-12 col-sm-12 col-xs-12 text-center below_text\">\n                           <b className=\"text_k11\"></b>\n                           <span className=\"under_ln\">Choose Blog Images</span>\n                          </div>     \n                          <input  type=\"file\" title=\"Click to attach file\" multiple name=\"userPic\" onChange={this.uploadBlogImage.bind(this)} ref=\"workspaceImg\"  className=\"form-control click_input\" id=\"upload-file2\" />\n                        </div>\n                      </div>\n                      <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 imgdetails\">(max size: 1 Mb, Format: JPEG, jpg, png)</div>\n                    </div>\n                  :\n                    <div className=\"col-lg-4 col-md-4 col-sm-12 col-xs-12 row padTopC\">\n                      <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 row\">\n                        <h5 className=\"h5Title col-lg-12 col-md-12 col-sm-12 col-xs-12\">Add Images <span className=\"astrick\">*</span></h5>\n                      </div>\n                      <div className=\"col-lg-6 col-md-12 col-sm-12 col-xs-12 \">\n                        <div className=\"clr_k\" style={{height:\"120px\"}}>\n                          <div className=\"col-lg-offset-1 col-lg-2 col-md-12 col-sm-12 col-xs-12 hand_icon1\">\n                            <img src=\"/images/file_upload.png\" width=\"50\"/>\n                          </div>\n                          <div  className= \"col-lg-offset-1 col-lg-10 col-md-10 col-sm-10 col-xs-10 below_text\">\n                           <b className=\"text_k11\"></b>\n                           <span className=\"text-center under_ln\">Choose another image</span>\n                          </div>     \n                          <input  type=\"file\" title=\"Click to attach file\" multiple name=\"userPic\" onChange={this.uploadBlogImage.bind(this)} ref=\"workspaceImg\"  className=\"form-control click_input\" id=\"upload-file2\" />\n                        </div>\n                      </div>\n                    </div>\n                }\n                </div>*/}\n                 \n                  <div className=\"formcontent col-lg-12 col-md-12 col-sm-12 col-xs-12 ckbox\">\n                    <label htmlFor=\"userName\">Blog Content<span className=\"redFont\">*</span></label>\n                    <div className=\"\">\n                      <CKEditor\n                        data={this.state.blogContent}\n                        onChange={this.onEditorChange} />\n                      </div>\n                  </div>\n                  <div className=\"formcontent col-lg-3 col-md-3 col-sm-12 col-xs-12\">\n                    { \n                        this.state.editId ? \n                        <button onClick={this.update.bind(this)} className=\"btn lightbluebg commentBoxbtn buttonhover\">Update</button>\n                        :\n                        <button onClick={this.Submit.bind(this)}  className=\"btn lightbluebg commentBoxbtn buttonhover\">Submit</button>\n                      }\n                  </div>\n                </div>\n    \t\t\t</form>\n    \t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\nexport default withRouter(BlogsForm);"]},"metadata":{},"sourceType":"module"}