{"ast":null,"code":"var _jsxFileName = \"/home/iassure/iAssureIT/node_react/wealthyvia/wealthyvia/webApp/admin/src/admin/Reports/WeeklyReport.js\";\nimport React, { Component } from 'react';\nimport IAssureTable from \"../../coreAdmin/IAssureTable/IAssureTable.jsx\";\nexport default class WeeklyReport extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      \"reportData\": [],\n      \"twoLevelHeader\": this.props.twoLevelHeader,\n      \"tableHeading\": this.props.tableHeading,\n      \"tableObjects\": this.props.tableObjects,\n      \"tableDatas\": this.props.tableDatas,\n      \"startRange\": 0,\n      \"limitRange\": 10\n    };\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  componentDidMount() {\n    this.dataTableList();\n    this.setState({\n      tableData: this.state.tableDatas.slice(this.state.startRange, this.state.limitRange)\n    });\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.reportData) {\n      this.setState({\n        reportData: nextProps.reportData\n      });\n    }\n  }\n\n  currentWeek() {\n    // var sessionWeek = Session.get('selectedWeek');//Expecting \"2017-W01\" type of format\n    // if(sessionWeek){\n    // \tvar weekVal = sessionWeek;\n    // }else{\n    // \tvar today = moment(new Date()).format(\"MM-DD-YYYY\");\n    //     var weeknumber = moment(today).week();\n    // \tif(weeknumber<=9){\n    // \t\tweeknumber=\"0\"+weeknumber;\n    // \t}\n    // \tvar yyyy = moment(today).format(\"YYYY\");\n    // \tvar weekVal = yyyy+\"-W\"+weeknumber;\n    // \tSession.set(\"selectedWeek\",weekVal);\n    // }\n    var d = new Date(); // var n = d.getMonth();\n\n    var weeknumber = d.getFullYear() + ' -W';\n    return weeknumber;\n  }\n\n  previousWeek(event) {// event.preventDefault();\n    // var selectedWeek = $(\".inputweekpicker\").val();\n    // var newWeekDt = moment(selectedWeek).subtract(1, 'weeks').format(\"YYYY-MM-DD\");\n    // var newWeekNumber = moment(newWeekDt).week();\n    // //Construct the WeekNumber string as '2017-W01'\n    // if(newWeekNumber <= 9){\n    // \tnewWeekNumber = '0'+newWeekNumber;\n    // }else if(newWeekNumber == 53){\n    // \tnewWeekNumber = 52;\n    // }\n    // var yearNum=moment(newWeekDt).format(\"YYYY\");\n    // var newWeek = yearNum+\"-W\"+newWeekNumber;\n    // Session.set('selectedWeek', newWeek);\n  }\n\n  nextWeek(event) {// event.preventDefault();\n    // var selectedWeek = $(\".inputweekpicker\").val();\n    // var newWeekDt = moment(selectedWeek).add(1, 'weeks').format(\"YYYY-MM-DD\");\n    // var newWeekNumber = moment(newWeekDt).week();\n    // //Construct the WeekNumber string as '2017-W01'\n    // if(newWeekNumber <= 9){\n    // \tnewWeekNumber = '0'+newWeekNumber;\n    // }\n    // var yearNum=moment(newWeekDt).format(\"YYYY\");\n    // var newWeek = yearNum+\"-W\"+newWeekNumber;\n    // Session.set('selectedWeek', newWeek);\n  }\n\n  handleChange(event) {\n    event.preventDefault();\n    const target = event.target;\n    const name = target.name;\n    this.setState({\n      [name]: event.target.value\n    });\n  }\n\n  dataTableList() {// var weekNumFromSess = Session.get(\"selectedWeek\");\n    // var mondayInWeek = moment(weekNumFromSess).day(\"Monday\").week(weekNumFromSess).format();\n    // var mondayInWeekDt = new Date(mondayInWeek);\n    // var sundayOfWeek = moment(mondayInWeek).add(7,\"days\").format();\n    // var sundayOfWeekDt = new Date(sundayOfWeek);\n    // var reportData = [];\n    // if(this.props.selectedCategory){\n    //     if(this.props.selectedSubCategory){\n    //         reportData =  Orders.find({'createdAt':{$gte : mondayInWeekDt, $lt : sundayOfWeekDt }, 'status' : 'Paid',  \"products\": { $elemMatch: { category: this.props.selectedCategory, subCategory: this.props.selectedSubCategory}}}, {sort: {'createdAt': -1}}).fetch();\n    //     }else{\n    //         reportData =  Orders.find({'createdAt':{$gte : mondayInWeekDt, $lt : sundayOfWeekDt }, 'status' : 'Paid',  \"products\": { $elemMatch: { category: this.props.selectedCategory}}}, {sort: {'createdAt': -1}}).fetch();\n    //     }\n    // }else{\n    //     reportData =  Orders.find({'createdAt':{$gte : mondayInWeekDt, $lt : sundayOfWeekDt }, 'status' : 'Paid'}, {sort: {'createdAt': -1}}).fetch();\n    // }\n    // this.setState({\n    //     reportData : reportData\n    // });\n  }\n\n  getData(startRange, limitRange) {\n    this.setState({\n      tableData: this.state.tableDatas.slice(parseInt(startRange), parseInt(limitRange))\n    }, () => {\n      console.log('tableData', this.state.tableData);\n    });\n  }\n\n  getSearchText(searchText, startRange, limitRange) {\n    console.log(searchText, startRange, limitRange);\n    this.setState({\n      tableData: []\n    });\n  }\n\n  render() {\n    if (!this.props.loading) {\n      return React.createElement(\"div\", {\n        className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"sales-report-main-class\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"reports-select-date-boxmain\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"reports-select-date-boxsec\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"reports-select-date-Title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142\n        },\n        __self: this\n      }, \"Weekly Reports\"), React.createElement(\"div\", {\n        className: \"input-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        onClick: this.previousWeek.bind(this),\n        className: \"commonReportArrowPoiner input-group-addon\",\n        id: \"basic-addon1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fa fa-chevron-circle-left\",\n        \"aria-hidden\": \"true\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144\n        },\n        __self: this\n      })), React.createElement(\"input\", {\n        onChange: this.handleChange,\n        name: \"inputweekpicker\",\n        value: this.currentWeek(),\n        type: \"text\",\n        className: \"reportsDateRef inputweekpicker form-control\",\n        placeholder: \"\",\n        \"aria-label\": \"Brand\",\n        \"aria-describedby\": \"basic-addon1\",\n        ref: \"inputweekpicker\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145\n        },\n        __self: this\n      }), React.createElement(\"span\", {\n        onClick: this.nextWeek.bind(this),\n        className: \"commonReportArrowPoiner input-group-addon\",\n        id: \"basic-addon1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fa fa-chevron-circle-right\",\n        \"aria-hidden\": \"true\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146\n        },\n        __self: this\n      }))))), React.createElement(\"div\", {\n        className: \"report-list-downloadMain\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151\n        },\n        __self: this\n      }, React.createElement(IAssureTable, {\n        completeDataCount: this.state.tableDatas.length,\n        twoLevelHeader: this.state.twoLevelHeader,\n        editId: this.state.editSubId,\n        getData: this.getData.bind(this),\n        tableHeading: this.state.tableHeading,\n        tableData: this.state.tableData,\n        tableObjects: this.state.tableObjects,\n        getSearchText: this.getSearchText.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152\n        },\n        __self: this\n      }))));\n    } else {\n      return React.createElement(\"div\", {\n        className: \"col-sm-12 col-xs-12 col-lg-8 col-lg-offset-4 col-md-12 loadingImg loaderDiv\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 171\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        className: \"ldrImageforbulk\",\n        src: \"/images/loadersglms.gif\",\n        alt: \"loading\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 171\n        },\n        __self: this\n      }));\n    }\n  }\n\n} // export default WeeklyListContainer = withTracker(props =>{\n// var weekNumFromSess = Session.get(\"selectedWeek\");\n// var mondayInWeek = moment(weekNumFromSess).format();\n// var mondayInWeekDt = new Date(mondayInWeek);\n// var sundayOfWeek = moment(mondayInWeek).add(7,\"days\").format();\n// var sundayOfWeekDt = new Date(sundayOfWeek);\n// const reportHandle = Meteor.subscribe(\"OrdersData\");\n// var reportData = [];\n// if(props.selectedCategory){\n//     if(props.selectedSubCategory){\n//         reportData =  Orders.find({'createdAt':{$gte : mondayInWeekDt, $lt : sundayOfWeekDt }, 'status' : 'Paid',  \"products\": { $elemMatch: { category: props.selectedCategory, subCategory: props.selectedSubCategory}}}, {sort: {'createdAt': -1}}).fetch();\n//     }else{\n//         reportData =  Orders.find({'createdAt':{$gte : mondayInWeekDt, $lt : sundayOfWeekDt }, 'status' : 'Paid',  \"products\": { $elemMatch: { category: props.selectedCategory}}}, {sort: {'createdAt': -1}}).fetch();\n//     }\n// }else{\n//     reportData =  Orders.find({'createdAt':{$gte : mondayInWeekDt, $lt : sundayOfWeekDt }, 'status' : 'Paid'}, {sort: {'createdAt': -1}}).fetch();\n// }\n// const loading = !reportHandle.ready();\n// return{\n//     loading,\n//     reportData,\n// };\n// })(CategoryWiseReportsWeeklyList);","map":{"version":3,"sources":["/home/iassure/iAssureIT/node_react/wealthyvia/wealthyvia/webApp/admin/src/admin/Reports/WeeklyReport.js"],"names":["React","Component","IAssureTable","WeeklyReport","constructor","props","state","twoLevelHeader","tableHeading","tableObjects","tableDatas","handleChange","bind","componentDidMount","dataTableList","setState","tableData","slice","startRange","limitRange","componentWillReceiveProps","nextProps","reportData","currentWeek","d","Date","weeknumber","getFullYear","previousWeek","event","nextWeek","preventDefault","target","name","value","getData","parseInt","console","log","getSearchText","searchText","render","loading","length","editSubId"],"mappings":"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","sourcesContent":["import React, { Component }     from 'react';\nimport IAssureTable             from \"../../coreAdmin/IAssureTable/IAssureTable.jsx\";\n\nexport default class WeeklyReport extends Component{\n\tconstructor(props){\n        super(props);\n        this.state = {\n            \"reportData\" : [],\n            \"twoLevelHeader\"    : this.props.twoLevelHeader,\n            \"tableHeading\"      : this.props.tableHeading,\n            \"tableObjects\"      : this.props.tableObjects,\n            \"tableDatas\"        : this.props.tableDatas,\n            \"startRange\"        : 0,\n            \"limitRange\"        : 10\n        }\n        this.handleChange = this.handleChange.bind(this);\n        \n    }\n\n    componentDidMount(){\n        this.dataTableList();\n        this.setState({\n            tableData : this.state.tableDatas.slice(this.state.startRange, this.state.limitRange),\n        });\n        this.handleChange = this.handleChange.bind(this);\n    }\n    componentWillReceiveProps(nextProps){\n        if(nextProps.reportData){\n            this.setState({\n                reportData : nextProps.reportData\n            });\n        }\n    }\n    currentWeek(){\n\t\t// var sessionWeek = Session.get('selectedWeek');//Expecting \"2017-W01\" type of format\n\n\t\t// if(sessionWeek){\n\n\t\t// \tvar weekVal = sessionWeek;\n\n\t\t// }else{\n\t\t// \tvar today = moment(new Date()).format(\"MM-DD-YYYY\");\n\t\t//     var weeknumber = moment(today).week();\n\t\t// \tif(weeknumber<=9){\n\t\t// \t\tweeknumber=\"0\"+weeknumber;\n\t\t// \t}\n\t\t// \tvar yyyy = moment(today).format(\"YYYY\");\n\t\t// \tvar weekVal = yyyy+\"-W\"+weeknumber;\n\t\t// \tSession.set(\"selectedWeek\",weekVal);\n\t\t// }\n        var d = new Date();\n        // var n = d.getMonth();\n        var weeknumber = d.getFullYear()+' -W';\n\t\treturn weeknumber;\n\t}\n\n\tpreviousWeek(event){\n\t\t// event.preventDefault();\n\t\t// var selectedWeek = $(\".inputweekpicker\").val();\n\t\t// var newWeekDt = moment(selectedWeek).subtract(1, 'weeks').format(\"YYYY-MM-DD\");\n\t\t// var newWeekNumber = moment(newWeekDt).week();\n\t\t// //Construct the WeekNumber string as '2017-W01'\n\t\t// if(newWeekNumber <= 9){\n\t\t// \tnewWeekNumber = '0'+newWeekNumber;\n\t\t// }else if(newWeekNumber == 53){\n\t\t// \tnewWeekNumber = 52;\n\t\t// }\n\t\t// var yearNum=moment(newWeekDt).format(\"YYYY\");\n\t\t// var newWeek = yearNum+\"-W\"+newWeekNumber;\n\n\t\t// Session.set('selectedWeek', newWeek);\n\t}\n\n\tnextWeek(event){\n\t\t// event.preventDefault();\n\t\t// var selectedWeek = $(\".inputweekpicker\").val();\n\t\t// var newWeekDt = moment(selectedWeek).add(1, 'weeks').format(\"YYYY-MM-DD\");\n\t\t// var newWeekNumber = moment(newWeekDt).week();\n\t\t// //Construct the WeekNumber string as '2017-W01'\n\t\t// if(newWeekNumber <= 9){\n\t\t// \tnewWeekNumber = '0'+newWeekNumber;\n\t\t// }\n\t\t// var yearNum=moment(newWeekDt).format(\"YYYY\");\n\t\t// var newWeek = yearNum+\"-W\"+newWeekNumber;\n\n\t\t// Session.set('selectedWeek', newWeek);\n    }\n    \n    handleChange(event){\n        event.preventDefault();\n        const target = event.target;\n        const name = target.name;\n\n        this.setState({\n           [name] : event.target.value,\n        });\n    }\n    dataTableList(){\n        // var weekNumFromSess = Session.get(\"selectedWeek\");\n        \n        // var mondayInWeek = moment(weekNumFromSess).day(\"Monday\").week(weekNumFromSess).format();\n\n        // var mondayInWeekDt = new Date(mondayInWeek);\n        // var sundayOfWeek = moment(mondayInWeek).add(7,\"days\").format();\n        // var sundayOfWeekDt = new Date(sundayOfWeek);\n        \n        // var reportData = [];\n        // if(this.props.selectedCategory){\n        //     if(this.props.selectedSubCategory){\n        //         reportData =  Orders.find({'createdAt':{$gte : mondayInWeekDt, $lt : sundayOfWeekDt }, 'status' : 'Paid',  \"products\": { $elemMatch: { category: this.props.selectedCategory, subCategory: this.props.selectedSubCategory}}}, {sort: {'createdAt': -1}}).fetch();\n        //     }else{\n        //         reportData =  Orders.find({'createdAt':{$gte : mondayInWeekDt, $lt : sundayOfWeekDt }, 'status' : 'Paid',  \"products\": { $elemMatch: { category: this.props.selectedCategory}}}, {sort: {'createdAt': -1}}).fetch();\n        //     }\n        // }else{\n        //     reportData =  Orders.find({'createdAt':{$gte : mondayInWeekDt, $lt : sundayOfWeekDt }, 'status' : 'Paid'}, {sort: {'createdAt': -1}}).fetch();\n        // }\n        // this.setState({\n        //     reportData : reportData\n        // });\n\n    }\n    getData(startRange, limitRange){\n        this.setState({\n            tableData : this.state.tableDatas.slice(parseInt(startRange), parseInt(limitRange)),\n        },()=>{\n            console.log('tableData',this.state.tableData);\n        });\n    }\n    getSearchText(searchText, startRange, limitRange){\n        console.log(searchText, startRange, limitRange);\n        this.setState({\n            tableData : []\n        });\n    }\n    render(){\n        if(!this.props.loading){\n            return( \n                <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n                    <div className=\"sales-report-main-class\">\n                        <div className=\"reports-select-date-boxmain\">\n                            <div className=\"reports-select-date-boxsec\">\n                                <div className=\"reports-select-date-Title\">Weekly Reports</div>\n                                <div className=\"input-group\">\n                                    <span  onClick={this.previousWeek.bind(this)} className=\"commonReportArrowPoiner input-group-addon\" id=\"basic-addon1\"><i className=\"fa fa-chevron-circle-left\" aria-hidden=\"true\"></i></span>\n                                    <input  onChange={this.handleChange} name=\"inputweekpicker\" value={this.currentWeek()}  type=\"text\" className=\"reportsDateRef inputweekpicker form-control\" placeholder=\"\" aria-label=\"Brand\" aria-describedby=\"basic-addon1\" ref=\"inputweekpicker\"  />\n                                    <span onClick={this.nextWeek.bind(this)} className=\"commonReportArrowPoiner input-group-addon\" id=\"basic-addon1\"><i className=\"fa fa-chevron-circle-right\" aria-hidden=\"true\"></i></span>\n                                </div>\n                            </div>\n                        </div>\n\n                        <div className=\"report-list-downloadMain\">\n                            <IAssureTable \n                                completeDataCount={this.state.tableDatas.length}\n                                twoLevelHeader={this.state.twoLevelHeader} \n                                editId={this.state.editSubId} \n                                getData={this.getData.bind(this)} \n                                tableHeading={this.state.tableHeading} \n                                tableData={this.state.tableData} \n                                tableObjects={this.state.tableObjects}\n                                getSearchText={this.getSearchText.bind(this)}/>\n\n                        </div>\n                    </div>\n                \n                    \n                </div>\n                \n            );\n        }else{\n            return(\n                <div className=\"col-sm-12 col-xs-12 col-lg-8 col-lg-offset-4 col-md-12 loadingImg loaderDiv\"><img className=\"ldrImageforbulk\" src=\"/images/loadersglms.gif\" alt=\"loading\"/></div>\n            );\n        } \n    }\n}\n// export default WeeklyListContainer = withTracker(props =>{\n// var weekNumFromSess = Session.get(\"selectedWeek\");\n        \n// var mondayInWeek = moment(weekNumFromSess).format();\n\n// var mondayInWeekDt = new Date(mondayInWeek);\n// var sundayOfWeek = moment(mondayInWeek).add(7,\"days\").format();\n// var sundayOfWeekDt = new Date(sundayOfWeek);\n\n// const reportHandle = Meteor.subscribe(\"OrdersData\");\n// var reportData = [];\n// if(props.selectedCategory){\n//     if(props.selectedSubCategory){\n//         reportData =  Orders.find({'createdAt':{$gte : mondayInWeekDt, $lt : sundayOfWeekDt }, 'status' : 'Paid',  \"products\": { $elemMatch: { category: props.selectedCategory, subCategory: props.selectedSubCategory}}}, {sort: {'createdAt': -1}}).fetch();\n//     }else{\n//         reportData =  Orders.find({'createdAt':{$gte : mondayInWeekDt, $lt : sundayOfWeekDt }, 'status' : 'Paid',  \"products\": { $elemMatch: { category: props.selectedCategory}}}, {sort: {'createdAt': -1}}).fetch();\n//     }\n// }else{\n//     reportData =  Orders.find({'createdAt':{$gte : mondayInWeekDt, $lt : sundayOfWeekDt }, 'status' : 'Paid'}, {sort: {'createdAt': -1}}).fetch();\n// }\n// const loading = !reportHandle.ready();\n// return{\n//     loading,\n//     reportData,\n// };\n// })(CategoryWiseReportsWeeklyList);"]},"metadata":{},"sourceType":"module"}