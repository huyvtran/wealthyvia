{"ast":null,"code":"var _jsxFileName = \"/home/iassureit/wealthyvia/webApp/admin/src/coreAdmin/dashboard/UploadStatement/UploadStatement.js\";\nimport React, { Component } from 'react';\nimport { render } from 'react-dom';\nimport SimpleReactValidator from 'simple-react-validator';\nimport axios from 'axios';\nimport swal from 'sweetalert';\nimport $ from \"jquery\";\nimport S3FileUpload from 'react-s3';\nimport { deleteFile } from 'react-s3';\nimport './UploadStatement.css';\naxios.defaults.baseURL = 'http://api.wealthyvia.com';\naxios.defaults.headers.post['Content-Type'] = 'application/json';\n\nclass UploadStatement extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      \"uploadStatement\": \"\"\n    };\n  }\n\n  uploadImg(event) {\n    var index = event.target.getAttribute('id');\n    console.log(\"index--------------->\", index);\n    let self = this;\n\n    if (event.currentTarget.files && event.currentTarget.files[0]) {\n      var file = event.currentTarget.files[0];\n      var newFileName = JSON.parse(JSON.stringify(new Date())) + \"_\" + file.name;\n      var newFile = new File([file], newFileName);\n      this.setState({\n        uploadStatementName: newFile.name\n      });\n      console.log(\"fileNamePAN\", this.state.fileName);\n\n      if (newFile) {\n        var ext = newFile.name.split('.').pop();\n\n        if (ext == \"jpg\" || ext == \"png\" || ext == \"jpeg\" || ext == \"JPG\" || ext == \"PNG\" || ext == \"JPEG\") {\n          if (newFile) {\n            if (this.state.uploadStatement == \"\") {\n              S3FileUpload.uploadFile(newFile, this.state.config).then(Data => {\n                console.log(\"Data = \", Data);\n                this.setState({\n                  uploadStatement: Data.location\n                }, () => {\n                  console.log(\"uploadStatement\", this.state.uploadStatement);\n                });\n                this.deleteimageLogo(index);\n              }).catch(error => {\n                console.log(error);\n              });\n              console.log(\"uploadStatement--->\", this.state.uploadStatement);\n            } else {\n              swal({\n                title: \"Are you sure you want to replace this image?\",\n                text: \"Once replaced, you will not be able to recover this image!\",\n                icon: \"warning\",\n                buttons: true,\n                dangerMode: true\n              }).then(success => {\n                if (success) {\n                  S3FileUpload.uploadFile(newFile, this.state.config).then(Data => {\n                    console.log(\"Data = \", Data);\n                    this.setState({\n                      uploadStatement: Data.location\n                    });\n                    this.deleteimageLogo(index);\n                  }).catch(error => {\n                    console.log(\"formErrors\");\n                    console.log(error);\n                  });\n                } else {\n                  swal(\"Your information is safe!\");\n                }\n              });\n            }\n          } else {\n            swal(\"File not uploaded\", \"Something went wrong\", \"error\");\n          }\n        } else {\n          swal(\"Format is incorrect\", \"Only Upload images format (jpg,png,jpeg)\", \"warning\");\n        }\n      }\n    }\n  }\n\n  componentDidMount() {\n    axios.get('http://api.wealthyvia.com/api/projectsettings/get/S3').then(response => {\n      const config = {\n        bucketName: response.data.bucket,\n        dirName: response.data.bucket,\n        region: response.data.region,\n        accessKeyId: response.data.key,\n        secretAccessKey: response.data.secret\n      };\n      this.setState({\n        config: config\n      });\n    }).catch(function (error) {\n      console.log(error);\n\n      if (error.message === \"Request failed with status code 401\") {\n        swal(\"Your session is expired! Please login again.\", \"\", \"error\");\n        this.props.history.push(\"/\");\n      }\n    });\n  }\n\n  deleteimageLogo(index) {\n    var data = index.split(\"/\");\n    var imageName = data[4];\n    console.log(\"index1--------------->\", imageName);\n\n    if (index) {\n      S3FileUpload.deleteFile(imageName, this.state.config).then(response => {\n        console.log(\"Deletedddd...\", response);\n        swal(\"Image deleted successfully\");\n      }).catch(err => {\n        console.error(\"Not-Deletedddd...\", err);\n      });\n    }\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-xs-12 col-sm-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12 workHeader\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      className: \"h5lettersp MasterBudgetTitle\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141\n      },\n      __self: this\n    }, \"User Statement Upload\")), React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12 backColorUserDetails userDetailsDiv\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      className: \"mt40\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144\n      },\n      __self: this\n    }, \"Priyanka Lewade\"), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      className: \"mt20\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145\n      },\n      __self: this\n    }, \"priyankalewade96@gmail.com\"), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      className: \"mt20\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146\n      },\n      __self: this\n    }, \" 8208066599\"), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      className: \"mt20\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147\n      },\n      __self: this\n    }, React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147\n      },\n      __self: this\n    }, \"Start Date - \"), \" 11-10-2019\"), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      className: \"mt20\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148\n      },\n      __self: this\n    }, React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148\n      },\n      __self: this\n    }, \"End Date - \"), \" 11-02-2019\"), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148\n      },\n      __self: this\n    })), React.createElement(\"hr\", {\n      className: \"compySettingHr\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12 \",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      id: \"CompanySMSGatewayForm\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12 \",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12 compForm compinfotp\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \" formht col-lg-6 col-md-12 col-sm-12 col-xs-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      className: \"control-label statelabel locationlabel\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159\n      },\n      __self: this\n    }, \"Select Offering\"), React.createElement(\"span\", {\n      className: \"astrick\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160\n      },\n      __self: this\n    }, \"*\"), React.createElement(\"select\", {\n      ref: \"planName\",\n      type: \"text\",\n      name: \"planName\",\n      placeholder: \"Enter Subscription Name\",\n      className: \"selectbox\",\n      title: \"Please enter package Name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164\n      },\n      __self: this\n    }, \"---- Select ----\"), React.createElement(\"option\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165\n      },\n      __self: this\n    }, \"5GCPM\"), React.createElement(\"option\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166\n      },\n      __self: this\n    }, \"Safe Heaven\"), React.createElement(\"option\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167\n      },\n      __self: this\n    }, \"Safe Heaven Stocks & Alpha\"), React.createElement(\"option\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168\n      },\n      __self: this\n    }, \"USA Stocks Portfolio\"), React.createElement(\"option\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169\n      },\n      __self: this\n    }, \"Unlisted Stocks\")))))), React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12  \",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-lg-5 col-md-5 col-sm-12 col-xs-12 padTopC\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12 row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"clr_k \",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-lg-offset-1 col-lg-2 col-md-12 col-sm-12 col-xs-12 hand_icon move_hand_icon\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: \"/images/Upload-Icon.png\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12 text-center below_text\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183\n      },\n      __self: this\n    }, React.createElement(\"b\", {\n      className: \"text_k11\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      className: \"under_ln\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185\n      },\n      __self: this\n    }, \"Upload Statement\")), React.createElement(\"input\", {\n      type: \"file\",\n      title: \"Click to attach file\",\n      multiple: true,\n      name: \"userPic\",\n      ref: \"statementImg\",\n      className: \"form-control click_input\",\n      onChange: this.uploadImg.bind(this),\n      id: \"upload-file2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187\n      },\n      __self: this\n    }))))), React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12 pdcls mt40\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197\n      },\n      __self: this\n    }, React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197\n      },\n      __self: this\n    }, \"Date : 11-10-2019\")), React.createElement(\"div\", {\n      className: \"col-lg-4 col-md-4 col-sm-4 col-xs-4  imagesDivUploaded\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198\n      },\n      __self: this\n    }, this.state.uploadStatement))))));\n  }\n\n}\n\nexport default UploadStatement;","map":{"version":3,"sources":["/home/iassureit/wealthyvia/webApp/admin/src/coreAdmin/dashboard/UploadStatement/UploadStatement.js"],"names":["React","Component","render","SimpleReactValidator","axios","swal","$","S3FileUpload","deleteFile","defaults","baseURL","headers","post","UploadStatement","constructor","props","state","uploadImg","event","index","target","getAttribute","console","log","self","currentTarget","files","file","newFileName","JSON","parse","stringify","Date","name","newFile","File","setState","uploadStatementName","fileName","ext","split","pop","uploadStatement","uploadFile","config","then","Data","location","deleteimageLogo","catch","error","title","text","icon","buttons","dangerMode","success","componentDidMount","get","response","bucketName","data","bucket","dirName","region","accessKeyId","key","secretAccessKey","secret","message","history","push","imageName","err","bind"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { render }           from 'react-dom';\nimport SimpleReactValidator from 'simple-react-validator';\nimport axios                from 'axios';\nimport swal                 from 'sweetalert';\nimport $                    from \"jquery\";\nimport S3FileUpload               from 'react-s3';\nimport { deleteFile }             from 'react-s3';\nimport './UploadStatement.css';\naxios.defaults.baseURL = 'http://api.wealthyvia.com';\naxios.defaults.headers.post['Content-Type'] = 'application/json';\n\n\nclass UploadStatement extends Component{\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      \"uploadStatement\":\"\",\n    \n    };\n  \n  }\n  uploadImg (event){\n     var index = event.target.getAttribute('id');\n    console.log(\"index--------------->\",index);\n    let self = this;\n    if (event.currentTarget.files && event.currentTarget.files[0]) {\n      var file = event.currentTarget.files[0];\n      var newFileName = JSON.parse(JSON.stringify(new Date()))+\"_\"+file.name;\n      var newFile = new File([file],newFileName);\n      this.setState({\n        uploadStatementName : newFile.name,\n      })\n      console.log(\"fileNamePAN\",this.state.fileName);\n      if (newFile) {\n        var ext = newFile.name.split('.').pop();\n        if(ext==\"jpg\" || ext==\"png\" || ext==\"jpeg\" || ext==\"JPG\" || ext==\"PNG\" || ext==\"JPEG\"){ \n          if (newFile) {\n            if(this.state.uploadStatement==\"\"){\n              S3FileUpload\n                .uploadFile(newFile,this.state.config)\n                .then((Data)=>{\n                  console.log(\"Data = \",Data);\n                  this.setState({\n                    uploadStatement : Data.location\n                  },()=>{                \n                    console.log(\"uploadStatement\",this.state.uploadStatement)})\n                  this.deleteimageLogo(index)\n                })\n                .catch((error)=>{\n                  console.log(error);\n                })\n                console.log(\"uploadStatement--->\",this.state.uploadStatement)\n            }else{\n              swal({\n                    title: \"Are you sure you want to replace this image?\",\n                    text: \"Once replaced, you will not be able to recover this image!\",\n                    icon: \"warning\",\n                    buttons: true,\n                    dangerMode: true,\n                  })\n                  .then((success) => {\n                      if (success) {\n                        S3FileUpload\n                          .uploadFile(newFile,this.state.config)\n                          .then((Data)=>{\n                            console.log(\"Data = \",Data);\n                            this.setState({\n                              uploadStatement : Data.location\n                            })\n                            this.deleteimageLogo(index)\n                          })\n                          .catch((error)=>{\n                            console.log(\"formErrors\");\n                            console.log(error);\n                          })\n                      } else {\n                      swal(\"Your information is safe!\");\n                    }\n                  });\n            }         \n          }else{         \n            swal(\"File not uploaded\",\"Something went wrong\",\"error\"); \n          }    \n        }else{\n          swal(\"Format is incorrect\",\"Only Upload images format (jpg,png,jpeg)\",\"warning\");  \n        }\n      }\n    }\n  }\n\n  componentDidMount() {\n  axios\n      .get('http://api.wealthyvia.com/api/projectsettings/get/S3')\n      .then((response)=>{\n        const config = \n                       {\n                          bucketName      : response.data.bucket,\n                          dirName         : response.data.bucket,\n                          region          : response.data.region,\n                          accessKeyId     : response.data.key,\n                          secretAccessKey : response.data.secret,\n                      }\n        this.setState({\n          config : config\n        })\n      })\n      .catch(function(error){\n        console.log(error);\n          if(error.message === \"Request failed with status code 401\")\n              {\n                   swal(\"Your session is expired! Please login again.\",\"\", \"error\");\n                   this.props.history.push(\"/\");\n              }\n      })\n  \n  }\n   deleteimageLogo(index){\n    var data = index.split(\"/\");\n    var imageName = data[4];\n    console.log(\"index1--------------->\",imageName);\n      if(index){\n        S3FileUpload\n          .deleteFile(imageName,this.state.config)\n          .then((response) =>{\n            console.log(\"Deletedddd...\",response)\n            swal(\"Image deleted successfully\");\n          })\n          .catch((err) => {\n            console.error(\"Not-Deletedddd...\",err)\n          })\n      }\n  }\n\n  render(){\n    return(\n      <div className=\"row\">\n        <div className=\"col-lg-12 col-md-12 col-xs-12 col-sm-12\">\n         <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 workHeader\">\n          <h4 className=\"h5lettersp MasterBudgetTitle\">User Statement Upload</h4>\n         </div>\n            <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 backColorUserDetails userDetailsDiv\">\n                <label className=\"mt40\">Priyanka Lewade</label><br/>\n                <label  className=\"mt20\">priyankalewade96@gmail.com</label><br/>\n                <label  className=\"mt20\"> 8208066599</label><br/>\n                <label  className=\"mt20\"><b>Start Date - </b> 11-10-2019</label><br/>\n                <label  className=\"mt20\"><b>End Date - </b> 11-02-2019</label><br/>             \n              </div>\n          \n          <hr className=\"compySettingHr\" />\n           <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 \">\n           \n             <form id=\"CompanySMSGatewayForm\"  >\n              <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 \">\n                <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 compForm compinfotp\">\n                  <div className=\" formht col-lg-6 col-md-12 col-sm-12 col-xs-12\">\n                    <div className=\"\">\n                      <label className=\"control-label statelabel locationlabel\" >Select Offering</label>\n                      <span className=\"astrick\">*</span>\n                      <select  ref=\"planName\"\n                             type=\"text\" name=\"planName\" placeholder=\"Enter Subscription Name\" \n                             className=\"selectbox\" title=\"Please enter package Name\">\n                              <option >---- Select ----</option>\n                              <option>5GCPM</option>\n                              <option>Safe Heaven</option>\n                              <option>Safe Heaven Stocks & Alpha</option>\n                              <option>USA Stocks Portfolio</option>\n                              <option>Unlisted Stocks</option>     \n                          </select>\n                    \n                    </div>                     \n                  </div> \n                  </div>\n                 </div>     \n                <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12  \">\n                      <div className=\"col-lg-5 col-md-5 col-sm-12 col-xs-12 padTopC\">\n                      <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 row\">\n                        <div className=\"clr_k \">\n                          <div className=\"col-lg-offset-1 col-lg-2 col-md-12 col-sm-12 col-xs-12 hand_icon move_hand_icon\">\n                            <img src=\"/images/Upload-Icon.png\"/>\n                          </div>\n                          <div  className= \"col-lg-12 col-md-12 col-sm-12 col-xs-12 text-center below_text\">\n                           <b className=\"text_k11\"></b>\n                           <span className=\"under_ln\">Upload Statement</span>\n                          </div>      \n                          <input  type=\"file\" title=\"Click to attach file\" multiple name=\"userPic\" ref=\"statementImg\"  className=\"form-control click_input\"  onChange={this.uploadImg.bind(this)} id=\"upload-file2\" />\n                        </div> \n                      </div>\n                     \n                    </div>\n                 </div>          \n             {/*   <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12  marginBtmDiv\">\n                <button className=\"btn buttontAddEdit pull-right\" id=\"btnCheck\" onClick={this.submitAmenityInfo.bind(this)}>{this.state.editId==null?\"Submit\":\"Update\"}</button>\n              </div>*/}\n                <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 pdcls mt40\">\n                  <label><b>Date : 11-10-2019</b></label>\n                  <div className=\"col-lg-4 col-md-4 col-sm-4 col-xs-4  imagesDivUploaded\">\n                    {this.state.uploadStatement}\n                  </div>\n              </div>\n\n            </form>\n          </div>\n        </div>\n      </div>\n\n      );\n  }\n\n}\n\nexport default UploadStatement;"]},"metadata":{},"sourceType":"module"}