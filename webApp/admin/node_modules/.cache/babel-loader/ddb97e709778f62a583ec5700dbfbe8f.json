{"ast":null,"code":"var _jsxFileName = \"/home/iassureit/wealthyvia/webApp/admin/src/coreAdmin/dashboard/DashboardNew.js\";\nimport React, { Component } from 'react';\nimport { render } from 'react-dom';\nimport { Link } from 'react-router-dom';\nimport moment from 'moment';\nimport axios from 'axios';\nimport $ from 'jquery';\nimport { Chart } from \"react-google-charts\";\nimport DashboardCWSBS from \"../dashboardReports/cafeWiseSeatBookingS/DashboardCWSBS.js\";\nimport SalesTransactionReportDashB from '../dashboardReports/salesTransactionReport/SalesTransactionReportDashB.js';\n\nclass AdminContent extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      allUserData: [],\n      pieOptions: \"\",\n      pieData: \"\",\n      dataColumnChart: \"\",\n      activeVendor: \"\",\n      earningMTD: \"\",\n      earningYTD: \"\",\n      menuMTD: \"\",\n      menuYTD: \"\",\n      subUsers: \"\",\n      subscrptionData: [],\n      totalUsers: \"\",\n      totalVendor: \"\",\n      twelveMonthGrossEarning: []\n    };\n  }\n\n  componentWillMount() {\n    $('.sidebar').css({\n      display: 'block',\n      background: '#222d32'\n    });\n    axios.get('/api/report/get/dashboard').then(response => {\n      console.log(\"dashboard............>\", response.data);\n      this.setState({\n        activeVendor: response.data.activeVendor,\n        earningMTD: response.data.earningMTD,\n        earningYTD: response.data.earningYTD,\n        menuMTD: response.data.menuMTD,\n        menuYTD: response.data.menuYTD,\n        subUsers: response.data.subUsers,\n        subscrptionData: response.data.subscrptionData,\n        totalUsers: response.data.totalUsers,\n        totalVendor: response.data.totalVendor,\n        twelveMonthGrossEarning: response.data.twelveMonthGrossEarning\n      });\n      console.log('this.state.subscrptionData', response.data.subscrptionData.length);\n      var subscrptionData = [{\n        packageName: \"Daily Package\",\n        count: 5\n      }, {\n        packageName: \"Weekly Package\",\n        count: 3\n      }, {\n        packageName: \"Monthly Package\",\n        count: 5\n      }];\n      var pieArray = [[\"Monthly\", \"Weekly\"]];\n\n      for (var i = 0; i < subscrptionData.length; i++) {\n        var pieArr = [subscrptionData[i].packageName, subscrptionData[i].count];\n        pieArray.push(pieArr);\n      } // var twelveMonthGrossEarning =[{monthYear: \"Oct\", earning: 100},{monthYear: \"Nov\", earning: 489},{monthYear: \"Dec\", earning: 573},{monthYear: \"Jan\", earning: 710},{monthYear: \"Feb\", earning: 249},{monthYear: \"Mar\", earning: 432},{monthYear: \"Apr\", earning: 685},{monthYear: \"May\", earning: 589},{monthYear: \"Jun\", earning: 729},{monthYear: \"Jul\", earning: 635},{monthYear: \"Aug\", earning: 565},{monthYear: \"Sep\", earning: 900}]\n\n\n      var twelveClrArray = [\"#6D78AD\", \"#5CCDA0\", \"#DF7970\", \"#4C9CA0\", \"#AE7D99\", \"#C9D45B\", \"#5592AC\", \"#F4C12E\", \"#CC68DE\", \"#F18230\", \"#79B2F5\", \"#424263\"];\n      var chartArray = [[\"Month\", \"Cost (RS)\", {\n        role: \"style\"\n      }]];\n\n      for (var i = 0; i < this.state.twelveMonthGrossEarning.length; i++) {\n        var chartArr = [this.state.twelveMonthGrossEarning[i].monthYear, this.state.twelveMonthGrossEarning[i].earning, twelveClrArray[i]];\n        chartArray.push(chartArr);\n        console.log('chartArray', chartArray);\n      }\n\n      this.setState({\n        pieData: pieArray,\n        dataColumnChart: chartArray\n      }, () => {\n        console.log('pieData', this.state.pieData);\n        console.log('dataColumnChart', this.state.dataColumnChart);\n      });\n    }).catch(function (error) {\n      console.log(error);\n    });\n  }\n\n  componentDidMount() {\n    const dataColumnChart = [[\"Month\", \"Cost (Lac)\", {\n      role: \"style\"\n    }], [\"#6D78AD\", \"#5CCDA0\", \"#DF7970\", \"#4C9CA0\", \"#AE7D99\", \"#C9D45B\", \"#5592AC\", \"#F4C12E\", \"#CC68DE\", \"#F18230\", \"#79B2F5\", \"#424263\"]];\n    const pieOptions = {\n      title: \"\",\n      pieHole: 0.6,\n      slices: [{\n        color: \"#6D78AD\"\n      }, {\n        color: \"#5CCDA0\"\n      }, {\n        color: \"#DF7970\"\n      }, {\n        color: \"#e9a227\"\n      }],\n      legend: {\n        position: \"bottom\",\n        alignment: \"center\",\n        textStyle: {\n          color: \"233238\",\n          fontSize: 14,\n          font: \"montserrat\"\n        }\n      },\n      tooltip: {\n        showColorCode: true\n      },\n      chartArea: {\n        left: 0,\n        top: 20,\n        width: \"100%\",\n        height: \"80%\"\n      },\n      fontName: \"Roboto\"\n    };\n    this.setState({\n      pieOptions: pieOptions\n    });\n  }\n\n  componentWillUnmount() {// $(\"script[src='/js/adminLte.js']\").remove();\n    // $(\"link[href='/css/dashboard.css']\").remove();\n    // console.log('wow');\n  }\n\n  allUserCount() {\n    return this.state.allUserData.length;\n  }\n\n  componentDidUpdate() {// const myChartRef = this.chartRef.current.getContext(\"2d\");\n    //     new Chart(myChartRef, {\n    //         type: \"line\",\n    //         data: {\n    //             //Bring in data\n    //             labels: [\"Jan\", \"Feb\", \"March\"],\n    //             datasets: [\n    //                 {\n    //                     label: \"Sales\",\n    //                     data: [86, 67, 91],\n    //                 }\n    //             ]\n    //         },\n    //         options: {\n    //             //Customize chart options\n    //         }\n    //     });\n    //   var competitionRegChart = document.getElementById(\"competitionRegChart\").getContext('2d');\n    //   var myChart = new Chart(competitionRegChart, {\n    //       type: 'bar',\n    //       data: {\n    //           // labels: this.state.CompetitionwiseReg.map(function(label,index){return label.competitionName.substring(0,5)}),\n    //           labels: this.state.CompetitionwiseReg.map(function(label,index){return (label.competitionName).substring(0,7)+\"...\"}),\n    //           // labels: this.state.CompetitionwiseReg.map(function(label,index){return (label.competitionName).split(/\\s+/).slice(0,2).join(\" \")+\"...\"}),\n    //           datasets: [{\n    //               label: 'Competition registrations',\n    //               data: this.state.CompetitionwiseReg.map(function(compCnt,index){return compCnt.competitionRegCnt}),\n    //               backgroundColor: [\n    //                   'rgba(255, 99, 132, 0.2)',\n    //                   'rgba(54, 162, 235, 0.2)',\n    //                   'rgba(255, 206, 86, 0.2)',\n    //                   'rgba(75, 192, 192, 0.2)',\n    //                   'rgba(153, 102, 255, 0.2)',\n    //                   'rgba(255, 159, 64, 0.2)',\n    //                   'rgba(255, 99, 132, 0.2)',\n    //                   'rgba(54, 162, 235, 0.2)',\n    //                   'rgba(255, 206, 86, 0.2)',\n    //                   'rgba(75, 192, 192, 0.2)',\n    //                   'rgba(153, 102, 255, 0.2)',\n    //                   'rgba(255, 159, 64, 0.2)'\n    //               ],\n    //               borderColor: [\n    //                   'rgba(255,99,132,1)',\n    //                   'rgba(54, 162, 235, 1)',\n    //                   'rgba(255, 206, 86, 1)',\n    //                   'rgba(75, 192, 192, 1)',\n    //                   'rgba(153, 102, 255, 1)',\n    //                   'rgba(255, 159, 64, 1)',\n    //                   'rgba(255,99,132,1)',\n    //                   'rgba(54, 162, 235, 1)',\n    //                   'rgba(255, 206, 86, 1)',\n    //                   'rgba(75, 192, 192, 1)',\n    //                   'rgba(153, 102, 255, 1)',\n    //                   'rgba(255, 159, 64, 1)'\n    //               ],\n    //               borderWidth: 1\n    //           }]\n    //       },\n    //       options: {\n    //           scales: {\n    //               yAxes: [{\n    //                   ticks: {\n    //                       beginAtZero:true\n    //                   }\n    //               }]\n    //           }\n    //       }\n    //   });\n    //   var packagePurchageChart = document.getElementById(\"packagePurchageChart\").getContext('2d');\n    //   var myChart = new Chart(packagePurchageChart, {\n    //       type: 'bar',\n    //       data: {\n    //           labels: this.state.allPackages.map(function(label,index){return (label).substring(0,5)+\"...\"}),\n    //           // labels: this.state.allPackages,\n    //           datasets: [{\n    //               label: 'All Packages',\n    //               data: this.state.PackagesPurchaseCnt,\n    //               backgroundColor: [\n    //                   'rgba(255, 99, 132, 0.2)',\n    //                   'rgba(54, 162, 235, 0.2)',\n    //                   'rgba(255, 206, 86, 0.2)',\n    //                   'rgba(75, 192, 192, 0.2)',\n    //                   'rgba(153, 102, 255, 0.2)',\n    //                   'rgba(255, 159, 64, 0.2)',\n    //                   'rgba(255, 99, 132, 0.2)',\n    //                   'rgba(54, 162, 235, 0.2)',\n    //                   'rgba(255, 206, 86, 0.2)',\n    //                   'rgba(75, 192, 192, 0.2)',\n    //                   'rgba(153, 102, 255, 0.2)',\n    //                   'rgba(255, 159, 64, 0.2)'\n    //               ],\n    //               borderColor: [\n    //                   'rgba(255,99,132,1)',\n    //                   'rgba(54, 162, 235, 1)',\n    //                   'rgba(255, 206, 86, 1)',\n    //                   'rgba(75, 192, 192, 1)',\n    //                   'rgba(153, 102, 255, 1)',\n    //                   'rgba(255, 159, 64, 1)',\n    //                   'rgba(255,99,132,1)',\n    //                   'rgba(54, 162, 235, 1)',\n    //                   'rgba(255, 206, 86, 1)',\n    //                   'rgba(75, 192, 192, 1)',\n    //                   'rgba(153, 102, 255, 1)',\n    //                   'rgba(255, 159, 64, 1)'\n    //               ],\n    //               borderWidth: 1\n    //           }]\n    //       },\n    //       options: {\n    //           scales: {\n    //               yAxes: [{\n    //                   ticks: {\n    //                       beginAtZero:true\n    //                   }\n    //               }]\n    //           }\n    //       }\n    //   });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 268\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"content-wrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 269\n      },\n      __self: this\n    }, React.createElement(\"section\", {\n      className: \"content-header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 270\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 271\n      },\n      __self: this\n    }, \"Dashboard\"))));\n  }\n\n}\n\nexport default AdminContent;","map":{"version":3,"sources":["/home/iassureit/wealthyvia/webApp/admin/src/coreAdmin/dashboard/DashboardNew.js"],"names":["React","Component","render","Link","moment","axios","$","Chart","DashboardCWSBS","SalesTransactionReportDashB","AdminContent","constructor","props","state","allUserData","pieOptions","pieData","dataColumnChart","activeVendor","earningMTD","earningYTD","menuMTD","menuYTD","subUsers","subscrptionData","totalUsers","totalVendor","twelveMonthGrossEarning","componentWillMount","css","display","background","get","then","response","console","log","data","setState","length","packageName","count","pieArray","i","pieArr","push","twelveClrArray","chartArray","role","chartArr","monthYear","earning","catch","error","componentDidMount","title","pieHole","slices","color","legend","position","alignment","textStyle","fontSize","font","tooltip","showColorCode","chartArea","left","top","width","height","fontName","componentWillUnmount","allUserCount","componentDidUpdate"],"mappings":"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","sourcesContent":["import React,{Component}  from 'react';\nimport { render }         from 'react-dom';\nimport {Link}             from 'react-router-dom';\nimport moment             from 'moment';\nimport axios              from 'axios';\nimport $                  from 'jquery';\nimport { Chart }          from \"react-google-charts\";\nimport DashboardCWSBS     from \"../dashboardReports/cafeWiseSeatBookingS/DashboardCWSBS.js\";\nimport SalesTransactionReportDashB from '../dashboardReports/salesTransactionReport/SalesTransactionReportDashB.js';\n\nclass AdminContent extends Component{\n  constructor(props){\n    super(props);\n    this.state = {\n      allUserData     : [],\n      pieOptions      : \"\",\n      pieData         : \"\",\n      dataColumnChart : \"\",\n      activeVendor    : \"\",\n      earningMTD      : \"\",\n      earningYTD      : \"\",\n      menuMTD         : \"\",\n      menuYTD         : \"\",\n      subUsers        : \"\",\n      subscrptionData : [],\n      totalUsers      : \"\",\n      totalVendor     : \"\",\n      twelveMonthGrossEarning:[],\n    };\n  }\n\n  componentWillMount(){\n    $('.sidebar').css({display:'block',background: '#222d32'});\n    \n      axios\n        .get('/api/report/get/dashboard')\n        .then((response)=>{\n          console.log(\"dashboard............>\",response.data);\n           this.setState({\n                activeVendor    : response.data.activeVendor,\n                earningMTD      : response.data.earningMTD,\n                earningYTD      : response.data.earningYTD,\n                menuMTD         : response.data.menuMTD,\n                menuYTD         : response.data.menuYTD,\n                subUsers        : response.data.subUsers,\n                subscrptionData : response.data.subscrptionData,\n                totalUsers      : response.data.totalUsers,\n                totalVendor     : response.data.totalVendor,\n                twelveMonthGrossEarning: response.data.twelveMonthGrossEarning,\n              });\n\n              console.log('this.state.subscrptionData', response.data.subscrptionData.length);\nvar subscrptionData=[{packageName: \"Daily Package\", count: 5},{packageName: \"Weekly Package\", count: 3},{packageName: \"Monthly Package\", count: 5}]\n            \n            var pieArray = [[\"Monthly\", \"Weekly\"]];  \n            for (var i = 0; i < subscrptionData.length; i++) {\n              var pieArr = [subscrptionData[i].packageName , subscrptionData[i].count];\n              pieArray.push(pieArr)\n            }\n // var twelveMonthGrossEarning =[{monthYear: \"Oct\", earning: 100},{monthYear: \"Nov\", earning: 489},{monthYear: \"Dec\", earning: 573},{monthYear: \"Jan\", earning: 710},{monthYear: \"Feb\", earning: 249},{monthYear: \"Mar\", earning: 432},{monthYear: \"Apr\", earning: 685},{monthYear: \"May\", earning: 589},{monthYear: \"Jun\", earning: 729},{monthYear: \"Jul\", earning: 635},{monthYear: \"Aug\", earning: 565},{monthYear: \"Sep\", earning: 900}]\n            var twelveClrArray = [\"#6D78AD\",\"#5CCDA0\",\"#DF7970\",\"#4C9CA0\",\"#AE7D99\",\"#C9D45B\",\"#5592AC\",\"#F4C12E\",\"#CC68DE\",\"#F18230\",\"#79B2F5\",\"#424263\"];\n            var chartArray = [[\"Month\", \"Cost (RS)\", { role: \"style\" }],];  \n            for (var i = 0; i < this.state.twelveMonthGrossEarning.length; i++) {\n              var chartArr = [this.state.twelveMonthGrossEarning[i].monthYear , this.state.twelveMonthGrossEarning[i].earning , twelveClrArray[i]];\n              chartArray.push(chartArr)\n              console.log('chartArray',chartArray );\n            }\n      \n            this.setState({\n                pieData : pieArray,          \n                dataColumnChart : chartArray,          \n              },()=>{\n              console.log('pieData', this.state.pieData);\n              console.log('dataColumnChart', this.state.dataColumnChart);\n              })\n        })\n        .catch(function (error) {\n          console.log(error);\n        })\n  }\n\n  componentDidMount() {\n    const dataColumnChart = [\n      [\"Month\", \"Cost (Lac)\", { role: \"style\" }],\n      [\"#6D78AD\",\"#5CCDA0\",\"#DF7970\",\"#4C9CA0\",\"#AE7D99\",\"#C9D45B\",\"#5592AC\",\"#F4C12E\",\"#CC68DE\",\"#F18230\",\"#79B2F5\",\"#424263\"],\n      // [[\"Jan\", \"Feb\", \"March\",\"Jan\", \"Feb\", \"March\",\"Jan\", \"Feb\", \"March\",\"Jan\", \"Feb\", \"March\"], [1,2,3,4,5,6,7,8,9,10,11,12]]\n    ];\n\n    const pieOptions = {\n      title: \"\",\n      pieHole: 0.6,\n      slices: [\n        {\n          color: \"#6D78AD\"\n        },\n        {\n          color: \"#5CCDA0\"\n        },\n        {\n          color: \"#DF7970\"\n        },\n        {\n          color: \"#e9a227\"\n        }\n      ],\n      legend: {\n        position: \"bottom\",\n        alignment: \"center\",\n        textStyle: {\n          color: \"233238\",\n          fontSize: 14,\n          font: \"montserrat\",\n        }\n      },\n      tooltip: {\n        showColorCode: true\n      },\n      chartArea: {\n        left: 0,\n        top: 20,  \n        width: \"100%\",\n        height: \"80%\"\n      },\n      fontName: \"Roboto\"\n    };\n\n    this.setState({\n      pieOptions      : pieOptions,\n    })\n  }\n\n  componentWillUnmount(){\n    // $(\"script[src='/js/adminLte.js']\").remove();\n    // $(\"link[href='/css/dashboard.css']\").remove();\n    // console.log('wow');\n  }\n\n  allUserCount(){\n    return this.state.allUserData.length;\n  }\n\n  componentDidUpdate(){\n      // const myChartRef = this.chartRef.current.getContext(\"2d\");\n          \n      //     new Chart(myChartRef, {\n      //         type: \"line\",\n      //         data: {\n      //             //Bring in data\n      //             labels: [\"Jan\", \"Feb\", \"March\"],\n      //             datasets: [\n      //                 {\n      //                     label: \"Sales\",\n      //                     data: [86, 67, 91],\n      //                 }\n      //             ]\n      //         },\n      //         options: {\n      //             //Customize chart options\n      //         }\n      //     });\n\n      //   var competitionRegChart = document.getElementById(\"competitionRegChart\").getContext('2d');\n      //   var myChart = new Chart(competitionRegChart, {\n      //       type: 'bar',\n      //       data: {\n      //           // labels: this.state.CompetitionwiseReg.map(function(label,index){return label.competitionName.substring(0,5)}),\n      //           labels: this.state.CompetitionwiseReg.map(function(label,index){return (label.competitionName).substring(0,7)+\"...\"}),\n      //           // labels: this.state.CompetitionwiseReg.map(function(label,index){return (label.competitionName).split(/\\s+/).slice(0,2).join(\" \")+\"...\"}),\n      //           datasets: [{\n      //               label: 'Competition registrations',\n      //               data: this.state.CompetitionwiseReg.map(function(compCnt,index){return compCnt.competitionRegCnt}),\n      //               backgroundColor: [\n      //                   'rgba(255, 99, 132, 0.2)',\n      //                   'rgba(54, 162, 235, 0.2)',\n      //                   'rgba(255, 206, 86, 0.2)',\n      //                   'rgba(75, 192, 192, 0.2)',\n      //                   'rgba(153, 102, 255, 0.2)',\n      //                   'rgba(255, 159, 64, 0.2)',\n      //                   'rgba(255, 99, 132, 0.2)',\n      //                   'rgba(54, 162, 235, 0.2)',\n      //                   'rgba(255, 206, 86, 0.2)',\n      //                   'rgba(75, 192, 192, 0.2)',\n      //                   'rgba(153, 102, 255, 0.2)',\n      //                   'rgba(255, 159, 64, 0.2)'\n      //               ],\n      //               borderColor: [\n      //                   'rgba(255,99,132,1)',\n      //                   'rgba(54, 162, 235, 1)',\n      //                   'rgba(255, 206, 86, 1)',\n      //                   'rgba(75, 192, 192, 1)',\n      //                   'rgba(153, 102, 255, 1)',\n      //                   'rgba(255, 159, 64, 1)',\n      //                   'rgba(255,99,132,1)',\n      //                   'rgba(54, 162, 235, 1)',\n      //                   'rgba(255, 206, 86, 1)',\n      //                   'rgba(75, 192, 192, 1)',\n      //                   'rgba(153, 102, 255, 1)',\n      //                   'rgba(255, 159, 64, 1)'\n      //               ],\n      //               borderWidth: 1\n      //           }]\n      //       },\n      //       options: {\n      //           scales: {\n      //               yAxes: [{\n      //                   ticks: {\n      //                       beginAtZero:true\n      //                   }\n      //               }]\n      //           }\n      //       }\n      //   });\n\n      //   var packagePurchageChart = document.getElementById(\"packagePurchageChart\").getContext('2d');\n      //   var myChart = new Chart(packagePurchageChart, {\n      //       type: 'bar',\n      //       data: {\n      //           labels: this.state.allPackages.map(function(label,index){return (label).substring(0,5)+\"...\"}),\n      //           // labels: this.state.allPackages,\n      //           datasets: [{\n      //               label: 'All Packages',\n      //               data: this.state.PackagesPurchaseCnt,\n      //               backgroundColor: [\n      //                   'rgba(255, 99, 132, 0.2)',\n      //                   'rgba(54, 162, 235, 0.2)',\n      //                   'rgba(255, 206, 86, 0.2)',\n      //                   'rgba(75, 192, 192, 0.2)',\n      //                   'rgba(153, 102, 255, 0.2)',\n      //                   'rgba(255, 159, 64, 0.2)',\n      //                   'rgba(255, 99, 132, 0.2)',\n      //                   'rgba(54, 162, 235, 0.2)',\n      //                   'rgba(255, 206, 86, 0.2)',\n      //                   'rgba(75, 192, 192, 0.2)',\n      //                   'rgba(153, 102, 255, 0.2)',\n      //                   'rgba(255, 159, 64, 0.2)'\n      //               ],\n      //               borderColor: [\n      //                   'rgba(255,99,132,1)',\n      //                   'rgba(54, 162, 235, 1)',\n      //                   'rgba(255, 206, 86, 1)',\n      //                   'rgba(75, 192, 192, 1)',\n      //                   'rgba(153, 102, 255, 1)',\n      //                   'rgba(255, 159, 64, 1)',\n      //                   'rgba(255,99,132,1)',\n      //                   'rgba(54, 162, 235, 1)',\n      //                   'rgba(255, 206, 86, 1)',\n      //                   'rgba(75, 192, 192, 1)',\n      //                   'rgba(153, 102, 255, 1)',\n      //                   'rgba(255, 159, 64, 1)'\n      //               ],\n      //               borderWidth: 1\n      //           }]\n      //       },\n      //       options: {\n      //           scales: {\n      //               yAxes: [{\n      //                   ticks: {\n      //                       beginAtZero:true\n      //                   }\n      //               }]\n      //           }\n      //       }\n      //   });\n  }\n  render(){\n\n    return(\n      <div>\n        <div className=\"content-wrapper\">\n          <section className=\"content-header\">\n            <h1>Dashboard</h1>\n            {/*<ol className=\"breadcrumb\"></ol>*/}\n            \n          </section>\n     {/*     <section className=\"content\">\n            <div className=\"row\">\n              <div className=\"col-lg-3 col-md-3 col-sm-6 col-xs-12\">\n                <div className=\"info-box\">\n                  <span className=\"info-box-icon bg-orange\">\n                    <i className=\"fa fa-users\"></i>\n                  </span>\n                  <div className=\"info-box-content\">\n                    <span className=\"info-box-number\">Users<small></small></span>\n                    <span className=\"info-box-text\">\n                      Total&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>{this.state.totalUsers}</b>\n                    </span>\n                    <span className=\"info-box-text\">\n                      Subscribed&nbsp;&nbsp;&nbsp;&nbsp;<b>{this.state.subUsers}</b>\n                    </span>\n                  </div>\n                </div>\n              </div>\n              <div className=\"col-lg-3 col-md-3 col-sm-4 col-xs-12\">\n                <div className=\"info-box\">\n                  <span className=\"info-box-icon bg-aqua\">\n                    <i className=\"fa fa-users\" />\n                  </span>\n                  <div className=\"info-box-content\">\n                    <span className=\"info-box-number\">Vendors<small></small></span>\n                    <span className=\"info-box-text\">\n                      Total&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>{this.state.totalVendor}</b>\n                    </span>\n                    <span className=\"info-box-text\">\n                      Active&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>{this.state.activeVendor}</b>\n                    </span>\n                  </div>\n                </div>\n              </div>\n              <div className=\"col-lg-3 col-md-3 col-sm-6 col-xs-12\">\n                <div className=\"info-box\">\n                  <span className=\"info-box-icon bg-red\">\n                    <i className=\"fa fa-rupee\" />\n                  </span>\n                  <div className=\"info-box-content\">\n                    <span className=\"info-box-number\">Total Earning<small></small></span>\n                    <span className=\"info-box-text\">\n                      YTD&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>{this.state.earningYTD} <i className=\"fa fa-rupee\"></i></b>\n                    </span>\n                    <span className=\"info-box-text\">\n                      MTD&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>{this.state.earningMTD} <i className=\"fa fa-rupee\"></i></b>\n                    </span>\n                  </div>\n                </div>\n              </div>\n              <div className=\"col-lg-3 col-md-3 col-sm-6 col-xs-12\">\n                <div className=\"info-box\">\n                  <span className=\"info-box-icon bg-green\">\n                    <i className=\"fa fa-bars\"></i>\n                  </span>\n                  <div className=\"info-box-content\">\n                    <span className=\"info-box-number\">Menu Orders<small></small></span>\n                    <span className=\"info-box-text\">\n                      YTD&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>{this.state.menuYTD}</b>\n                    </span>\n                    <span className=\"info-box-text\">\n                      MTD&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>{this.state.menuMTD}</b>\n                    </span>\n                  </div>\n                </div>\n              </div>              \n            </div>\n\n            <div className=\"row\">\n              <div className=\"col-lg-8 col-md-8 col-sm-6 col-xs-12 graphWrapper\">\n                <div className=\"col-lg-12 col-md-12 col-sm-12 innerGraphWrap\">\n                  <h4>Gross Earning <i className=\"fnt12\">(Last 12 months)</i></h4>\n                  {this.state.dataColumnChart!==\"\" ?\n                  <div className=\"newCssBar\">\n                  <Chart\n                      chartType=\"ColumnChart\"\n                      data={this.state.dataColumnChart}\n                      width=\"100%\"\n                      height=\"300px\"\n                      legendToggle\n                    />\n                    </div>\n                    :\n                    <div>\n                        <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 text-center bgImgWt\">\n                          <img src=\"/images/cofficLoader.gif\" alt=\"Logo_img\" height=\"21%\" width=\"21%\" className=\"imgHt\"/>\n                        </div>\n                    </div>\n                  }\n                </div>\n              </div> \n              <div className=\"col-lg-4 col-md-4 col-sm-6 col-xs-12 row graphWrapper\">\n                <div className=\"col-lg-12 col-md-12 col-sm-12 row innerGraphWrap\">\n                  <h4>Subscription Details <i className=\"fnt12\">(Last 12 months)</i></h4>\n                  {this.state.pieData!==\"\" ?\n                  <div className=\"col-lg-12 col-md-12 col-sm-12 newCssPie innerGraphWrap\">\n                      {console.log(\"1234\",this.state.pieData)}\n                      <Chart\n                        chartType=\"PieChart\"\n                        data={this.state.pieData}\n                        options={this.state.pieOptions}\n                        graph_id=\"PieChart\"\n                        width={\"100%\"}\n                        height={\"230px\"}\n                        legend_toggle\n                      />\n                  </div>\n                    :\n                    <div>\n                      <div className=\"col-lg-12 col-md-12 col-sm-12 row text-center \">\n                        <img src=\"/images/cofficLoader.gif\" alt=\"Logo_img\" height=\"50%\" width=\"50%\" className=\"imgHt\"/>\n                      </div>\n                    </div>\n                  }\n                </div>\n              </div>\n            </div>\n            <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 dashboardDivider\"></div>\n            <div className=\"row\">\n              <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12  boxWrapDashboard graphWrapperTab\">\n                <div className=\"col-lg-12 col-md-12 col-sm-12 innerGraphWrap innerGraphWraptbl tableClrPdg\" >\n                  <h4>Cafewise current check-ins and check-outs <i className=\"fnt12b\"><Link to=\"/dashboard/allCafeUsersSeatBooking\">(See More)</Link></i></h4>\n                </div>\n              </div>\n            </div>\n            <div className=\"row\">\n              <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12  boxWrapDashboard graphWrapperTab\">\n                <div className=\"col-lg-12 col-md-12 col-sm-12 innerGraphWrap innerGraphWraptbl tableClrPdg\" style={{padding:\"0px 0px\"}}>\n                  <h4 style={{padding:\"0px 15px\"}}>Latest Active Subscriptions <i className=\"fnt12b\"><Link to=\"/dashboard/salesTransactionReport\">(See More)</Link></i></h4>\n                  <SalesTransactionReportDashB/>\n                </div>\n              </div>              \n              <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12  boxWrapDashboard graphWrapperTab\">\n                <div className=\"col-lg-12 col-md-12 col-sm-12 innerGraphWrap innerGraphWraptbl tableClrPdg\" style={{padding:\"0px 0px\"}}>\n                  <h4 style={{padding:\"0px 15px\"}}>Cafewise Seat Booking <i className=\"fnt12b\"><Link to=\"/dashboard/cafeWiseSeatBookingSummary\">(See More)</Link></i></h4>\n                  <DashboardCWSBS />\n                </div>\n              </div>\n            \n            </div>\n          </section>*/}\n        </div>\n      </div>\n    );\n  }\n}\nexport default AdminContent;"]},"metadata":{},"sourceType":"module"}